<!-- build time:Mon Feb 10 2025 22:46:08 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><script src="http://echarts.baidu.com/dist/echarts.common.min.js"></script><script src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js"></script><script src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/map/js/china.min.js"></script><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="yandex-verification" content="fadb7324b0f3dbe2"><link rel="alternate" type="application/rss+xml" title="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ." href="https://flechazoclf.github.io/FlechazoCLF.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ." href="https://flechazoclf.github.io/FlechazoCLF.github.io/atom.xml"><link rel="alternate" type="application/json" title="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ." href="https://flechazoclf.github.io/FlechazoCLF.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="AUTOSAR,åµŒå…¥å¼,è½¯ä»¶å¼€å‘"><link rel="canonical" href="https://flechazoclf.github.io/FlechazoCLF.github.io/archives/e0c2534f.html"><title>å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement - AUTOSAR - æŠ€æœ¯æ•™ç¨‹ğŸƒ | flechazo = æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ . = æœ‰å¹¸æ¥åˆ°äººé—´çš„æ—…äºº</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2024-05-03 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2024-05-03T00:00:00+08:00">2024-05-03</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">flechazo</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="/archives/e0c2534f.html../../../wallpaper/7.png"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope="" itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a href="/categories/technique/" itemprop="item" rel="index" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ"><span itemprop="name">æŠ€æœ¯æ•™ç¨‹ğŸƒ</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a href="/categories/technique/AUTOSAR/" itemprop="item" rel="index" title="åˆ†ç±»äº AUTOSAR"><span itemprop="name">AUTOSAR</span></a><meta itemprop="position" content="2"></span></div><article itemscope="" itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://flechazoclf.github.io/FlechazoCLF.github.io/archives/e0c2534f.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="flechazo"><meta itemprop="description" content="æœ‰å¹¸æ¥åˆ°äººé—´çš„æ—…äºº, æˆ‘åœ¨äººé—´è´©å–æ˜Ÿå…‰"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ."></span><div class="body md" itemprop="articleBody"><p></p><div class="links"><div class="item" title="ã€çŸ¥ä¹ã€‘flechazo" style="--block-color:#21d4fd"><span class="exturl image" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9qaXVfc2hlbmc=" data-background-image="https://foruda.gitee.com/avatar/1680342439464493317/9010997_flechazo5201314_1680342439.png!avatar200"></span><div class="info"><span class="exturl title" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9qaXVfc2hlbmc=">ã€çŸ¥ä¹ã€‘flechazo</span><p class="desc">https://www.zhihu.com/people/jiu_sheng</p></div></div></div><p></p><p></p><div class="links"><div class="item" title="ã€CSDNã€‘å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•" style="--block-color:#21d4fd"><span class="exturl image" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FpYW5zaGFuZzUyMDEzL2FydGljbGUvZGV0YWlscy8xMzgxNDAyMzU/c3BtPTEwMDEuMjAxNC4zMDAxLjU1MDE=" data-background-image="https://foruda.gitee.com/avatar/1680342439464493317/9010997_flechazo5201314_1680342439.png!avatar200"></span><div class="info"><span class="exturl title" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FpYW5zaGFuZzUyMDEzL2FydGljbGUvZGV0YWlscy8xMzgxNDAyMzU/c3BtPTEwMDEuMjAxNC4zMDAxLjU1MDE=">ã€CSDNã€‘å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•</span><p class="desc">https://blog.csdn.net/qianshang52013/article/details/138140235?spm=1001.2014.3001.5501</p></div></div></div><p></p><p>Autosar ç³»åˆ—æ•™ç¨‹ï¼š<span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpBeE9ETTJOVFEwTnc9PSZhbXA7bWlkPTIyNDc0OTIzMjYmYW1wO2lkeD0xJmFtcDtzbj1kNDdhYWM4YTE4MWJkZjM0NGNmMzJhOThmNzAxMjkyNyZhbXA7Y2hrc209OWJkNWNmOGVhY2EyNDY5ODgyMzcxZTEyOTY5Yzc3NzdiMDY1NGRiMGE3MDVlNWE1ZDNkZGFmNjRjODk5ZjhmYzUyYmRhNTM4MzczMiZhbXA7cGF5cmVhZHRpY2tldD1IQjBaZE1Tc3RNVmVRVXF2RkdBb2E1U2Q3Mnk2bzJOb192OF9PLUhsaXRxMHBaOWcxVzFablBrbmwwQmJySGZZajcxeUtkZyNyZA==">å°æŸ´å¸¦ä½ å­¦ AutoSar æ€»ç›®å½•</span></p><h1 id="å°æŸ´å¸¦ä½ å­¦autosarç³»åˆ—ä¸‰-æ ‡å‡†å’Œè§„èŒƒç¯‡5communicationmanagement"><a class="anchor" href="#å°æŸ´å¸¦ä½ å­¦autosarç³»åˆ—ä¸‰-æ ‡å‡†å’Œè§„èŒƒç¯‡5communicationmanagement">#</a> å°æŸ´å¸¦ä½ å­¦ AutoSar ç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement</h1><hr><h1 id="ä¸€-networkmanagement"><a class="anchor" href="#ä¸€-networkmanagement">#</a> ä¸€ã€NetworkManagement</h1><h1 id="1-scope-of-document"><a class="anchor" href="#1-scope-of-document">#</a> <strong>1 Scope of Document</strong></h1><blockquote><p>This document specifies requirements on the AUTOSAR Network Management.</p></blockquote><p>æœ¬æ–‡æ¡£æŒ‡å®šäº†å¯¹ AUTOSAR ç½‘ç»œç®¡ç†çš„è¦æ±‚ã€‚</p><blockquote><p>The requirements apply on following functional entities:</p><ul><li>Network Management coordinating a particular Nm-cluster.</li><li>Network Management bus specifics for a particular bus.</li><li>Gateway and Interoperability of Network Management between Nm-clusters.</li></ul></blockquote><p>è¿™äº›è¦æ±‚é€‚ç”¨äºä¸‹åˆ—èŒèƒ½å®ä½“:</p><ul><li>ç½‘ç»œç®¡ç†ï¼Œåè°ƒç‰¹å®šçš„ Nm é›†ç¾¤ã€‚</li><li>ç‰¹å®šæ€»çº¿çš„ç½‘ç»œç®¡ç†æ€»çº¿å…·ä½“ä¿¡æ¯ã€‚</li><li>ç½‘å…³ä¸ Nm é›†ç¾¤é—´ç½‘ç»œç®¡ç†çš„äº’æ“ä½œæ€§ã€‚</li></ul><blockquote><p>The communication system where Nm is applicable has to support a â€œbus sleepâ€ mode. That means that the transceiver of the communication system can switch to a low power mode and can be switched again to full power mode by (specific) bus traffic and/or application.</p></blockquote><p>Nm é€‚ç”¨çš„é€šä¿¡ç³»ç»Ÿå¿…é¡»æ”¯æŒ â€œæ€»çº¿ç¡çœ â€ æ¨¡å¼ï¼Œè¿™æ„å‘³ç€é€šä¿¡ç³»ç»Ÿçš„æ”¶å‘å™¨å¯ä»¥åˆ‡æ¢æˆä½åŠŸç‡æ¨¡å¼ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ (ç‰¹å®šçš„) æ€»çº¿é€šä¿¡å’Œ / æˆ–åº”ç”¨ç¨‹åºå†æ¬¡åˆ‡æ¢æˆå…¨åŠŸç‡æ¨¡å¼ã€‚</p><h1 id="4-use-cases"><a class="anchor" href="#4-use-cases">#</a> <strong>4 Use Cases</strong></h1><p><img data-src="../../../img.assets/24-11-04%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%885%EF%BC%89CommunicationManagement/image-20241104205912292.png" alt="image-20241104205912292"></p><table><thead><tr><th><strong>ID</strong></th><th><strong>Name</strong></th><th><strong>Description</strong></th><th>æè¿°</th></tr></thead><tbody><tr><td>0001</td><td>Synchronous Shutdown</td><td>If there is no communication need in a Nm cluster, the Nm protocol ensures that all Nm nodes synchronously enter sleep mode.</td><td>å¦‚æœ Nm é›†ç¾¤ä¸­æ²¡æœ‰é€šä¿¡éœ€æ±‚ï¼ŒNm åè®®å¯ä»¥ç¡®ä¿æ‰€æœ‰ Nm èŠ‚ç‚¹åŒæ­¥è¿›å…¥ä¼‘çœ æ¨¡å¼ã€‚</td></tr><tr><td>0002</td><td>Sub-networks Synchronous Shutdown</td><td>Support the coordinated shutdown of multiple sub-networks. This can be considered as an extension of the synchronous shutdown use case with the objective of synchronously shutting down multiple Nm clusters.</td><td>æ”¯æŒå¤šä¸ªå­ç½‘ç»œçš„åè°ƒå…³é—­ã€‚è¿™å¯ä»¥è¢«è®¤ä¸ºæ˜¯åŒæ­¥å…³é—­ç”¨ä¾‹çš„æ‰©å±•ï¼Œå…¶ç›®çš„æ˜¯åŒæ­¥å…³é—­å¤šä¸ª Nm é›†ç¾¤ã€‚</td></tr><tr><td>0003</td><td>Keep Nm Cluster Awake</td><td>If at least one Nm node in a Nm cluster needs communication, the Nm protocol ensures that all required Nm nodes remain awake.</td><td>å¦‚æœ Nm é›†ç¾¤ä¸­è‡³å°‘æœ‰ä¸€ä¸ª Nm èŠ‚ç‚¹éœ€è¦é€šä¿¡ï¼ŒNm åè®®ç¡®ä¿æ‰€æœ‰æ‰€éœ€çš„ Nm èŠ‚ç‚¹ä¿æŒæ¸…é†’ã€‚</td></tr><tr><td>0004</td><td>Partial Network</td><td>Support of partial network by defining communication/function domains to allow for turning off network communication across multiple ECUs in case their provided functions are not required under certain conditions. Other ECUs can continue to communicate on the same bus channels. Additionally use Nm messages to communicate the request/release information of a partial network cluster between the participating ECUs.</td><td>é€šè¿‡å®šä¹‰éƒ¨åˆ†ç½‘ç»œæ¥æ”¯æŒé€šä¿¡ / åŠŸèƒ½åŸŸï¼Œä»¥ä¾¿åœ¨ç‰¹å®šæ¡ä»¶ä¸‹ä¸éœ€è¦æŸäº› ECU æä¾›çš„åŠŸèƒ½æ—¶å…³é—­è·¨å¤šä¸ª ECU çš„ç½‘ç»œé€šä¿¡ã€‚å…¶ä»– ECU å¯ä»¥åœ¨ç›¸åŒçš„æ€»çº¿é€šé“ä¸Šç»§ç»­é€šä¿¡ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ Nm æ¶ˆæ¯åœ¨å‚ä¸ ECU ä¹‹é—´é€šä¿¡éƒ¨åˆ†ç½‘ç»œç°‡çš„è¯·æ±‚ / é‡Šæ”¾ä¿¡æ¯ã€‚</td></tr><tr><td>0005</td><td>Passive Mode</td><td>Nm node configured as Passive node is not able to initiate a start-up of a Nm cluster, however is able to be woken up if any other node initiates a start up. This eliminates unnecessary communication and reduces bus and buffer overhead. Allowing shutdown to be controlled by a subset of the clusterâ€™s nodes enables the possibility that only fault tolerant nodes control shutdown.</td><td>é…ç½®ä¸ºè¢«åŠ¨èŠ‚ç‚¹çš„ Nm èŠ‚ç‚¹æ— æ³•å¯åŠ¨ Nm é›†ç¾¤çš„å¯åŠ¨ï¼Œä½†å¦‚æœä»»ä½•å…¶ä»–èŠ‚ç‚¹å¯åŠ¨å¯åŠ¨ï¼Œåˆ™èƒ½å¤Ÿè¢«å”¤é†’ã€‚è¿™æ¶ˆé™¤äº†ä¸å¿…è¦çš„é€šä¿¡å¹¶å‡å°‘äº†æ€»çº¿å’Œç¼“å†²åŒºå¼€é”€ã€‚å…è®¸ç”±é›†ç¾¤çš„èŠ‚ç‚¹å­é›†æ§åˆ¶å…³é—­ï¼Œä½¿å¾—åªæœ‰å®¹é”™èŠ‚ç‚¹æ§åˆ¶å…³é—­æˆä¸ºå¯èƒ½ã€‚</td></tr><tr><td>0006</td><td>Partial Network Gateway</td><td>Since partial networks span over multiple buses, the network management protocol defines how the partial network information shall be gateway-ed between these buses, i.e. it shall be possible to forward request/release information to sub-networks thereby allowing gateway ECUs to act â€œon-behalfâ€œ of the original partial network requestor ECU.</td><td>ç”±äºéƒ¨åˆ†ç½‘ç»œè·¨è¶Šå¤šä¸ªæ€»çº¿ï¼Œç½‘ç»œç®¡ç†åè®®å®šä¹‰äº†å¦‚ä½•å°†éƒ¨åˆ†ç½‘ç»œä¿¡æ¯åœ¨è¿™äº›æ€»çº¿ä¹‹é—´è¿›è¡Œç½‘å…³ä¼ è¾“ï¼Œå³å¯ä»¥å°†è¯·æ±‚ / é‡Šæ”¾ä¿¡æ¯è½¬å‘åˆ°å­ç½‘ç»œï¼Œä»è€Œå…è®¸ç½‘å…³ ECU â€œä»£è¡¨â€ åŸå§‹éƒ¨åˆ†ç½‘ç»œè¯·æ±‚è€… ECU è¿›è¡Œæ“ä½œã€‚</td></tr><tr><td>0007</td><td>FlexRay Nm</td><td>Support the specific characteristics of the FlexRay bus and its HW Nm vector support. The network management protocol shall support alternatives for the FlexRay bus where the Network Management Vector of the FlexRay protocol specification can be used.</td><td>æ”¯æŒ FlexRay æ€»çº¿åŠå…¶ HW Nm å‘é‡çš„å…·ä½“ç‰¹æ€§ã€‚ç½‘ç»œç®¡ç†åè®®åº”æ”¯æŒ FlexRay åè®®è§„èŒƒçš„ç½‘ç»œç®¡ç†å‘é‡å¯ç”¨äº FlexRay æ€»çº¿çš„æ›¿ä»£æ–¹æ¡ˆã€‚</td></tr></tbody></table><h1 id="5-requirements-specification"><a class="anchor" href="#5-requirements-specification">#</a> <strong>5 Requirements Specification</strong></h1><h2 id="51-functional-requirements"><a class="anchor" href="#51-functional-requirements">#</a> <strong>5.1</strong> <strong>Functional Requirements</strong></h2><h3 id="511-configuration"><a class="anchor" href="#511-configuration">#</a> <strong>5.1.1</strong> <strong>Configuration</strong></h3><blockquote><p><strong>[RS_Nm_00150] Specific features of the Network Management shall be configurable</strong></p><p>The following features of the Network Management shall be configurable:</p><ul><li>Detection of present nodes â€“ [RS_Nm_00153]</li><li>Notification that all other ECUs are (no more) ready to sleep (i.e. Remote Sleep Indication (Cancellation)) â€“ [RS_Nm_00052], [RS_Nm_02509]</li><li>Nm Coordination support â€“ [RS_Nm_02514]</li><li>User data support â€“ [RS_Nm_02503], [RS_Nm_02504]</li><li>Bus load reduction â€“ [RS_Nm_00142]</li><li>Sending node identifier â€“ [RS_Nm_02505]</li><li>Receiving node identifier â€“ [RS_Nm_02506]</li><li>Immediate Transmission Confirmation</li><li>Configurable Role In Cluster Shutdown â€“ [RS_Nm_02511]</li><li>Bus Keep Awake Services â€“ [RS_Nm_00047]</li><li>Partial Networking extensions â€“ [RS_Nm_02517]</li><li>Dynamic PNC Mapping â€“ [RS_Nm_02547]</li><li>Synchronized PNC shutdown â€“ [RS_Nm_02548]</li></ul></blockquote><p>è¿™äº›æ˜¯å¯é…ç½®çš„ï¼š</p><ul><li>æ£€æµ‹å½“å‰èŠ‚ç‚¹ -[RS_Nm_00153]</li><li>é€šçŸ¥æ‰€æœ‰å…¶ä»– ECU å·² (ä¸å†) å‡†å¤‡å¥½è¿›å…¥ç¡çœ çŠ¶æ€ (å³è¿œç¨‹ç¡çœ æŒ‡ç¤º (å–æ¶ˆ))-[RS_Nm00052]ï¼Œ[RS_Nm_02509]</li><li>Nm åè°ƒæ”¯æŒ -[RS_Nm02514]</li><li>ç”¨æˆ·æ•°æ®æ”¯æŒ -[RS_Nm_02503]ï¼Œ[RS_Nm_02504]</li><li>æ€»çº¿è´Ÿè½½å‡å°‘ -[RSNm00142]</li><li>å‘é€èŠ‚ç‚¹æ ‡è¯†ç¬¦ -[RSNm02505]</li><li>æ¥æ”¶èŠ‚ç‚¹æ ‡è¯†ç¬¦ -[RS_Nm_02506]</li><li>å³æ—¶ä¼ è¾“ç¡®è®¤</li><li>é›†ç¾¤å…³é—­ä¸­çš„å¯é…ç½®è§’è‰² -[RS_Nm_02511]</li><li>æ€»çº¿ä¿æŒå”¤é†’æœåŠ¡ -[RS_Nm_00047]</li><li>éƒ¨åˆ†ç½‘ç»œæ‰©å±• -[RSNm 02517]</li><li>åŠ¨æ€ PNC æ˜ å°„ -[RS Nm 02547]</li><li>åŒæ­¥ PNC å…³æœº -[RS_Nm_02548]</li></ul><h3 id="512-initialization"><a class="anchor" href="#512-initialization">#</a> <strong>5.1.2</strong> <strong>Initialization</strong></h3><blockquote><p><strong>[RS_Nm_00151] The Network Management algorithm shall allow any node to integrate into an already running Nm cluster</strong></p></blockquote><p>ç½‘ç»œç®¡ç†ç®—æ³•åº”å…è®¸ä»»ä½•èŠ‚ç‚¹é›†æˆåˆ°å·²ç»è¿è¡Œçš„ Nm é›†ç¾¤ä¸­</p><blockquote><p>Integration of</p><p>a) Late nodes</p><p>b) nodes that have recovered from fault state</p><p>c) nodes that have been connected to a running vehicle network (e.g. by service)</p></blockquote><blockquote><p><strong>[RS_Nm_00043] Nm shall not prohibit bus traffic with Nm not being initialized</strong></p></blockquote><p>ä¸ç®¡æœ‰æ²¡æœ‰åˆå§‹åŒ–éƒ½è¦å…è®¸æ€»çº¿é€šä¿¡</p><h3 id="513-normal-operation"><a class="anchor" href="#513-normal-operation">#</a> <strong>5.1.3</strong> <strong>Normal Operation</strong></h3><blockquote><p><strong>[RS_Nm_00044] The Nm shall be applicable to different types of communication systems which are in the scope of AUTOSAR and support a bus sleep mode.</strong></p><p>Network management mechanisms for each supported protocol shall be realized using a limited number of predefined Nm states and Nm transitions. The events triggering the transitions between states and the actions taken on these transitions may be protocol specific. A bus sleep mode shall be supported for each protocol. Nm shall be executable on asynchronous communication systems (e.g. CAN) as well as on synchronous communication systems (e.g. FlexRay), and also on any other types of communication systems which are in the scope of AUTOSAR</p></blockquote><p>æ¯ä¸ªå—æ”¯æŒåè®®çš„ç½‘ç»œç®¡ç†æœºåˆ¶åº”ä½¿ç”¨æœ‰é™æ•°é‡çš„é¢„å®šä¹‰ Nm çŠ¶æ€å’Œ Nm è½¬æ¢æ¥å®ç°ã€‚è§¦å‘çŠ¶æ€ä¹‹é—´è½¬æ¢çš„äº‹ä»¶ä»¥åŠå¯¹è¿™äº›è½¬æ¢æ‰§è¡Œçš„æ“ä½œå¯èƒ½æ˜¯ç‰¹å®šäºåè®®çš„ã€‚æ¯ä¸ªåè®®éƒ½åº”æ”¯æŒæ€»çº¿ä¼‘çœ æ¨¡å¼ã€‚Nm åº”åœ¨å¼‚æ­¥é€šä¿¡ç³»ç»Ÿï¼ˆä¾‹å¦‚ CANï¼‰å’ŒåŒæ­¥é€šä¿¡ç³»ç»Ÿï¼ˆä¾‹å¦‚ FlexRayï¼‰ä»¥åŠ AUTOSAR èŒƒå›´å†…çš„ä»»ä½•å…¶ä»–ç±»å‹çš„é€šä¿¡ç³»ç»Ÿä¸Šæ‰§è¡Œ</p><blockquote><p><strong>[RS_Nm_02515] Nm shall offer a generic possibility to run other Nms than the AUTOSAR-Nms</strong></p></blockquote><p>å°±æ˜¯æä¸€äº›æ¥å£</p><blockquote><p><strong>[RS_Nm_00045] Nm shall provide services to coordinate shutdown of Nmclusters independently of each other</strong></p></blockquote><p>Nm åº”æä¾›æœåŠ¡ä»¥åè°ƒå½¼æ­¤ç‹¬ç«‹çš„ Nm clusters NM é›†ç¾¤çš„å…³é—­</p><blockquote><p>In todayâ€™s cars, multiple different communication systems are implemented.</p></blockquote><p>åœ¨å½“ä»Šçš„æ±½è½¦ä¸­ï¼Œå®æ–½äº†å¤šç§ä¸åŒçš„é€šä¿¡ç³»ç»Ÿã€‚</p><blockquote><p>Therefore, ECUs might be connected to multiple communication channels (e.g. 2 CAN clusters, 1 FlexRay cluster, etc.).</p></blockquote><p>å› æ­¤ï¼ŒECU å¯èƒ½è¿æ¥åˆ°å¤šä¸ªé€šä¿¡é€šé“ï¼ˆä¾‹å¦‚ 2 ä¸ª CAN é›†ç¾¤ã€1 ä¸ª FlexRay é›†ç¾¤ç­‰ï¼‰ã€‚</p><blockquote><p>Not in all cases all channels have to be in full power mode. Because of that, each channel has to be able to be started up or shut down separately.</p></blockquote><p>å¹¶éåœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œæ‰€æœ‰é€šé“éƒ½å¿…é¡»å¤„äºå…¨åŠŸç‡æ¨¡å¼ã€‚å› æ­¤ï¼Œæ¯ä¸ªé€šé“éƒ½å¿…é¡»èƒ½å¤Ÿå•ç‹¬å¯åŠ¨æˆ–å…³é—­ã€‚</p><blockquote><p><strong>[RS_Nm_02513] Nm shall provide functionality which enables upper layers to control the sleep mode.</strong></p></blockquote><p>ç»™ä¸Šå±‚æä¾›æ¥å£æ¥æ§åˆ¶ç¡çœ  / å”¤é†’</p><blockquote><p><strong>[RS_Nm_00046] It shall be possible to trigger the startup of all Nodes at any Point in Time</strong></p></blockquote><p>ä»»ä½•æ—¶é—´ç‚¹éƒ½å¯ä»¥è§¦å‘æ‰€æœ‰èŠ‚ç‚¹çš„å¯åŠ¨</p><blockquote><p>At a specific point in time all nodes connected to Nm-cluster have to be started-up (e.g. if the car is started). Because of that Nm has to provide services to start up Nm of all nodes connected to a Nm-cluster at any point in time.</p></blockquote><p>åœ¨ç‰¹å®šæ—¶é—´ç‚¹ï¼Œæ‰€æœ‰è¿æ¥åˆ° Nm-cluster çš„èŠ‚ç‚¹éƒ½å¿…é¡»å¯åŠ¨ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ±½è½¦å·²å¯åŠ¨ï¼‰ã€‚å› æ­¤ï¼ŒNm å¿…é¡»æä¾›æœåŠ¡ä»¥åœ¨ä»»ä½•æ—¶é—´ç‚¹å¯åŠ¨è¿æ¥åˆ° Nm é›†ç¾¤çš„æ‰€æœ‰èŠ‚ç‚¹çš„ Nmã€‚</p><blockquote><p>The point in time can not be calculated offline, therefore this service has to be accessible at any time.</p><p>Note regarding FlexRay networks: Under certain circumstances, a shutdown may be required before a startup can occur. In this situation substantial delays may occur.</p></blockquote><p>æ—¶é—´ç‚¹æ— æ³•ç¦»çº¿è®¡ç®—ï¼Œå› æ­¤å¿…é¡»éšæ—¶è®¿é—®æ­¤æœåŠ¡ã€‚</p><p>å…³äº FlexRay ç½‘ç»œçš„æ³¨æ„äº‹é¡¹ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å…ˆå…³é—­æ‰èƒ½å¯åŠ¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°é‡å¤§å»¶è¯¯ã€‚</p><blockquote><p>All nodes means all nodes connected to clamp 30 (nodes permanently connected to power supply). ECUs connected to clamp 15 (nodes power supplied through some power relay) have to be treated separately, due to the fact that they cannot be started-up at any point in time.</p></blockquote><p>æ‰€æœ‰èŠ‚ç‚¹æ˜¯æŒ‡è¿æ¥åˆ° clamp 30 çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆæ°¸ä¹…è¿æ¥åˆ°ç”µæºçš„èŠ‚ç‚¹ï¼‰ã€‚</p><p>è¿æ¥åˆ° clamp 15 çš„ ECU ï¼ˆèŠ‚ç‚¹é€šè¿‡æŸä¸ªåŠŸç‡ç»§ç”µå™¨ä¾›ç”µï¼‰ å¿…é¡»å•ç‹¬å¤„ç†ï¼Œå› ä¸ºå®ƒä»¬æ— æ³•åœ¨ä»»æ„æ—¶é—´ç‚¹å¯åŠ¨ã€‚</p><blockquote><p>Note: "Passive Nodes" are not able to initiate a start-up of a Nm-cluster, but they are able to be woken up if any other node initiates a start-up. Please refer [RS_Nm_02511]</p></blockquote><p>æ³¨æ„ï¼šâ€œè¢«åŠ¨èŠ‚ç‚¹â€ æ— æ³•å¯åŠ¨ Nm é›†ç¾¤ï¼Œä½†å¦‚æœä»»ä½•å…¶ä»–èŠ‚ç‚¹å¯åŠ¨å¯åŠ¨ï¼Œå®ƒä»¬å¯ä»¥è¢«å”¤é†’ã€‚è¯·å‚è€ƒ [RS_Nm_02511]</p><blockquote><p><strong>[RS_Nm_00047] Nm shall provide a service to request to keep the bus awake and a service to cancel this request.</strong></p></blockquote><p>Nm åº”æä¾›è¯·æ±‚ä¿æŒæ€»çº¿å”¤é†’çš„æœåŠ¡ï¼Œå¹¶æä¾›å–æ¶ˆæ­¤è¯·æ±‚çš„æœåŠ¡ã€‚</p><blockquote><p><strong>[RS_Nm_00048] Nm shall put the communication controller into sleep mode if there is no bus communication</strong></p></blockquote><p>å¦‚æœæ²¡æœ‰æ€»çº¿é€šä¿¡ï¼ŒNm åº”å°†é€šä¿¡æ§åˆ¶å™¨ç½®äºç¡çœ æ¨¡å¼</p><blockquote><p><strong>[RS_Nm_00050] The Nm shall provide the current state of Nm</strong></p></blockquote><p>åº”ç”¨ç¨‹åºåº”èƒ½å¤Ÿé€šè¿‡è®¿é—® Nm çš„ç‰¹å®šæ¥å£æ¥è·å– Nm çŠ¶æ€ä¿¡æ¯ã€‚Nm çŠ¶æ€åæ˜ äº†æ€»çº¿çš„çŠ¶æ€ã€‚</p><blockquote><p><strong>[RS_Nm_00051] Nm shall inform application when Nm state changes occur.</strong></p></blockquote><p>Nm åº”æä¾›ä¸€ä¸ªæ¥å£ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨è¯¥æ¥å£åœ¨å‘ç”Ÿç‰¹å®š Nm çŠ¶æ€æ›´æ”¹æ—¶è·å¾—é€šçŸ¥ã€‚</p><blockquote><p><strong>[RS_Nm_00052] The Nm interface shall signal to the application that all other ECUs are ready to sleep.</strong></p></blockquote><p>Nm æ¥å£åº”å‘åº”ç”¨ç¨‹åºå‘å‡ºä¿¡å·ï¼Œè¡¨æ˜æ‰€æœ‰å…¶ä»– ECU éƒ½å·²å‡†å¤‡å¥½ä¼‘çœ ã€‚</p><blockquote><p><strong>[RS_Nm_02509] The Nm interface shall signal to the application that at least one ECU is not ready to sleep anymore.</strong></p></blockquote><p>Nm æ¥å£åº”å‘åº”ç”¨ç¨‹åºå‘å‡ºä¿¡å·ï¼Œè¡¨æ˜è‡³å°‘æœ‰ä¸€ä¸ª ECU æ²¡å‡†å¤‡å¥½ä¼‘çœ ã€‚</p><blockquote><p><strong>[RS_Nm_02503] The Nm API shall optionally give the possibility to send user data</strong></p><p><strong>[RS_Nm_02504] The Nm API shall optionally give the possibility to get user data</strong></p></blockquote><p>Nm API å¯ä»¥é€‰æ‹©è®¾ç½®å¯ä»¥é™„åŠ åˆ°æ€»çº¿ä¸Šå‘é€ / è·å–çš„æ¯æ¡ Nm æ¶ˆæ¯çš„ç”¨æˆ·æ•°æ®ã€‚Nm åº”ä¿è¯å†™å…¥ / è¯»å–æ“ä½œçš„æ•°æ®ä¸€è‡´æ€§ã€‚</p><blockquote><p><strong>[RS_Nm_00153] The Network Management shall optionally provide a possibility to detect present nodes</strong></p></blockquote><p>ç½‘ç»œç®¡ç†åº”é€‰æ‹©æ€§åœ°æä¾›æ£€æµ‹å½“å‰èŠ‚ç‚¹çš„å¯èƒ½æ€§</p><blockquote><p>Rationale: For diagnostics purposes and configuration checks.</p></blockquote><p>åŸºæœ¬åŸç†ï¼šç”¨äºè¯Šæ–­å’Œé…ç½®æ£€æŸ¥ã€‚</p><blockquote><p><strong>[RS_Nm_02508] Every node shall have a node identifier associated with it that is unique in the Nm-cluster.</strong></p></blockquote><p>æ¯ä¸ªèŠ‚ç‚¹éƒ½åº”å…·æœ‰ä¸ä¹‹å…³è”çš„èŠ‚ç‚¹æ ‡è¯†ç¬¦ï¼Œè¯¥æ ‡è¯†ç¬¦åœ¨ Nm é›†ç¾¤ä¸­æ˜¯å”¯ä¸€çš„ã€‚</p><blockquote><p><strong>[RS_Nm_02505] The Nm shall optionally set the local node identifier to the Nmmessage</strong></p></blockquote><p>Nm å¯ä»¥é€‰æ‹©æ€§åœ°å°†æœ¬åœ°èŠ‚ç‚¹æ ‡è¯†ç¬¦è®¾ç½®ä¸º Nm æ¶ˆæ¯</p><blockquote><p><strong>[RS_Nm_02506] The Nm API shall give the possibility to read the source node identifier of the sender</strong></p></blockquote><p>Nm API å°†æä¾›ä»æœ€è¿‘æ”¶åˆ°çš„ Nm æ¶ˆæ¯ä¸­è¯»å–å‘é€è€…çš„æºèŠ‚ç‚¹æ ‡è¯†ç¬¦çš„å¯èƒ½æ€§ã€‚</p><blockquote><p><strong>[RS_Nm_02511] It shall be possible to configure the Network Management of a node so that it does not contribute to the cluster shutdown decision.</strong></p></blockquote><p>åº”è¯¥å¯ä»¥é…ç½®èŠ‚ç‚¹çš„ Network Managementï¼Œä½¿å…¶ä¸ä¼šå½±å“é›†ç¾¤å…³é—­å†³ç­–ã€‚</p><blockquote><p>Specifically, it shall be possible to configure some nodes of a cluster so that they are not able to broadcast the information used by other nodes to trigger shutdown, i.e., they have no Nm-related communication defined for the node.</p></blockquote><p>å…·ä½“æ¥è¯´ï¼Œåº”è¯¥å¯ä»¥é…ç½®é›†ç¾¤çš„æŸäº›èŠ‚ç‚¹ï¼Œä»¥ä¾¿å®ƒä»¬æ— æ³•å¹¿æ’­å…¶ä»–èŠ‚ç‚¹ç”¨äºè§¦å‘å…³é—­çš„ä¿¡æ¯ï¼Œå³ï¼Œå®ƒä»¬æ²¡æœ‰ä¸ºèŠ‚ç‚¹å®šä¹‰ä¸ Nm ç›¸å…³çš„é€šä¿¡ã€‚</p><blockquote><p>Such nodes shall not be capable of keeping the bus awake, but they are required to shut down in a manner consistent with the others. See also [RS_Nm_00150].</p></blockquote><p>æ­¤ç±»èŠ‚ç‚¹ä¸èƒ½ä½¿ bus ä¿æŒå”¤é†’çŠ¶æ€ï¼Œä½†éœ€è¦ä»¥ä¸å…¶ä»–èŠ‚ç‚¹ä¸€è‡´çš„æ–¹å¼å…³é—­ã€‚å¦è§ [RS_Nm_00150]ã€‚</p><blockquote><p><strong>[RS_Nm_02536] Nm shall provide functionality to start-up without requesting the network.</strong></p></blockquote><p>Nm åº”åœ¨ä¸è¯·æ±‚ç½‘ç»œçš„æƒ…å†µä¸‹æä¾›å¯åŠ¨åŠŸèƒ½ã€‚</p><blockquote><p>A node has to participate to the network management without actively requesting communication.</p></blockquote><p>èŠ‚ç‚¹å¿…é¡»å‚ä¸ç½‘ç»œç®¡ç†ï¼Œè€Œæ— éœ€ä¸»åŠ¨è¯·æ±‚é€šä¿¡ã€‚</p><blockquote><p><strong>[RS_Nm_02512] The Nm shall give the possibility to enable or disable the network management related communication configured for an active Nm node</strong></p></blockquote><p>Nm å¯ä»¥å¯ç”¨æˆ–ç¦ç”¨ä¸ºæ´»åŠ¨ Nm èŠ‚ç‚¹é…ç½®çš„ç½‘ç»œç®¡ç†ç›¸å…³é€šä¿¡ Conformance to ISO 14229 CommunicationControl (28 hex) service</p><blockquote><p><strong>[RS_Nm_02573] Nm shall handle retransmission of NM-PDUs</strong></p></blockquote><p>&lt;Bus&gt;Nm è´Ÿè´£å¤„ç† NM-PDU çš„é‡ä¼ </p><blockquote><p>&lt;Bus&gt;Nm has to perform a retry transmission handling for NM-PDU in the context of the main function calls, if transmission of this NM-PDU was not accepted or not confirmed by the lower layer</p></blockquote><p>&lt;Bus&gt; å¦‚æœæ­¤ NM-PDU çš„ä¼ è¾“æœªè¢«ä¸‹å±‚æ¥å—æˆ–æœªç¡®è®¤ï¼Œåˆ™ Nm å¿…é¡»åœ¨ä¸»å‡½æ•°è°ƒç”¨çš„ä¸Šä¸‹æ–‡ä¸­å¯¹ NM-PDU æ‰§è¡Œé‡è¯•ä¼ è¾“å¤„ç†</p><h3 id="514-fault-operation"><a class="anchor" href="#514-fault-operation">#</a> <strong>5.1.4</strong> <strong>Fault Operation</strong></h3><blockquote><p><strong>[RS_Nm_00137] Nm shall perform communication system error handling for errors that have impact on the Nm behavior.</strong></p></blockquote><p>Nm åº”å¯¹å½±å“ Nm è¡Œä¸ºçš„é”™è¯¯æ‰§è¡Œé€šä¿¡ç³»ç»Ÿé”™è¯¯å¤„ç†ã€‚</p><blockquote><p>Focus: bus errors, not protocol errors.</p><p>Example: loss of Nm message is handled.</p></blockquote><p>é‡ç‚¹ï¼šæ€»çº¿é”™è¯¯ï¼Œè€Œä¸æ˜¯åè®®é”™è¯¯ã€‚</p><p>ç¤ºä¾‹ï¼šå¤„ç† Nm æ¶ˆæ¯çš„ä¸¢å¤±ã€‚</p><h3 id="515-nm-coordination"><a class="anchor" href="#515-nm-coordination">#</a> <strong>5.1.5</strong> <strong>Nm Coordination</strong></h3><blockquote><p><strong>[RS_Nm_02514] It shall be possible to group networks into Nm Coordination Clusters</strong></p></blockquote><p>åº”è¯¥å¯ä»¥å°†ç½‘ç»œåˆ†ç»„åˆ° Nm åè°ƒé›†ç¾¤ä¸­</p><blockquote><p>It shall be possible to group networks into Nm Coordination Clusters. Each bus specific Nm shall, by configuration, be part of 0 or 1 Nm Coordination Cluster.</p></blockquote><p>åº”è¯¥å¯ä»¥å°†ç½‘ç»œåˆ†ç»„åˆ° Nm åè°ƒé›†ç¾¤ä¸­ã€‚æ ¹æ®é…ç½®ï¼Œæ¯ä¸ªæ€»çº¿ç‰¹å®šçš„ Nm åº”æ˜¯ 0 æˆ– 1 Nm åè°ƒé›†ç¾¤çš„ä¸€éƒ¨åˆ†ã€‚</p><blockquote><p>Nm shall provide functionality (Nm Coordination) to coordinate the different Nm modes (especially sleep and keep awake) on all networks in an Nm Coordination Cluster, by performing a synchronized shutdown on all included networks.</p></blockquote><p>Nm åº”æä¾›åŠŸèƒ½ï¼ˆNm åè°ƒï¼‰ï¼Œé€šè¿‡åœ¨åŒ…å«çš„æ‰€æœ‰ç½‘ç»œä¸Šæ‰§è¡ŒåŒæ­¥å…³é—­æ¥åè°ƒ Nm åè°ƒé›†ç¾¤ä¸­æ‰€æœ‰ç½‘ç»œä¸Šçš„ä¸åŒ Nm æ¨¡å¼ï¼ˆå°¤å…¶æ˜¯ç¡çœ å’Œä¿æŒå”¤é†’ï¼‰ã€‚</p><blockquote><p>The level of synchronization is determined by the configuration of the shutdown synchronization algorithm. Specifically, it shall be possible to perform Nm Coordination for each Nm Coordination Cluster separately and independently.</p></blockquote><p>åŒæ­¥çº§åˆ«ç”± shutdown åŒæ­¥ç®—æ³•çš„é…ç½®å†³å®šã€‚å…·ä½“æ¥è¯´ï¼Œåº”è¯¥å¯ä»¥å•ç‹¬å’Œç‹¬ç«‹åœ°ä¸ºæ¯ä¸ª Nm åè°ƒé›†ç¾¤æ‰§è¡Œ Nm åè°ƒã€‚</p><blockquote><p>It shall be possible to perform coordinated and/or synchronized shutdown of multiple Nm clusters independently.</p></blockquote><p>åº”è¯¥å¯ä»¥ç‹¬ç«‹æ‰§è¡Œå¤šä¸ª Nm é›†ç¾¤çš„åè°ƒå’Œ / æˆ–åŒæ­¥å…³é—­ã€‚</p><blockquote><p><strong>[RS_Nm_02516] All AUTOSAR Nm instances shall support the Nm Coordinator functionality including Bus synchronization on demand</strong></p></blockquote><p>æ‰€æœ‰ AUTOSAR Nm å®ä¾‹éƒ½åº”æ”¯æŒ Nm åè°ƒå™¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬æŒ‰éœ€æ€»çº¿åŒæ­¥</p><blockquote><p>Bus Synchronization on demand allows for synchronization of an Nm-cluster at an arbitrary point in time, meaning the Nm-Timeout Timers in all nodes of the Nm-cluster are restarted simultaneously.</p></blockquote><p>æŒ‰éœ€æ€»çº¿åŒæ­¥å…è®¸åœ¨ä»»æ„æ—¶é—´ç‚¹åŒæ­¥ Nm é›†ç¾¤ï¼Œè¿™æ„å‘³ç€ Nm é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹ä¸­çš„ Nm-Timeout è®¡æ—¶å™¨ä¼šåŒæ—¶é‡æ–°å¯åŠ¨ã€‚</p><blockquote><p><strong>[RS_Nm_02535] The Nm coordination shall support the coordination of nested sub-buses</strong></p></blockquote><p>Nm åè°ƒåº”æ”¯æŒåµŒå¥—å­æ€»çº¿çš„åè°ƒ</p><blockquote><p><strong>[RS_Nm_02537] The Nm Coordinator shall be able to abort the coordinated shutdown</strong></p></blockquote><p>Nm åè°ƒå™¨åº”èƒ½å¤Ÿä¸­æ­¢åè°ƒå…³é—­</p><blockquote><p>As long as the coordinated shutdown is not completed, a network request on one of the coordinated buses shall be forwarded to other buses of this Coordination cluster.</p></blockquote><p>åªè¦åè°ƒå…³é—­æœªå®Œæˆï¼Œå…¶ä¸­ä¸€æ¡åè°ƒæ€»çº¿ä¸Šçš„ç½‘ç»œè¯·æ±‚å°±åº”è½¬å‘åˆ°æ­¤åè°ƒé›†ç¾¤çš„å…¶ä»–æ€»çº¿ã€‚</p><h3 id="516-partial-networking"><a class="anchor" href="#516-partial-networking">#</a> <strong>5.1.6</strong> <strong>Partial Networking</strong></h3><blockquote><p><strong><span draft="">RS_Nm_02549</span> Nm shall offer interfaces to Request and indicate Repeat Message Request (optional)</strong></p></blockquote><p>Nm åº”æä¾› Request æ¥å£å¹¶æŒ‡ç¤º Repeat Message Requestï¼ˆå¯é€‰</p><blockquote><p>One bit in the Nm Control Bit Vector shall be used to propagate the need for receiving nodes to enter NmRepeatMessage state.</p></blockquote><p>Nm Control Bit Vector ä¸­çš„ä¸€ä½ç”¨äºä¼ æ’­æ¥æ”¶èŠ‚ç‚¹è¿›å…¥ NmRepeatMessage çŠ¶æ€çš„éœ€æ±‚ã€‚</p><blockquote><p>There shall be an interface to set the value of this bit in the Nm and the Repeat Message Request bit and one to indicate the change of this bit during reception. This feature shall be statically configurable (available or not).</p></blockquote><p>åº”æœ‰ä¸€ä¸ªæ¥å£ç”¨äºè®¾ç½® Nm ä¸­è¯¥ä½çš„å€¼ &lt;Bus&gt; å’Œ Repeat Message Request ä½ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¥å£ç”¨äºæŒ‡ç¤ºæ¥æ”¶è¿‡ç¨‹ä¸­è¯¥ä½çš„å˜åŒ–ã€‚æ­¤åŠŸèƒ½åº”æ˜¯é™æ€å¯é…ç½®çš„ï¼ˆå¯ç”¨æˆ–ä¸å¯ç”¨ï¼‰ã€‚</p><blockquote><p><strong>[RS_Nm_02517] CanNm shall support Partial Networking on CAN</strong></p><p><strong>[RS_Nm_02550] FrNm shall support Partial Networking on FlexRay</strong></p></blockquote><p>CanNm åº”æ”¯æŒ CAN ä¸Šçš„éƒ¨åˆ†è”ç½‘</p><p>FrNm åº”åœ¨ FlexRay ä¸Šæ”¯æŒ Partial Networking</p><blockquote><p>The power consumption can be reduced by e.g</p><ul><li>Shutting down of seat control functions</li><li>Shutting down of park assistant functions</li><li>Hazard flashers</li><li>Shutting down of Electric Park Brake (EPB)</li></ul></blockquote><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é™ä½åŠŸè€—ï¼š ä¾‹å¦‚ï¼š</p><ul><li>å…³é—­åº§æ¤…æ§åˆ¶åŠŸèƒ½</li><li>å…³é—­é©»è½¦è¾…åŠ©åŠŸèƒ½</li><li>å±é™©é—ªå…‰å™¨</li><li>å…³é—­ç”µåŠ¨é©»è½¦åˆ¶åŠ¨å™¨ ï¼ˆEPBï¼‰</li></ul><blockquote><p><strong>[RS_Nm_02546] UdpNm shall support Partial Networking on Ethernet</strong></p></blockquote><p>UdpNm ä¸€æ ·çš„</p><blockquote><p><strong>[RS_Nm_02519] The Nm Control Bit Vector shall contain a PNI (Partial Network Information) bit.</strong></p></blockquote><p>Nm æ§åˆ¶ä½å‘é‡åº”åŒ…å«ä¸€ä¸ª PNI ï¼ˆéƒ¨åˆ†ç½‘ç»œä¿¡æ¯ï¼‰ ä½ã€‚</p><blockquote><p>0: Nm message does not contain PN request information</p><p>1: Nm message contains PN request information (PNI)</p></blockquote><p>0ï¼šNm æ¶ˆæ¯ä¸åŒ…å« PN è¯·æ±‚ä¿¡æ¯</p><p>1ï¼šNm æ¶ˆæ¯åŒ…å« PN è¯·æ±‚ä¿¡æ¯ ï¼ˆPNIï¼‰</p><blockquote><p><strong>[RS_Nm_02527] Nm shall implement a filter algorithm dropping all Nm messages that are not relevant for the ECU</strong></p></blockquote><p>Nm åº”å®æ–½è¿‡æ»¤ç®—æ³•ï¼Œåˆ é™¤æ‰€æœ‰ä¸ ECU æ— å…³çš„ Nm æ¶ˆæ¯</p><blockquote><p><strong>[RS_Nm_02528] Nm shall provide a service which allows for instantaneous sending of Nm messages.</strong></p></blockquote><p>Nm åº”æä¾›å…è®¸å³æ—¶å‘é€ Nm æ¶ˆæ¯çš„æœåŠ¡ã€‚</p><blockquote><p>A PN request originating from the ECU needs to be sent out as fast as possible to avoid long latency</p></blockquote><p>æºè‡ª ECU çš„ PN è¯·æ±‚éœ€è¦å°½å¿«å‘å‡ºï¼Œä»¥é¿å…é•¿æ—¶é—´å»¶è¿Ÿ</p><blockquote><p><strong><span draft="">RS_Nm_02547</span> Nm shall be able to propagate and evaluate the need for Partial Networking Learning (optional)</strong></p></blockquote><p>{è‰ç¨¿}&lt;Bus&gt;Nm åº”èƒ½å¤Ÿä¼ æ’­å’Œè¯„ä¼°éƒ¨åˆ†ç½‘ç»œå­¦ä¹ çš„éœ€æ±‚ï¼ˆå¯é€‰ï¼‰</p><blockquote><p>One bit in the Nm Control Bit Vector shall be used to propagate the need for Partial Networking Learning.</p></blockquote><p>Nm Control Bit Vector ä¸­çš„ä¸€ä½åº”ç”¨äºä¼ æ’­å¯¹ Partial Networking Learning çš„éœ€æ±‚ã€‚</p><blockquote><p>There shall be an interface to set the value of this bit in the &lt;Bus&gt;Nm and the Repeat Message Request bit and one to indicate the change of this bit during reception.</p></blockquote><p>åº”æœ‰ä¸€ä¸ªæ¥å£ç”¨äºè®¾ç½® Nm ä¸­è¯¥ä½çš„å€¼ &lt;Bus&gt; å’Œ Repeat Message Request ä½ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¥å£ç”¨äºæŒ‡ç¤ºæ¥æ”¶è¿‡ç¨‹ä¸­è¯¥ä½çš„å˜åŒ–ã€‚</p><blockquote><p>This feature shall be statically configurable (available or not) (see [RS_Nm_00150])</p></blockquote><p>æ­¤åŠŸèƒ½åº”æ˜¯é™æ€å¯é…ç½®çš„ï¼ˆæ— è®ºæ˜¯å¦å¯ç”¨ï¼‰ï¼ˆå‚è§ [RS_Nm_00150]ï¼‰</p><blockquote><p>Partial Network learning differs between:</p><ul><li>request Nm PDU, where the bit for partial networking learning and Repeat Message Request bit are both set,</li><li>response Nm PDU, where only the bit for partial networking learning is set (but Repeat Message Request bit stays unset).</li></ul></blockquote><p>éƒ¨åˆ†ç½‘ç»œå­¦ä¹ åœ¨ä»¥ä¸‹æ–¹é¢æœ‰æ‰€ä¸åŒï¼š</p><ul><li>è¯·æ±‚ Nm PDUï¼Œå…¶ä¸­éƒ¨åˆ†ç½‘ç»œå­¦ä¹ çš„ä½å’Œé‡å¤æ¶ˆæ¯è¯·æ±‚ä½éƒ½è®¾ç½®äº†ï¼Œ</li><li>å“åº” Nm PDUï¼Œå…¶ä¸­ä»…è®¾ç½®äº†éƒ¨åˆ†ç½‘ç»œå­¦ä¹ çš„ä½ï¼ˆä½†é‡å¤æ¶ˆæ¯è¯·æ±‚ä½ä¿æŒæœªè®¾ç½®ï¼‰ã€‚</li></ul><blockquote><p><strong><span draft="">RS_Nm_02548</span> Nm shall be able to propagate and evaluate the need for synchronized PNC shutdown in the role of a top-level PNC coordinator or intermediate PNC coordinator (optional)</strong></p></blockquote><p>{è‰ç¨¿}&lt;Bus&gt;Nm åº”èƒ½å¤Ÿä¼ æ’­å’Œè¯„ä¼°ä½œä¸ºé¡¶çº§ PNC åè°ƒå™¨æˆ–ä¸­é—´ PNC åè°ƒå™¨ï¼ˆå¯é€‰ï¼‰çš„è§’è‰²éœ€è¦åŒæ­¥ PNC å…³é—­</p><blockquote><p>One bit in the Nm Control Bit Vector shall be used to propagate the synchronized PNC shutdown.</p></blockquote><p>Nm Control Bit Vector ä¸­çš„ä¸€ä½åº”ç”¨äºä¼ æ’­åŒæ­¥ PNC å…³æ–­ã€‚</p><blockquote><p>There shall be an interface to set the value of this bit in the Nm and one to indicate the set bit during reception. This feature shall be statically configurable (available or not)(see [RS_Nm_00150]).</p></blockquote><p>åº”æœ‰ä¸€ä¸ªæ¥å£ç”¨äºè®¾ç½® Nm ä¸­è¯¥ä½çš„å€¼ &lt;Bus&gt;ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¥å£ç”¨äºæŒ‡ç¤ºæ¥æ”¶è¿‡ç¨‹ä¸­çš„è®¾ç½®ä½ã€‚æ­¤åŠŸèƒ½åº”æ˜¯é™æ€å¯é…ç½®çš„ï¼ˆå¯ç”¨æˆ–ä¸å¯ç”¨ï¼‰ï¼ˆå‚è§ [RS_Nm_00150]ï¼‰ã€‚</p><blockquote><p><strong><span draft="">RS_Nm_02540</span> The Nm Control Bit Vector shall contain a PN shutdown request bit.</strong></p></blockquote><p>Nm æ§åˆ¶ä½å‘é‡åº”åŒ…å«ä¸€ä¸ª PN å…³æ–­è¯·æ±‚ä½ã€‚</p><blockquote><p>The Nm Control Bit Vector shall contain a PN shutdown request bit with the following meaning:</p><ul><li>0: Nm message does not contain synchronized Partial Network shutdown request</li><li>1: Nm message does contain synchronized Partial Network shutdown request for at least one PNC</li></ul></blockquote><p>Nm æ§åˆ¶ä½å‘é‡åº”åŒ…å«å…·æœ‰ä»¥ä¸‹å«ä¹‰çš„ PN å…³æœºè¯·æ±‚ä½ï¼š</p><ul><li>0ï¼šNm æ¶ˆæ¯ä¸åŒ…å«åŒæ­¥çš„éƒ¨åˆ†ç½‘ç»œå…³æœºè¯·æ±‚</li><li>1ï¼šNm æ¶ˆæ¯åŒ…å«è‡³å°‘ä¸€ä¸ª PNC çš„åŒæ­¥éƒ¨åˆ†ç½‘ç»œå…³æœºè¯·æ±‚</li></ul><blockquote><p>This bit is used to indicate that a top-level PNC coordinator release at least one PNC. This bit is evaluated only by an intermediate PNC coordinator. A PNC leaf node ignore this bit.</p></blockquote><p>æ­¤ä½ç”¨äºæŒ‡ç¤ºé¡¶çº§ PNC åè°ƒå™¨é‡Šæ”¾è‡³å°‘ä¸€ä¸ª PNCã€‚æ­¤ä½ä»…ç”±ä¸­é—´ PNC åè°ƒå™¨è¯„ä¼°ã€‚PNC å¶èŠ‚ç‚¹å¿½ç•¥æ­¤ä½ã€‚</p><blockquote><p>Use Case: Synchronized PNC shutdown of the PNC within the network</p></blockquote><p>ç”¨ä¾‹ï¼šç½‘ç»œå†… PNC çš„åŒæ­¥ PNC å…³é—­</p><blockquote><p><span draft="">RS_Nm_02542</span> The &lt;Bus&gt;Nm of the top-level PNC coordinator shall set the PN shutdown request bit if a least one PNC is released</p></blockquote><p>{è‰ç¨¿}&lt;Bus &gt; å¦‚æœè‡³å°‘é‡Šæ”¾äº†ä¸€ä¸ª PNCï¼Œåˆ™é¡¶çº§ PNC åè°ƒå™¨çš„ Nm åº”è®¾ç½® PN å…³é—­è¯·æ±‚ä½</p><blockquote><p>The &lt;Bus&gt;Nm of a top-level PNC coordinator shall transmit a PN shutdown message if at least one PNC was released.</p></blockquote><p>&lt;Bus&gt; å¦‚æœè‡³å°‘é‡Šæ”¾äº†ä¸€ä¸ª PNCï¼Œåˆ™é¡¶çº§ PNC åè°ƒå™¨çš„ Nm åº”å‘é€ PN å…³é—­æ¶ˆæ¯ã€‚</p><blockquote><p>A PN shutdown message set the PN shutdown request bit and the PNC bit of the released PNCs to 1.</p></blockquote><p>PN shutdown æ¶ˆæ¯å°† PN shutdown è¯·æ±‚ä½å’Œé‡Šæ”¾çš„ PNC çš„ PNC ä½è®¾ç½®ä¸º 1ã€‚</p><blockquote><p>Thus, only the released PNCs are considered in the PN shutdown message. The remaining PNC bits are set to 0.</p></blockquote><p>å› æ­¤ï¼ŒPN å…³é—­æ¶ˆæ¯ä¸­ä»…è€ƒè™‘å·²é‡Šæ”¾çš„ PNCã€‚å…¶ä½™çš„ PNC ä½è®¾ç½®ä¸º 0ã€‚</p><blockquote><p><strong>[RS_Nm_02571] Nm shall handle requests for synchronized PNC shutdown</strong></p></blockquote><p>Nm åº”å¤„ç†åŒæ­¥ PNC å…³é—­çš„è¯·æ±‚</p><blockquote><p>The Nm of an ECU in role a top-level PNC coordinator or intermediate PNC coordinator shall handle requests for a synchronized PNC shutdown indicated by ComM.</p></blockquote><p>æ‹…ä»»é¡¶çº§ PNC åè°ƒå™¨æˆ–ä¸­é—´ PNC åè°ƒå™¨è§’è‰²çš„ ECU çš„ Nm åº”å¤„ç† ComM æŒ‡ç¤ºçš„åŒæ­¥ PNC å…³é—­è¯·æ±‚ã€‚</p><blockquote><p>Therefore, all information of indicated PNCs which has to be released shall be stored per NM-Channel. The stored request for a synchronized PNC shutdown are transformed to a byte array, where each bit represents a particular PNC (PNC bit vector).</p></blockquote><p>å› æ­¤ï¼Œå¿…é¡»å‘å¸ƒçš„æŒ‡ç¤º PNC çš„æ‰€æœ‰ä¿¡æ¯åº”æŒ‰ NM é€šé“å­˜å‚¨ã€‚å­˜å‚¨çš„åŒæ­¥ PNC å…³é—­è¯·æ±‚è¢«è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªä½ä»£è¡¨ä¸€ä¸ªç‰¹å®šçš„ PNC ï¼ˆPNC ä½å‘é‡ï¼‰ã€‚</p><blockquote><p>This PNC bit vector shall be provided per NM-Channel, if the Nm indicate to fetch and transmit the NM-PDU as PN shutdown message on the corresponding Nm-Channel.</p></blockquote><p>å¦‚æœ &lt;Bus&gt;Nm æŒ‡ç¤ºåœ¨ç›¸åº”çš„ Nm é€šé“ä¸Šè·å– NM-PDU å¹¶å°†å…¶ä½œä¸º PN å…³é—­æ¶ˆæ¯å‘é€ï¼Œåˆ™åº”ä¸ºæ¯ä¸ª NM é€šé“æä¾›æ­¤ PNC ä½å‘é‡ã€‚</p><blockquote><p>Requests for synchronized PNC shutdown shall be aggregated and provided as PNC bit vector to all affected NM-Channels, if the Nm indicate to transmit a NM-PDU.</p></blockquote><p>å¦‚æœ &lt;Bus&gt;Nm è¡¨ç¤ºä¼ è¾“ NM-PDUï¼Œåˆ™åº”æ±‡æ€»åŒæ­¥ PNC å…³é—­çš„è¯·æ±‚ï¼Œå¹¶å°†å…¶ä½œä¸º PNC ä½å‘é‡æä¾›ç»™æ‰€æœ‰å—å½±å“çš„ NM é€šé“ã€‚</p><blockquote><p><strong><span draft="">RS_Nm_02544</span> Nm shall forward the indication of a PN shutdown message</strong></p></blockquote><p>{è‰ç¨¿} Nm åº”è½¬å‘ PN å…³é—­æ¶ˆæ¯çš„æŒ‡ç¤ºï¼Œå……å½“ä¸­é—´ PNC åè°ƒå™¨çš„ ECU çš„ Nm åº”ç«‹å³å°†æ”¶åˆ°çš„ PN å…³é—­æ¶ˆæ¯çš„æŒ‡ç¤ºè½¬å‘ç»™ ComM</p><blockquote><p><strong>[RS_Nm_02572] Nm shall transmit requests for synchronized PNC shutdown as NM-PDU</strong></p></blockquote><p>&lt;Bus&gt;Nm åº”å°†åŒæ­¥ PNC å…³æœºè¯·æ±‚ä½œä¸º NM-PDU ä¼ è¾“</p><blockquote><p>The Nm of an ECU in role a top-level PNC coordinator or intermediate PNC coordinator handle requests for a synchronized PNC shutdown.</p></blockquote><p>æ‹…ä»»é¡¶çº§ PNC åè°ƒå™¨æˆ–ä¸­é—´ PNC åè°ƒå™¨è§’è‰²çš„ ECU çš„ Nm å¤„ç†åŒæ­¥ PNC å…³é—­çš„è¯·æ±‚ã€‚</p><blockquote><p>Therefore NM indicate to start or stop a PNC shutdown process. If a PNC shutdown process has been started for a particular NM-Channel, then the Nm fetch the aggregated requests for a synchronized PNC shutdown as PNC bit vector and transmit the NM-PDU as PN shutdown message on the corresponding NM-Channel.</p></blockquote><p>å› æ­¤ NM è¡¨ç¤ºå¯åŠ¨æˆ–åœæ­¢ PNC å…³é—­è¿‡ç¨‹ã€‚å¦‚æœå·²ä¸ºç‰¹å®š NM é€šé“å¯åŠ¨äº† PNC å…³æ–­è¿‡ç¨‹ï¼Œåˆ™ Nm å°†åŒæ­¥ &lt;Bus&gt;PNC å…³æ–­çš„èšåˆè¯·æ±‚ä½œä¸º PNC ä½å‘é‡è·å–ï¼Œå¹¶åœ¨ç›¸åº”çš„ NM é€šé“ä¸Šå°† NM-PDU ä½œä¸º PN å…³æ–­æ¶ˆæ¯ä¼ è¾“ã€‚&lt;Bus&gt;Nm è¡¨ç¤ºå·²æˆåŠŸä¼ è¾“åˆ° Nmã€‚</p><blockquote><p>The Nm indicate a successfully transmission to the Nm. Otherwise a re-transmission shall be performed if configured.</p></blockquote><p>å¦åˆ™ï¼Œå¦‚æœå·²é…ç½®ï¼Œåˆ™åº”æ‰§è¡Œé‡ä¼ </p><blockquote><p><strong><span draft="">RS_Nm_02561</span> Nm shall support Partial Networking</strong></p></blockquote><p>{è‰ç¨¿} Nm åº”æ”¯æŒéƒ¨åˆ†è”ç½‘</p><blockquote><p>Nm maintain the PNC timer handling and indicate changes regarding internal and external PNC request to the upper layer</p></blockquote><p>Nm ç»´æŠ¤ PNC å®šæ—¶å™¨å¤„ç†ï¼Œå¹¶å‘ä¸Šå±‚æŒ‡ç¤ºå†…éƒ¨å’Œå¤–éƒ¨ PNC è¯·æ±‚çš„æ›´æ”¹</p><blockquote><p><strong>[RS_Nm_02562] Nm shall support channel-specific storage of IRA</strong></p></blockquote><p>Nm åº”æ”¯æŒ IRA çš„ç‰¹å®šé€šé“å­˜å‚¨</p><blockquote><p>Nm stores the latest IRA (internal request array) which represents the internal PNC requests as PNC bit vector. The IRA is stored per given Nm-channel and provided to Nm to be transmitted within the Nm message.</p></blockquote><p>Nm å­˜å‚¨æœ€æ–°çš„ IRA ï¼ˆå†…éƒ¨è¯·æ±‚æ•°ç»„ï¼‰ï¼Œå®ƒå°†å†…éƒ¨ PNC è¯·æ±‚è¡¨ç¤ºä¸º PNC ä½å‘é‡ã€‚IRA æŒ‰ç»™å®šçš„ Nm é€šé“å­˜å‚¨ï¼Œå¹¶æä¾›ç»™ &lt;Bus&gt;Nm ä»¥åœ¨ Nm æ¶ˆæ¯ä¸­ä¼ è¾“ã€‚</p><blockquote><p><strong>[RS_Nm_02563] Nm shall calculate the combined partial network request status EIRA</strong> (External and Internal Requests Aggregated)</p></blockquote><p>Nm åº”è®¡ç®—åˆå¹¶çš„éƒ¨åˆ†ç½‘ç»œè¯·æ±‚çŠ¶æ€ EIRA</p><blockquote><p><strong>[RS_Nm_02564] Nm shall calculate the status of the external partial network requests ERA</strong>(External Requests Aggregated)</p></blockquote><p>Nm åº”è®¡ç®—å¤–éƒ¨éƒ¨åˆ†ç½‘ç»œè¯·æ±‚ ERA çš„çŠ¶æ€</p><blockquote><p><strong>[RS_Nm_02565] Nm shall communicate EIRA and ERA requests to the upper layers using dedicated APIs</strong></p></blockquote><p>&lt;Bus&gt;Nm åº”ä½¿ç”¨ä¸“ç”¨ API å°† EIRA å’Œ ERA è¯·æ±‚ä¼ è¾¾ç»™ä¸Šå±‚</p><blockquote><p><strong>[RS_Nm_02566] Nm shall support channel-specific configuration for ERA</strong></p></blockquote><p>Nm åº”æ”¯æŒ ERA çš„é€šé“ç‰¹å®šé…ç½®</p><blockquote><p><strong>[RS_Nm_02567] Nm shall support a global configuration for EIRA over all channels</strong></p></blockquote><p>Nm åº”æ”¯æŒæ‰€æœ‰é€šé“ä¸Šçš„ EIRA çš„å…¨å±€é…ç½®</p><blockquote><p><strong>[RS_Nm_02574] Nm shall provide a confirmation API to indicate the transmission state PNC bit vector</strong></p></blockquote><p>Nm åº”æä¾›ç¡®è®¤ API ä»¥æŒ‡ç¤ºä¼ è¾“çŠ¶æ€ PNC ä½å‘é‡</p><h2 id="52-non-functional-requirements"><a class="anchor" href="#52-non-functional-requirements">#</a> <strong>5.2</strong> <strong>Non-Functional Requirements</strong></h2><h3 id="521-layout-requirements"><a class="anchor" href="#521-layout-requirements">#</a> <strong>5.2.1</strong> <strong>Layout Requirements</strong></h3><blockquote><p><strong>[RS_Nm_02541] Nm shall define a common layout of Nm messages.</strong></p></blockquote><p>Nm åº”å®šä¹‰ Nm æ¶ˆæ¯çš„å¸¸è§å¸ƒå±€ã€‚</p><h3 id="522-timing-requirements"><a class="anchor" href="#522-timing-requirements">#</a> <strong>5.2.2</strong> <strong>Timing Requirements</strong></h3><blockquote><p><strong>[RS_Nm_00054] There shall be a deterministic time from the point where all nodes agree to go to bus sleep to the point where bus is switched off.</strong></p></blockquote><p>ä»æ‰€æœ‰ nodes éƒ½åŒæ„è¿›å…¥ bus sleep åˆ° bus å…³é—­çš„é‚£ä¸€åˆ»ï¼Œåº”è¯¥æœ‰ä¸€ä¸ªç¡®å®šçš„æ—¶é—´ã€‚</p><h3 id="523-resource-usage"><a class="anchor" href="#523-resource-usage">#</a> <strong>5.2.3</strong> <strong>Resource Usage</strong></h3><blockquote><p><strong>[RS_Nm_00142] Nm shall provide a mechanism to limit its bus load.</strong></p><p>Nm shall not exceed a specified upper limit of bus load. This bus load has to be specified. Example: 3% in normal operation, 6% Bus load peak.</p></blockquote><p>Nm åº”æä¾›ä¸€ç§æœºåˆ¶æ¥é™åˆ¶å…¶æ€»çº¿è´Ÿè½½ã€‚</p><p>Nm ä¸å¾—è¶…è¿‡è§„å®šçš„æ€»çº¿è´Ÿè½½ä¸Šé™ã€‚å¿…é¡»æŒ‡å®šæ­¤æ€»çº¿è´Ÿè½½ã€‚ç¤ºä¾‹ï¼šæ­£å¸¸è¿è¡Œæ—¶ä¸º 3%ï¼Œæ€»çº¿è´Ÿè½½å³°å€¼ä¸º 6%ã€‚</p><blockquote><p><strong>[RS_Nm_00144] Nm shall support communication clusters of up to 64 ECUs</strong></p></blockquote><p>Nm åº”æ”¯æŒå¤šè¾¾ 64 ä¸ª ECU çš„é€šä¿¡é›†ç¾¤</p><blockquote><p><strong>[RS_Nm_00145] On a properly configured node, Nm shall tolerate a loss of a predefined number of Nm messages</strong></p></blockquote><p>åœ¨æ­£ç¡®é…ç½®çš„èŠ‚ç‚¹ä¸Šï¼ŒNm åº”å®¹å¿é¢„å®šä¹‰æ•°é‡çš„ Nm æ¶ˆæ¯çš„ä¸¢å¤±</p><blockquote><p><strong>[RS_Nm_00146] The Nm shall tolerate a time jitter of Nm messages in one or more ECUs</strong></p></blockquote><p>Nm åº”å®¹å¿ä¸€ä¸ªæˆ–å¤šä¸ª ECU ä¸­ Nm æ¶ˆæ¯çš„æ—¶é—´æŠ–åŠ¨</p><blockquote><p><strong>[RS_Nm_00152] The specification and implementation shall be split-up into a communication system independent and communication system dependent parts.</strong></p></blockquote><p>è§„èŒƒå’Œå®ç°åº”åˆ†ä¸ºç‹¬ç«‹äºé€šä¿¡ç³»ç»Ÿçš„éƒ¨åˆ†å’Œä»å±äºé€šä¿¡ç³»ç»Ÿçš„éƒ¨åˆ†ã€‚</p><blockquote><p><strong>[RS_Nm_00149] The timing of Nm shall be configurable.</strong></p></blockquote><p>Nm çš„æ—¶é—´åº”è¯¥æ˜¯å¯é…ç½®çš„ã€‚</p><blockquote><p>All timing parameters of the Nm shall be configurable. This includes timings defining sending of Nm messages, minimum send repetitions, staying awake until common shutdown etc.</p></blockquote><p>Nm çš„æ‰€æœ‰æ—¶åºå‚æ•°éƒ½æ˜¯å¯é…ç½®çš„ã€‚è¿™åŒ…æ‹¬å®šä¹‰ Nm æ¶ˆæ¯å‘é€çš„æ—¶é—´ã€æœ€å°å‘é€é‡å¤æ¬¡æ•°ã€ä¿æŒæ¸…é†’ç›´åˆ°å…±åŒå…³é—­ç­‰ã€‚åœ¨æ‰€æœ‰èŠ‚ç‚¹éƒ½æŒ‡ç¤ºå®ƒä»¬å·²å‡†å¤‡å¥½ä¼‘çœ åï¼Œç›´åˆ°ç½‘ç»œå…³é—­çš„æ—¶é—´ã€‚èŠ‚ç‚¹çš„ä¸¤ä¸ªè¿ç»­çŠ¶æ€æŒ‡ç¤ºä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œæ— è®ºå®ƒæ˜¯å¦å‡†å¤‡å¥½ä¼‘çœ ã€‚æ ¹æ®å¯é…ç½®çš„èŠ‚ç‚¹æ•°é‡ç¡®å®šæ—¶åºã€‚</p><h3 id="524-hardware-independency"><a class="anchor" href="#524-hardware-independency">#</a> <strong>5.2.4</strong> <strong>Hardware independency</strong></h3><blockquote><p><strong>[RS_Nm_00154] The Network Management API shall be independent from the communication bus</strong></p></blockquote><p>ç½‘ç»œç®¡ç† API åº”ç‹¬ç«‹äºé€šä¿¡æ€»çº¿</p><hr><h1 id="äºŒ-e2e"><a class="anchor" href="#äºŒ-e2e">#</a> äºŒã€E2E</h1><h1 id="1-scope-of-this-document"><a class="anchor" href="#1-scope-of-this-document">#</a> <strong>1 Scope of this document</strong></h1><blockquote><p>This document specifies requirements on the E2E protocol. The E2E protocol defines abstract mechanisms to provide End-to-End communication protection according to requirements of ISO 26262:2018 (all parts) [1].</p></blockquote><p>æœ¬æ–‡ä»¶è§„å®šäº† E2E åè®®çš„è¦æ±‚ã€‚E2E åè®®æ ¹æ® ISO 26262:2018 (all parts) æ‰€æœ‰éƒ¨åˆ†) çš„è¦æ±‚å®šä¹‰äº†æä¾›ç«¯å¯¹ç«¯é€šä¿¡ä¿æŠ¤çš„æŠ½è±¡æœºåˆ¶ [11.</p><blockquote><p>These mechanisms shall allow safe data transmission of safety-related data for all integrity levels defined by [1] over a non safety-related communication path. This document covers the protocol part only and therefore the End-to-End path just partly.</p></blockquote><p>è¿™äº›æœºåˆ¶åº”å…è®¸åœ¨ä¸‹åˆ—æ‰€æœ‰å®Œæ•´æ€§çº§åˆ«ä¸Šå®‰å…¨ç›¸å…³æ•°æ®çš„å®‰å…¨æ•°æ®ä¼ è¾“:[1] åœ¨ä¸å®‰å…¨æ— å…³çš„é€šä¿¡è·¯å¾„ä¸Šã€‚æœ¬æ–‡ä»…æ¶µç›–åè®®éƒ¨åˆ†ï¼Œå› æ­¤ä»…éƒ¨åˆ†æ¶µç›–ç«¯åˆ°ç«¯è·¯å¾„ã€‚</p><blockquote><p>These requirements shall be used as a basis for the specification of detailed E2E mechanisms and their usage in AUTOSAR implementations. Note: The document contains well known requirements from classic platform documents and brings in new requirements for the adaptive platform as far as foreseen.</p></blockquote><p>è¿™äº›è¦æ±‚åº”ä½œä¸ºè¯¦ç»† E2E æœºåˆ¶åŠå…¶åœ¨ AUTOSAR å®ç°ä¸­ä½¿ç”¨çš„è§„æ ¼çš„åŸºç¡€ã€‚æ³¨æ„ï¼šè¯¥æ–‡ä»¶åŒ…å«æ¥è‡ªç»å…¸å¹³å°æ–‡ä»¶çš„å·²çŸ¥è¦æ±‚ï¼Œå¹¶å¼•å…¥äº†å¯¹è‡ªé€‚åº”å¹³å°çš„æ–°è¦æ±‚ã€‚</p><blockquote><p>Use cases for E2E protection in adaptive platform are under elaboration. More details on the relevant use cases will be added within next version of this document.</p></blockquote><p>è‡ªé€‚åº”å¹³å°ä¸­çš„ E2E ä¿æŠ¤ç”¨ä¾‹æ­£åœ¨åˆ¶å®šä¸­ï¼Œæœ‰å…³ç”¨ä¾‹çš„æ›´å¤šç»†èŠ‚å°†åœ¨æœ¬æ–‡æ¡£çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­æ·»åŠ ã€‚</p><blockquote><p>This is a draft specification to indicate the intended scope and direction of discussion to the AUTOSAR development community. This specification has seen less quality measures, less discussions among partners and may, generally, be in a less maturestate.</p></blockquote><p>è¿™æ˜¯ä¸€ä»½è§„èŒƒè‰æ¡ˆï¼Œæ—¨åœ¨å‘ AUTOSAR å¼€å‘ç¤¾åŒºæŒ‡æ˜è®¨è®ºçš„èŒƒå›´å’Œæ–¹å‘ã€‚è¯¥è§„èŒƒçš„è´¨é‡æŒ‡æ ‡è¾ƒå°‘ï¼Œåˆä½œä¼™ä¼´ä¹‹é—´çš„è®¨è®ºè¾ƒå°‘ï¼Œæ€»ä½“ä¸Šå¯èƒ½ä¸å¤ªæˆç†Ÿã€‚</p><h1 id="4-functional-overview"><a class="anchor" href="#4-functional-overview">#</a> <strong>4 Functional Overview</strong></h1><blockquote><p>Safety-related automotive systems often use a safe data transmission to protect communication between components (as required by ISO 26262:2018 (all parts) [1]), which means that:</p><ul><li>Communication errors shall be prevented (e.g. by means of appropriate software architecture and by means of verification).</li><li>If error prevention alone is insufficient (e.g. for inter-ECU communication), then<ul><li>the errors shall be detected at runtime to a sufficient degree (cf. diagnostic coverage, safe failure fraction) and</li><li>the rate of undetected dangerous errors shall be below some allowed limit(cf. residual error rate, probability of dangerous failure per hour or probability of dangerous failure on demand).</li></ul></li></ul></blockquote><p>ä¸å®‰å…¨ç›¸å…³çš„æ±½è½¦ç³»ç»Ÿé€šå¸¸ä½¿ç”¨å®‰å…¨æ•°æ®ä¼ è¾“æ¥ä¿æŠ¤ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ (ISO 26262:2018 (all parts) [1])ï¼Œè¿™æ„å‘³ç€:</p><ul><li>åº”é˜²æ­¢é€šä¿¡é”™è¯¯ (ä¾‹å¦‚é€šè¿‡é€‚å½“çš„è½¯ä»¶æ¶æ„å’Œé€šè¿‡éªŒè¯)</li><li>å¦‚æœä»…æœ‰é”™è¯¯é¢„é˜²æ˜¯ä¸å¤Ÿçš„ (ä¾‹å¦‚å¯¹äº ECU ä¹‹é—´çš„é€šä¿¡)ï¼Œé‚£ä¹ˆ<ul><li>åœ¨è¿è¡Œæ—¶åº”æ£€æµ‹åˆ°è¶³å¤Ÿç¨‹åº¦çš„è¯¯å·® (å‚è§è¯Šæ–­è¦†ç›–ç‡ã€å®‰å…¨æ•…éšœåˆ†çº§) å’Œ</li><li>æœªå‘ç°çš„å±é™©å·®é”™ç‡åº”ä½äºæŸäº›å…è®¸é™åº¦ (å‚è§æ®‹ç•™å·®é”™ç‡ã€æ¯å°æ—¶å‘ç”Ÿå±é™©æ•…éšœçš„æ¦‚ç‡æˆ–æŒ‰éœ€å‘ç”Ÿå±é™©æ•…éšœçš„æ¦‚ç‡)ã€‚</li></ul></li></ul><h2 id="41-functional-safety-and-communication"><a class="anchor" href="#41-functional-safety-and-communication">#</a> <strong>4.1</strong> <strong>Functional safety and communication</strong></h2><blockquote><p>With respect to the exchange of information in safety-related systems, the mechanisms for the in-time detection of causes for faults, or effects of faults as listed below, can be used to design suitable safety concepts, e.g. to achieve freedom from interference between system elements sharing a common communication infrastructure (see ISO 26262-6:2018, annex D.2.4).</p></blockquote><p>åœ¨å®‰å…¨ç›¸å…³ç³»ç»Ÿçš„ä¿¡æ¯äº¤æ¢æ–¹é¢ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹åˆ—å‡ºçš„å¯¹æ•…éšœåŸå› æˆ–æ•…éšœå½±å“çš„åŠæ—¶æ£€æµ‹æœºåˆ¶æ¥è®¾è®¡åˆé€‚çš„å®‰å…¨æ¦‚å¿µï¼Œä¾‹å¦‚å®ç°å…±äº«é€šä¿¡åŸºç¡€è®¾æ–½çš„ç³»ç»Ÿå…ƒä»¶ä¹‹é—´ä¸å—å¹²æ‰° (see ISO 26262-6:2018, annex D.2.4).</p><p><img data-src="../../../img.assets/24-11-04%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%885%EF%BC%89CommunicationManagement/image-20240919154502493.png" alt="image-20240919154502493"></p><h2 id="42-sources-of-faults-in-e2e-communication"><a class="anchor" href="#42-sources-of-faults-in-e2e-communication">#</a> <strong>4.2</strong> <strong>Sources of faults in E2E communication</strong></h2><blockquote><p>E2E communication protection aims to detect and mitigate the causes for or effects of communication faults arising from:</p></blockquote><p>E2E é€šä¿¡ä¿æŠ¤æ—¨åœ¨æ£€æµ‹å’Œå‡è½»ç”±ä»¥ä¸‹åŸå› å¼•èµ·çš„é€šä¿¡æ•…éšœçš„åŸå› æˆ–å½±å“:</p><h3 id="1software-faults"><a class="anchor" href="#1software-faults">#</a> <strong>1.Software faults</strong></h3><blockquote><p>Software like, communication stack modules and RTE, may contain faults, which are of a systematic nature.</p></blockquote><p>åƒé€šä¿¡å †æ ˆæ¨¡å—å’Œ RTE è¿™æ ·çš„è½¯ä»¶å¯èƒ½åŒ…å«ç³»ç»Ÿæ€§æ•…éšœã€‚</p><blockquote><p>Systematic faults may occur in any stage of the systemâ€™s life cycle including specification, design, manufacturing, operation, and maintenance, and they will always appear when the circumstances (e.g. trigger conditions for the root cause) are the same.</p></blockquote><p>ç³»ç»Ÿæ€§æ•…éšœå¯èƒ½å‘ç”Ÿåœ¨ç³»ç»Ÿç”Ÿå­˜å‘¨æœŸçš„ä»»ä½•é˜¶æ®µï¼ŒåŒ…æ‹¬è§„èŒƒã€è®¾è®¡ã€åˆ¶é€ ã€æ“ä½œå’Œç»´æŠ¤ï¼Œå¹¶ä¸”å®ƒä»¬æ€»æ˜¯åœ¨ç›¸åŒçš„æƒ…å†µä¸‹å‡ºç° (ä¾‹å¦‚æ ¹æœ¬åŸå› çš„è§¦å‘æ¡ä»¶)ã€‚</p><blockquote><p>The consequences of software faults can be failures of the communication, like interruption of sending of data, overrun of the receiver (e.g. buffer overflow), or underrun of the sender (e.g. buffer empty).</p></blockquote><p>è½¯ä»¶æ•…éšœçš„åæœå¯èƒ½æ˜¯é€šä¿¡æ•…éšœï¼Œä¾‹å¦‚æ•°æ®å‘é€ä¸­æ–­ã€æ¥æ”¶å™¨æº¢å‡º (ä¾‹å¦‚ç¼“å†²åŒºæº¢å‡º) æˆ–å‘é€å™¨ç©ºè½¬ (ä¾‹å¦‚ç¼“å†²åŒºç©ºè½¬)</p><blockquote><p>To prevent (or to handle) resulting failures the appropriate technical measures to detect and handle such faults (e.g. program flow monitoring or E2E supervision) have to be considered.</p></blockquote><p>ä¸ºäº†é˜²æ­¢ (æˆ–å¤„ç†) ç”±æ­¤å¯¼è‡´çš„æ•…éšœï¼Œå¿…é¡»è€ƒè™‘é‡‡å–é€‚å½“çš„æŠ€æœ¯æªæ–½æ¥æ£€æµ‹å’Œå¤„ç†æ­¤ç±»æ•…éšœ (å¦‚ç¨‹åºæµç¨‹ç›‘æ§æˆ– E2E ç›‘ç£)ã€‚</p><h3 id="2random-hardware-faults"><a class="anchor" href="#2random-hardware-faults">#</a> <strong>2.Random hardware faults</strong></h3><blockquote><p>A random hardware fault is typically the result of electrical overload, degradation, aging or exposure to external influences (e.g. environmental stress) of hardware parts.</p></blockquote><p>éšæœºç¡¬ä»¶æ•…éšœé€šå¸¸æ˜¯ç¡¬ä»¶éƒ¨ä»¶çš„ç”µæ°”è¿‡è½½ã€é€€åŒ–ã€è€åŒ–æˆ–æš´éœ²äºå¤–éƒ¨å½±å“ (ä¾‹å¦‚ç¯å¢ƒå‹åŠ›) çš„ç»“æœã€‚</p><blockquote><p>A random hardware fault cannot be avoided completely, but its probability can be evaluated and appropriate technical measures can be implemented (e.g. diagnostics).</p></blockquote><p>ä¸èƒ½å®Œå…¨é¿å…éšæœºç¡¬ä»¶æ•…éšœï¼Œä½†å¯ä»¥å¯¹å…¶æ¦‚ç‡è¿›è¡Œè¯„ä¼°ï¼Œå¹¶å®æ–½é€‚å½“çš„æŠ€æœ¯æªæ–½ (å¦‚è¯Šæ–­)</p><h3 id="3transient-faults"><a class="anchor" href="#3transient-faults">#</a> <strong>3.Transient faults</strong></h3><blockquote><p>Transient faults typically result from external influences or environmental stress, this in cludes influences like EMI, ESD, humidity, corrosion, temperature or mechanical stress (e.g. vibration).</p></blockquote><p>ç¬æ€æ•…éšœé€šå¸¸ç”±å¤–éƒ¨å½±å“æˆ–ç¯å¢ƒåº”åŠ›å¼•èµ·ï¼Œè¿™åŒ…æ‹¬ EMIã€ESDã€æ¹¿åº¦è…èš€ã€æ¸©åº¦æˆ–æœºæ¢°åº”åŠ› (ä¾‹å¦‚æŒ¯åŠ¨)ã€‚</p><h2 id="43-safe-end-to-end-communication-in-autosar"><a class="anchor" href="#43-safe-end-to-end-communication-in-autosar">#</a> <strong>4.3</strong> <strong>Safe End-to-End communication in AUTOSAR</strong></h2><blockquote><p>To provide a safe End-to-End communication, a solution shall be integrated within the AUTOSAR methodology which does require no or a minimal amount of additional nonstandard code like wrappers.</p></blockquote><p>ä¸ºäº†æä¾›å®‰å…¨çš„ç«¯åˆ°ç«¯é€šä¿¡ï¼Œåº”åœ¨ AUTOSAR æ–¹æ³•ä¸­é›†æˆä¸€ä¸ªè§£å†³æ–¹æ¡ˆè¯¥è§£å†³æ–¹æ¡ˆç¡®å®ä¸éœ€è¦æˆ–åªéœ€è¦å°‘é‡çš„é¢å¤–éæ ‡å‡†ä»£ç  (å¦‚å°è£…å™¨)</p><blockquote><p>The functionality of End-to-End communication protection is to be supported by the E2E protocol.</p></blockquote><p>E2E åè®®å°†æ”¯æŒç«¯åˆ°ç«¯é€šä¿¡ä¿æŠ¤çš„åŠŸèƒ½ã€‚</p><blockquote><p>The E2E protocol provides</p><ul><li>Mechanisms to detect a subset of communication faults listed in 4.1. The relevant communication faults depend on the type of communication (e.g. periodic, non periodic, sender/receiver, etc.).</li><li>The definition of profiles 1, 2, 4, 5, 6, 7, 11 and 22 including check and protect functions for one single data transfer. The appropriate profile is to be selected according to the used physical bus layer and the size of the transferred data.</li><li>An optional state machine describing the logical algorithm of E2E monitoring and state handling for a number of data transfers between two dedicated communication partners independent of the used profile.</li></ul></blockquote><p>E2E åè®®æä¾›äº†</p><ul><li>ç”¨äºæ£€æµ‹ 4.1 ä¸­æ‰€åˆ—é€šä¿¡æ•…éšœå­é›†çš„æœºåˆ¶ã€‚ç›¸å…³çš„é€šä¿¡æ•…éšœå–å†³äºé€šä¿¡çš„ç±»å‹ (å¦‚å‘¨æœŸæ€§ã€éå‘¨æœŸæ€§ã€å‘é€æ–¹ / æ¥æ”¶æ–¹ç­‰)ã€‚</li><li>å®šä¹‰ 1ã€2ã€4ã€5ã€6ã€7ã€11 å’Œ 22 çš„é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å•ä¸ªæ•°æ®ä¼ è¾“çš„æ£€æŸ¥å’Œä¿æŠ¤åŠŸèƒ½ã€‚åº”æ ¹æ®ä½¿ç”¨çš„ç‰©ç†æ€»çº¿å±‚å’Œä¼ è¾“çš„æ•°æ®å¤§å°é€‰æ‹©é€‚å½“çš„é…ç½®æ–‡ä»¶ã€‚</li><li>ä¸€ä¸ªå¯é€‰çš„çŠ¶æ€æœºï¼Œæè¿°äº† E2E ç›‘æ§å’ŒçŠ¶æ€å¤„ç†çš„é€»è¾‘ç®—æ³•ï¼Œç”¨äºä¸¤ä¸ªä¸“ç”¨é€šä¿¡ä¼™ä¼´ä¹‹é—´çš„ä¸€ç³»åˆ—æ•°æ®ä¼ è¾“ï¼Œè€Œä¸è€ƒè™‘ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ã€‚</li></ul><blockquote><p>Note: Additional architectural measures may be necessary to ensure safe operation of the E2E protocol implementation.</p></blockquote><p>æ³¨ï¼šå¯èƒ½éœ€è¦é¢å¤–çš„æ¶æ„æªæ–½æ¥ç¡®ä¿ E2E åè®®å®ç°çš„å®‰å…¨è¿è¡Œã€‚</p><h3 id="431-e2e-protection-concepts"><a class="anchor" href="#431-e2e-protection-concepts">#</a> <strong>4.3.1</strong> <strong>E2E protection concepts</strong></h3><blockquote><p>An E2E protection concept is more than just adding adequate safety mechanisms to data elements (e.g. using E2E Profile 1 or 2).</p></blockquote><p>E2E ä¿æŠ¤æ¦‚å¿µä¸ä»…ä»…æ˜¯ä¸ºæ•°æ®å…ƒç´ æ·»åŠ è¶³å¤Ÿçš„å®‰å…¨æœºåˆ¶ (ä¾‹å¦‚ä½¿ç”¨ E2E Profile 1 æˆ– 2)</p><blockquote><p>To ensure the integrity of a communication channel with the required safety integrity level acc. to ISO 26262 the E2E protection concept needs to consider the safety-related properties of the data transmitted via a bus network that requires protection.</p></blockquote><p>ä¸ºäº†ç¡®ä¿ä¸ ISO 26262 è¦æ±‚çš„å®‰å…¨å®Œæ•´æ€§çº§åˆ«ç›¸å¯¹åº”çš„é€šä¿¡é€šé“çš„å®Œæ•´æ€§ï¼ŒE2E ä¿æŠ¤æ¦‚å¿µéœ€è¦è€ƒè™‘é€šè¿‡éœ€è¦ä¿æŠ¤çš„æ€»çº¿ç½‘ç»œä¼ è¾“çš„æ•°æ®çš„å®‰å…¨ç›¸å…³å±æ€§ã€‚</p><blockquote><p>Basic principles to implement an E2E protection concept that focuses on correctness, consistency, completeness, timeliness and the detection of non-availability of data are provided in this chapter.</p></blockquote><p>æœ¬ç« æä¾›äº†å®ç°ä»¥æ­£ç¡®æ€§ã€ä¸€è‡´æ€§ã€å®Œæ•´æ€§ã€åŠæ—¶æ€§å’Œæ£€æµ‹æ•°æ®ä¸å¯ç”¨æ€§ä¸ºé‡ç‚¹çš„ E2E ä¿æŠ¤æ¦‚å¿µçš„åŸºæœ¬åŸåˆ™ã€‚</p><blockquote><p>Note: For an E2E protection concept that focuses on ensuring the availability of data, an implementation of the communication channel with a sufficient fault tolerance is needed (e.g. using independent redundant channels).</p></blockquote><p>æ³¨ï¼šå¯¹äºä¾§é‡äºç¡®ä¿æ•°æ®å¯ç”¨æ€§çš„ E2E ä¿æŠ¤æ¦‚å¿µï¼Œéœ€è¦å®ç°å…·æœ‰è¶³å¤Ÿå®¹é”™èƒ½åŠ›çš„é€šä¿¡ä¿¡é“ (ä¾‹å¦‚ï¼Œä½¿ç”¨ç‹¬ç«‹å†—ä½™ä¿¡é“)</p><blockquote><p>Note: The usage of redundant communication channels may create a need for additional safety mechanisms (e.g. to ensure the consistency of the data streams when transmitted independently).</p></blockquote><p>æ³¨ï¼šä½¿ç”¨å†—ä½™é€šä¿¡ä¿¡é“å¯èƒ½éœ€è¦é¢å¤–çš„å®‰å…¨æœºåˆ¶ (ä¾‹å¦‚ï¼Œåœ¨å•ç‹¬ä¼ è¾“æ—¶ç¡®ä¿æ•°æ®æµçš„ä¸€è‡´æ€§)ã€‚</p><blockquote><p>Typical basic principles for effective E2E protection concepts are :</p><p>æœ‰æ•ˆçš„ E2E ä¿æŠ¤æ¦‚å¿µçš„å…¸å‹åŸºæœ¬åŸåˆ™æ˜¯:</p><ul><li><p>The infrastructure used for data transmission (e.g. Buses, Gateways, etc.) is designed and implemented in such way that it cannot systematically interfere with the used E2E protection (e.g. by unpacking and changing protected data).</p><p>ç”¨äºæ•°æ®ä¼ è¾“çš„åŸºç¡€è®¾æ–½ (ä¾‹å¦‚ï¼Œæ€»çº¿ã€ç½‘å…³ç­‰) çš„è®¾è®¡å’Œå®ç°æ–¹å¼ä¸èƒ½ç³»ç»Ÿæ€§åœ°å¹²æ‰°æ‰€ä½¿ç”¨çš„ç«¯åˆ°ç«¯ä¿æŠ¤ (ä¾‹å¦‚ï¼Œé€šè¿‡è§£åŒ…å’Œæ›´æ”¹å—ä¿æŠ¤çš„æ•°æ®)</p></li><li><p>In case of an internal fault during provision of data, the provider (e.g. sender or client) ensures that it sends out either data explicitly labeled as invalid (i.e. only the specific data elements that are possibly affected by this internal fault) or else no data (i.e. fail-safe respectively fail-silent behavior of sender in case of a severe fault).</p><p>åœ¨æ•°æ®æä¾›è¿‡ç¨‹ä¸­å‘ç”Ÿå†…éƒ¨æ•…éšœçš„æƒ…å†µä¸‹ï¼Œæä¾›è€… (ä¾‹å¦‚å‘é€æ–¹æˆ–å®¢æˆ·ç«¯) ç¡®ä¿å®ƒå‘é€å‡ºæ˜ç¡®æ ‡è®°ä¸ºæ— æ•ˆçš„æ•°æ® (å³ï¼Œåªæœ‰å¯èƒ½å—åˆ°æ­¤å†…éƒ¨æ•…éšœå½±å“çš„ç‰¹å®šæ•°æ®å…ƒç´ ) æˆ–è€…ä¸å‘é€ä»»ä½•æ•°æ® (å³ï¼Œä¸¥é‡æ•…éšœæƒ…å†µä¸‹å‘é€æ–¹çš„æ•…éšœå®‰å…¨æˆ–æ•…éšœé™é»˜è¡Œä¸º)ã€‚</p></li><li><p>In normal operation mode, åœ¨æ­£å¸¸è¿è¡Œæ¨¡å¼ä¸‹</p><ul><li><p>the provider (e.g. sender or client) of the data</p><p>æ•°æ®çš„æä¾›è€… (ä¾‹å¦‚å‘é€è€…æˆ–å®¢æˆ·ç«¯)</p><ul><li><p>groups the data as pre- determined (e.g. to ensure consistency for a set of data) and protects the grouped data with suitable protection mechanisms prior to their transmission.</p><p>å°†æ•°æ®æŒ‰é¢„å…ˆç¡®å®šçš„é¡ºåºåˆ†ç»„ (ä¾‹å¦‚ï¼Œç¡®ä¿ä¸€ç»„æ•°æ®çš„ä¸€è‡´æ€§)ï¼Œå¹¶åœ¨ä¼ è¾“å‰ç”¨åˆé€‚çš„ä¿æŠ¤æœºåˆ¶ä¿æŠ¤åˆ†ç»„çš„æ•°æ®ã€‚</p></li><li><p>ensures that it sends out valid data, only. In this context valid data means:</p><p>ç¡®ä¿å®ƒä»…å‘é€æœ‰æ•ˆæ•°æ®ã€‚åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­ï¼Œæœ‰æ•ˆæ•°æ®æ„å‘³ç€:</p><ul><li><p>Data fully complying with their required safety-related properties</p><p>æ•°æ®å®Œå…¨ç¬¦åˆå…¶æ‰€è¦æ±‚çš„å®‰å…¨ç‰¹æ€§</p></li><li><p>Data complying with their required safety-related properties to the extent signaled by an additionally provided qualifier (i.e. signal qualifier)</p><p>åœ¨é¢å¤–æä¾›çš„é™å®šç¬¦ (å³ä¿¡å·é™å®šç¬¦) æ‰€ç¤ºçš„èŒƒå›´å†…ï¼Œæ•°æ®ç¬¦åˆå…¶æ‰€éœ€çš„å®‰å…¨ç›¸å…³ç‰¹æ€§</p></li><li><p>Data explicitly labeled as invalid data (e.g. using a signal invalid value)</p><p>æ˜ç¡®æ ‡è®°ä¸ºæ— æ•ˆæ•°æ®çš„æ•°æ® (ä¾‹å¦‚ä½¿ç”¨ä¿¡å·æ— æ•ˆå€¼)</p></li></ul></li><li><p>ensures in case of periodic/ mixed periodic communication that it sends out valid data on a regular basis (e.g. cyclic).</p><p>åœ¨å‘¨æœŸæ€§ / æ··åˆå‘¨æœŸæ€§é€šä¿¡æƒ…å†µä¸‹ï¼Œç¡®ä¿å®ƒå®šæœŸ (ä¾‹å¦‚å¾ªç¯) å‘é€æœ‰æ•ˆæ•°æ®ã€‚</p></li></ul></li><li><p>the consumer (e.g. receiver, client or server) of the data</p><p>æ•°æ®çš„æ¶ˆè´¹è€… (å¦‚æ¥æ”¶å™¨ã€å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨)</p><ul><li><p>monitors whether new data has arrived on a regular basis (e.g. cyclic) independently from an external trigger condition coming from elements to which it wants to achieve freedom from interference (e.g. communication stack)</p><p>ç›‘è§†æ–°æ•°æ®æ˜¯å¦å®šæœŸ (ä¾‹å¦‚å‘¨æœŸæ€§åœ°) åˆ°è¾¾ï¼Œè€Œä¸å—å¤–éƒ¨è§¦å‘æ¡ä»¶ (ä¾‹å¦‚é€šä¿¡å †æ ˆ) çš„å½±å“ã€‚</p></li><li><p>is able to detect relevant communication faults within its determined time interval by evaluating the protection mechanisms of the received data and in case of periodic/ mixed periodic communication its internal timeout monitoring.</p><p>é€šè¿‡è¯„ä¼°æ¥æ”¶æ•°æ®çš„ä¿æŠ¤æœºåˆ¶ï¼Œå¹¶åœ¨å‘¨æœŸæ€§ / æ··åˆå‘¨æœŸæ€§é€šä¿¡çš„æƒ…å†µä¸‹è¿›è¡Œå†…éƒ¨è¶…æ—¶ç›‘æ§ï¼Œèƒ½å¤Ÿåœ¨å…¶ç¡®å®šçš„æ—¶é—´é—´éš”å†…æ£€æµ‹åˆ°ç›¸å…³çš„é€šä¿¡æ•…éšœã€‚</p></li></ul></li></ul></li><li><p>In case a communication fault is detected å¦‚æœæ£€æµ‹åˆ°é€šä¿¡æ•…éšœ</p><ul><li><p>the consumer of the protected data (e.g. receiver, client or server) autonomously initiates the necessary reactions to mitigate the detected communication fault within its determined time interval in compliance with the functional safety concept of the system (i.e. fail-safe respectively fail-silent behavior of receiver).</p><p>å—ä¿æŠ¤æ•°æ®çš„æ¶ˆè´¹è€… (ä¾‹å¦‚æ¥æ”¶å™¨ã€å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨) æ ¹æ®ç³»ç»Ÿçš„åŠŸèƒ½å®‰å…¨æ¦‚å¿µ (å³æ¥æ”¶å™¨çš„æ•…éšœå®‰å…¨æˆ–æ•…éšœæ²‰é»˜è¡Œä¸º) åœ¨ç¡®å®šçš„æ—¶é—´é—´éš”å†…è‡ªä¸»å¯åŠ¨å¿…è¦çš„ååº”ï¼Œä»¥å‡è½»æ£€æµ‹åˆ°çš„é€šä¿¡æ•…éšœã€‚</p></li></ul></li><li><p>Based on the ISO26262 the fault tolerance time interval (FTTI) of the respective safety-related system is the allowed time interval for fault detection and mitigationincluding the relevant data exchange part and the corresponding communication path.</p><p>åŸºäº ISO26262ï¼Œå„å®‰å…¨ç›¸å…³ç³»ç»Ÿçš„å®¹é”™æ—¶é—´é—´éš” (FTI) æ˜¯å…è®¸æ•…éšœæ£€æµ‹å’Œç¼“è§£çš„æ—¶é—´é—´éš”ï¼ŒåŒ…æ‹¬ç›¸å…³æ•°æ®äº¤æ¢éƒ¨åˆ†å’Œç›¸åº”çš„é€šä¿¡è·¯å¾„ã€‚</p><ul><li><p>The fault tolerance time interval concerning the whole system (absolute FTTI), the allowed time interval includes the allowed time interval for the detection and mitigation of faults at the provider of the date (e.g. sender), the time interval required for robustness of data transmission during normal operation (e.g. to compensate gateways) and the allowed time interval for the detection and mitigation of faults at the consumer of the data (e.g.receiver).</p><p>å…³äºæ•´ä¸ªç³»ç»Ÿçš„å®¹é”™æ—¶é—´é—´éš” (ç»å¯¹ FTTI)ï¼Œå…è®¸çš„æ—¶é—´é—´éš”åŒ…æ‹¬åœ¨æ•°æ®æä¾›å•†æ£€æµ‹å’Œç¼“è§£æ•…éšœçš„å…è®¸çš„æ—¶é—´é—´éš”ã€‚(ä¾‹å¦‚å‘é€æ–¹)ã€åœ¨æ­£å¸¸æ“ä½œæœŸé—´æ•°æ®ä¼ è¾“çš„ç¨³å¥æ€§æ‰€éœ€çš„æ—¶é—´é—´éš” (ä¾‹å¦‚è¡¥å¿ç½‘å…³) ä»¥åŠåœ¨æ•°æ®çš„æ¶ˆè´¹è€… (ä¾‹å¦‚æ¥æ”¶æ–¹) æ£€æµ‹å’Œç¼“è§£æ•…éšœçš„å…è®¸æ—¶é—´é—´éš”ã€‚</p></li><li><p>The fault tolerance time interval concerning the data exchange part and the corresponding communication path only (relative FTTI), corresponds to the maximum tolerated duration of erroneous data, and is thus the allowed time interval for the detection and mitigation of faults at the consumer of the data (e.g. receiver).</p><p>ä»…æ¶‰åŠæ•°æ®äº¤æ¢éƒ¨åˆ†å’Œç›¸åº”é€šä¿¡è·¯å¾„çš„å®¹é”™æ—¶é—´é—´éš”ç›¸å¯¹ FTTI) å¯¹åº”äºé”™è¯¯æ•°æ®çš„æœ€å¤§å®¹å¿æŒç»­æ—¶é—´ï¼Œå› æ­¤æ˜¯æ£€æµ‹å’Œç¼“è§£æ•°æ®ä½¿ç”¨è€… (ä¾‹å¦‚æ¥æ”¶è€…) æ•…éšœçš„å…è®¸æ—¶é—´é—´éš”ã€‚</p></li></ul></li></ul></blockquote><h3 id="432-integrity-of-a-communication-channel"><a class="anchor" href="#432-integrity-of-a-communication-channel">#</a> <strong>4.3.2</strong> <strong>Integrity of a communication channel</strong></h3><blockquote><p>To determine the integrity of communication and to distinguish if the received data are valid the consumer of the data (e.g. receiver) can:</p></blockquote><p>ä¸ºäº†ç¡®å®šé€šä¿¡çš„å®Œæ•´æ€§å¹¶åŒºåˆ†æ‰€æ¥æ”¶çš„æ•°æ®æ˜¯å¦æœ‰æ•ˆï¼Œæ•°æ®çš„æ¶ˆè´¹è€… (ä¾‹å¦‚æ¥æ”¶å™¨å¯ä»¥:</p><blockquote><ul><li><p>evaluate each received protected message separately and</p><p>åˆ†åˆ«è¯„ä¼°æ¯ä¸ªæ¥æ”¶åˆ°çš„å—ä¿æŠ¤æ¶ˆæ¯ï¼Œå¹¶</p></li><li><p>monitor all evaluation results of a number of protected data received within a determined time interval for error detection and qualification <em>t**EDQ</em> up to the data received at last.</p><p>ç›‘æ§åœ¨ç¡®å®šæ—¶é—´é—´éš”å†…æ¥æ”¶åˆ°çš„å¤šä¸ªå—ä¿æŠ¤æ•°æ®çš„æ‰€æœ‰è¯„ä¼°ç»“æœï¼Œä»¥ä¾¿æ£€æµ‹é”™è¯¯å¹¶é™å®š<strong> t</strong>EDQï¼Œç›´è‡³æœ€ç»ˆæ¥æ”¶åˆ°çš„æ•°æ®ã€‚</p></li></ul><p>To implement the monitoring function the consumer of the protected data (e.g. receiver) creates a history of the received data. Valid received data are stored with a history as follows:</p><p>ä¸ºäº†å®ç°ç›‘è§†åŠŸèƒ½ï¼Œæ—å—ä¿æŠ¤æ•°æ®çš„æ¶ˆè´¹è€… (ä¾‹å¦‚æ¥æ”¶å™¨) åˆ›å»ºæ¥æ”¶æ•°æ®çš„å†å²è®°å½•ã€‚æœ‰æ•ˆçš„æ¥æ”¶æ•°æ®ç”¨å†å²è®°å½•å­˜å‚¨å¦‚ä¸‹:</p><ul><li><p>Generation 0 is the latest (up to date) received valid data</p><p>Generation 0 æ˜¯æœ€æ–° (æˆªè‡³æ—¥æœŸ) æ”¶åˆ°çš„æœ‰æ•ˆæ•°æ®</p></li><li><p>Generation 1 is the second-latest received valid data</p><p>Generation 1 ç¬¬äºŒä¸ªæœ€æ–°æ”¶åˆ°çš„æœ‰æ•ˆæ•°æ®</p></li><li><p>Generation 2 is the third-latest received valid data</p><p>Generation 2 æ˜¯ç¬¬ä¸‰ä¸ªæœ€æ–°æ”¶åˆ°çš„æœ‰æ•ˆæ•°æ®</p></li><li><p>etc.</p></li></ul><p>To do so, each recently received valid message is stored as Generation 0 having a reference value indicating its age set to 0. Every time the consumer of the protected data (e.g. receiver) checks for reception of new data it increments the age of its already received data by 1.</p></blockquote><p>ä¸ºæ­¤ï¼Œæ¯ä¸ªæœ€è¿‘æ”¶åˆ°çš„æœ‰æ•ˆæ¶ˆæ¯éƒ½è¢«å­˜å‚¨ä¸ºå…·æœ‰æŒ‡ç¤ºå…¶å¹´é¾„è®¾ç½®ä¸º 0 çš„å‚è€ƒå€¼çš„ç¬¬ 0 ä»£ã€‚æ¯æ¬¡å—ä¿æŠ¤æ•°æ® (ä¾‹å¦‚æ¥æ”¶å™¨) çš„æ¶ˆè´¹è€…æ£€æŸ¥æ–°æ•°æ®çš„æ¥æ”¶æƒ…å†µæ—¶ï¼Œå®ƒéƒ½ä¼šå°†å…¶å·²æ¥æ”¶æ•°æ®çš„å¹´é¾„å¢åŠ  1ã€‚</p><blockquote><p>Stored data can be used as basis for a safety related functionality provided by the consumer of the protected data (e.g. receiver) as long as its age reference value is less a determined boundary value N.</p></blockquote><p>åªè¦å…¶å¹´é¾„å‚è€ƒå€¼å°äºç¡®å®šçš„è¾¹ç•Œå€¼ Nï¼Œå­˜å‚¨çš„æ•°æ®å°±å¯ä»¥ç”¨ä½œç”±å—ä¿æŠ¤æ•°æ® (ä¾‹å¦‚æ¥æ”¶å™¨) çš„æ¶ˆè´¹è€…æä¾›çš„å®‰å…¨ç›¸å…³åŠŸèƒ½çš„åŸºç¡€ã€‚</p><blockquote><p>The parameter N can be derived by dividing the determined time interval for error detection and qualification <strong>t</strong>EDQ with the cycle time used for its regular transmission (e.g. for a receiver having a <strong>t</strong>EDQ = 160ms and a regular cycle time of 20ms the value N = 160ms/20ms = 8).</p></blockquote><p>å‚æ•° N å¯ä»¥é€šè¿‡å°†ç¡®å®šçš„ç”¨äºé”™è¯¯æ£€æµ‹å’Œç¡®è®¤çš„æ—¶é—´é—´éš” tEDO é™¤ä»¥ç”¨äºå…¶å¸¸è§„ä¼ è¾“çš„å‘¨æœŸæ—¶é—´ (ä¾‹å¦‚ï¼Œå¯¹äºå…·æœ‰ tEDO=160ms å’Œå¸¸è§„å‘¨æœŸæ—¶é—´ä¸º 20ms çš„æ¥æ”¶å™¨ï¼Œå€¼ N=160ms/20ms=8) æ¥æ¨å¯¼ã€‚</p><blockquote><p>In case that sufficiently up to date data is no longer available, the consumerâ€™s (e.g. receiverâ€™s) application applies a safe reaction determined in the safety concept. Such reaction can be a degraded mode.</p></blockquote><p>å¦‚æœä¸å†æœ‰è¶³å¤Ÿçš„æ•°æ®å¯ç”¨ï¼Œåˆ™æ¶ˆè´¹è€… (ä¾‹å¦‚æ¥æ”¶å™¨) çš„åº”ç”¨ç¨‹åºå°†åº”ç”¨å®‰å…¨æ¦‚å¿µä¸­ç¡®å®šçš„å®‰å…¨ååº”ã€‚è¿™ç§ååº”å¯ä»¥æ˜¯é™çº§æ¨¡å¼ã€‚</p><h1 id="6-requirements-specification"><a class="anchor" href="#6-requirements-specification">#</a> <strong>6 Requirements Specification</strong></h1><h2 id="61-functional-requirements"><a class="anchor" href="#61-functional-requirements">#</a> <strong>6.1</strong> <strong>Functional Requirements</strong></h2><h3 id="supported-communication-models-and-features"><a class="anchor" href="#supported-communication-models-and-features">#</a> <strong>Supported communication models and features</strong></h3><blockquote><p>E2E protocol is defined to support different types of message-based communication.<br>Signal-based communication:</p><ul><li>periodic/mixed periodic sender/receiver communication</li></ul><p>Service-oriented communication:</p><ul><li>periodic/mixed periodic event-based communication</li><li>non-periodic method-based communication (client-server communication)</li></ul></blockquote><p>E2E åè®®è¢«å®šä¹‰ä¸ºæ”¯æŒä¸åŒç±»å‹çš„åŸºäºæ¶ˆæ¯çš„é€šä¿¡ã€‚åŸºäºä¿¡å·çš„é€šä¿¡:</p><ul><li>å‘¨æœŸæ€§ / æ··åˆå‘¨æœŸæ€§å‘é€æ–¹ / æ¥æ”¶æ–¹é€šä¿¡</li></ul><p>é¢å‘æœåŠ¡çš„æ²Ÿé€š:</p><ul><li>åŸºäºå‘¨æœŸ / æ··åˆå‘¨æœŸäº‹ä»¶çš„é€šä¿¡</li><li>åŸºäºéå‘¨æœŸæ–¹æ³•çš„é€šä¿¡ (å®¢æˆ·ç«¯ - æœåŠ¡å™¨é€šä¿¡)</li></ul><blockquote><p><strong>[RS_E2E_08540] E2E protocol shall support protected periodic/mixed periodic communication</strong></p><p>The E2E protocol shall support protected periodic communication.</p><p>This includes the following periodicity:</p><ul><li>periodic</li><li>mixed periodic</li></ul><p>E2E åè®®åº”æ”¯æŒå—ä¿æŠ¤çš„å®šæœŸé€šä¿¡ã€‚</p><p><strong>Use Case:</strong></p><ul><li>Sender/receiver communication in CP, e.g. the following use cases<ul><li>Receiver being invoked independently from sender</li><li>Receiver being invoked on arrival of data</li><li>Mixed: Receiver being invoked when data arrives and independently.)</li></ul></li><li>Events implement message-oriented communication in AP service interfaces.</li></ul><p>CP ä¸­çš„å‘é€æ–¹ / æ¥æ”¶æ–¹é€šä¿¡ï¼Œä¾‹å¦‚ä»¥ä¸‹ç”¨ä¾‹</p><ul><li>æ¥æ”¶å™¨è¢«è°ƒç”¨ï¼Œç‹¬ç«‹äºå‘é€å™¨</li><li>æ•°æ®åˆ°è¾¾æ—¶è°ƒç”¨æ¥æ”¶å™¨</li><li>æ··åˆï¼šåœ¨æ•°æ®åˆ°è¾¾æ—¶å•ç‹¬è°ƒç”¨æ¥æ”¶å™¨ã€‚</li></ul><p>äº‹ä»¶åœ¨ AP æœåŠ¡æ¥å£ä¸­å®ç°é¢å‘æ¶ˆæ¯çš„é€šä¿¡ã€‚</p><p><strong draft="">[RS_E2E_08541]</strong> <strong>E2E protocol shall support protected non-periodic communication</strong></p><p><strong draft="">[RS_E2E_08542]</strong> <strong>E2E protocol shall support dynamic restart of communication peers</strong></p><p><strong draft="">[RS_E2E_08543]</strong> <strong>E2E protocol shall support variable length of transmitted data</strong></p></blockquote><h3 id="e2e-detected-faults"><a class="anchor" href="#e2e-detected-faults">#</a> <strong>E2E detected faults</strong></h3><blockquote><p>E2E protocol is defined to cover a number of faults described in 4.1. However, it depends on the type of communication which kind of faults can be detected, e.g. for non-periodic event-based communication loss of communication data cannot be detected by E2E protocol mechanisms.</p></blockquote><p>E2E åè®®è¢«å®šä¹‰ä¸ºæ¶µç›– 4.1 ä¸­æè¿°çš„ä¸€äº›<a href="#4.1">æ•…éšœ</a>ã€‚ç„¶è€Œï¼Œå®ƒå–å†³äºé€šä¿¡ç±»å‹ï¼Œå“ªç§ç±»å‹çš„æ•…éšœå¯ä»¥è¢«æ£€æµ‹åˆ°ï¼Œä¾‹å¦‚ï¼Œå¯¹äºåŸºäºéå‘¨æœŸæ€§äº‹ä»¶çš„é€šä¿¡ï¼Œé€šä¿¡æ•°æ®çš„ä¸¢å¤±ä¸èƒ½è¢« E2E åè®®æœºåˆ¶æ£€æµ‹åˆ°ã€‚</p><blockquote><p><strong draft="">[RS_E2E_08544]</strong> <strong>E2E protocol shall provide a timeout detection mechanism</strong></p><p>Note: A timeout detection mechanism to identify lost or delayed method responses in non-periodic method communication cannot be provided by an E2E protocol specification. This kind of mechanism has to be specified and implemented either by the application itself or as part of communication management functionality</p></blockquote><p>æ³¨æ„ï¼šE2E åè®®è§„èŒƒä¸èƒ½æä¾›ä¸€ç§è¶…æ—¶æ£€æµ‹æœºåˆ¶æ¥è¯†åˆ«éå‘¨æœŸæ€§æ–¹æ³•é€šä¿¡ä¸­ä¸¢å¤±æˆ–å»¶è¿Ÿçš„æ–¹æ³•å“åº”ï¼Œè¿™ç§æœºåˆ¶å¿…é¡»ç”±åº”ç”¨ç¨‹åºæœ¬èº«æŒ‡å®šå’Œå®ç°ï¼Œæˆ–è€…ä½œä¸ºé€šä¿¡ç®¡ç†åŠŸèƒ½çš„ä¸€éƒ¨åˆ†</p><blockquote><p><strong draft="">[RS_E2E_08545]</strong> <strong>E2E protocol shall provide a detection mechanism for corrupted data</strong></p></blockquote><p>æŸåæ•°æ®æ£€æµ‹æœºåˆ¶</p><blockquote><p><strong draft="">[RS_E2E_08546]</strong> <strong>E2E protocol shall provide a detection mechanism for masquerade or incorrect addressing</strong></p></blockquote><p>E2E åè®®åº”æä¾›ä¼ªè£…æˆ–åœ°å€é”™è¯¯çš„æ£€æµ‹æœºåˆ¶</p><blockquote><p><strong draft="">[RS_E2E_08547]</strong> <strong>E2E protocol shall provide a detection mechanism for repetition, insertion or incorrect sequence of data</strong></p></blockquote><p>E2E åè®®åº”æä¾›å¯¹é‡å¤ã€æ’å…¥æˆ–æ•°æ®åºåˆ—ä¸æ­£ç¡®çš„æ£€æµ‹æœºåˆ¶</p><h3 id="e2e-algorithms-and-profiles"><a class="anchor" href="#e2e-algorithms-and-profiles">#</a> <strong>E2E Algorithms and Profiles</strong></h3><blockquote><p>E2E protocol is defined to cover various sizes of exchanged data and different types of physical bus medium. Therefore, a number of E2E profiles are created. Each E2E profile provides a set of E2E measures as required in 6.1.2.</p></blockquote><p>E2E åè®®çš„å®šä¹‰æ¶µç›–äº†å„ç§å¤§å°çš„äº¤æ¢æ•°æ®å’Œä¸åŒç±»å‹çš„ç‰©ç†æ€»çº¿ä»‹è´¨ï¼Œå› æ­¤åˆ›å»ºäº†è®¸å¤š E2E é…ç½®æ–‡ä»¶ï¼Œæ¯ä¸ª E2E é…ç½®æ–‡ä»¶çš„ 6.1.2 è¦æ±‚æä¾›ä¸€ç»„ E2E æªæ–½ã€‚</p><blockquote><p><strong>[RS_E2E_08528] E2E protocol shall provide different E2E profiles</strong></p><p>E2E protocol shall provide E2E profiles, where each E2E profile completely defines a particular safety protocol (including header structure, behavior as state machine, error handling etc).</p><p>E2E åè®®åº”æä¾› E2E é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­æ¯ä¸ª E2E åˆ†å¸ƒæ–‡ä»¶å®Œå…¨å®šä¹‰äº†ç‰¹å®šçš„å®‰å…¨åè®® (åŒ…æ‹¬å¤´ç»“æ„ã€çŠ¶æ€æœºè¡Œä¸ºã€é”™è¯¯å¤„ç†ç­‰)ã€‚</p><p>Each E2E profile shall be an efficient solution for a particular communication stack used underneath (which are either FlexRay, CAN, CAN FD, LIN or Ethernet), used data length and data frequency, and the required integrity level (see [1]) of the exchanged data.</p><p>æ¯ä¸ª E2E é…ç½®æ–‡ä»¶éƒ½æ˜¯é’ˆå¯¹ç‰¹å®šé€šä¿¡å †æ ˆ (FlexRayã€CANã€CAN FDã€LIN æˆ–ä»¥å¤ªç½‘) ä½¿ç”¨çš„æ•°æ®é•¿åº¦å’Œæ•°æ®é¢‘ç‡ä»¥åŠæ‰€éœ€å®Œæ•´æ€§çº§åˆ« (è§ 6.1.1) çš„é«˜æ•ˆè§£å†³æ–¹æ¡ˆ [1]) äº¤æ¢çš„æ•°æ®ã€‚</p><p>Note: Each communication stack (e.g. FlexRay) has different BER, which depends on, for example:</p><p>æ³¨æ„ï¼šæ¯ä¸ªé€šä¿¡å †æ ˆ (ä¾‹å¦‚ï¼ŒFlexRay) å…·æœ‰ä¸åŒçš„ BERï¼Œè¿™å–å†³äºï¼Œä¾‹å¦‚:</p><ul><li>Bit error rate on channel ä¿¡é“æ¯”ç‰¹å‡ºé”™ç‡</li><li>FIT values of HW ç¡¬ä»¶çš„åŒ¹é…å€¼</li><li>Number of ECUs ECU æ•°ç›®</li><li>Topology (e.g. CAN-&gt;Gateway-&gt;FR) æ‹“æ‰‘ (ä¾‹å¦‚ CAN-&gt; ç½‘å…³ -&gt;FR)</li><li>Open/closed transmission system å¼€æ”¾å¼ / é—­å¼ä¼ åŠ¨ç³»ç»Ÿ</li></ul><p>The profiles are supposed to cover typical combinations of above factors.</p><p>æ¦‚å†µåº”æ¶µç›–ä¸Šè¿°å› ç´ çš„å…¸å‹ç»„åˆã€‚</p></blockquote><h3 id="use-case"><a class="anchor" href="#use-case">#</a> <strong>Use Case:</strong></h3><ul><li>E2E profile with 8-bit CRC for CAN/CAN FD</li><li>E2E profile with 16-bit CRC for long FlexRay signals,</li><li>E2E profile with 32/64-bit CRC for Ethernet.</li></ul><blockquote><p><strong>[RS_E2E_08530] Each E2E profile shall define a set of protection mechanisms</strong><br><strong>and its behavior</strong></p><p>Each E2E profile defined shall:</p><ul><li>Define precisely a set of mechanisms (e.g. CRC of a particular polynomial).</li><li>ç²¾ç¡®å®šä¹‰ä¸€ç»„æœºåˆ¶ (ä¾‹å¦‚ç‰¹å®šå¤šé¡¹å¼çš„ CRC)</li><li>Define its behavior in a semi-formal way (including state machines, error handling etc.).</li><li>ä»¥åŠå½¢å¼åŒ–çš„æ–¹å¼å®šä¹‰å…¶è¡Œä¸º (åŒ…æ‹¬çŠ¶æ€æœºã€é”™è¯¯å¤„ç†ç­‰)</li></ul></blockquote><p>Note: For CP the E2E profiles are provided within the E2E library</p><blockquote><p><strong draft="">[RS_E2E_08549]</strong> <strong>Each E2E profile shall have a unique Profile ID</strong></p><p><strong>[RS_E2E_08529] Each E2E profile shall use an appropriate subset of specific protection mechanisms</strong></p><p>Each of the defined E2E profiles shall use an appropriate subset of the following mechanisms:</p><p>æ¯ä¸ªå®šä¹‰çš„ E2E ç®€ä»‹åº”ä½¿ç”¨ä¸‹åˆ—æœºåˆ¶çš„é€‚å½“å­é›†:</p><ul><li><p>Sequence counter with different sizes (alternatively used as alive counter)</p><p>ä¸åŒå¤§å°çš„åºåˆ—è®¡æ•°å™¨ (å¯ä½œä¸ºæ´»è®¡æ•°å™¨ä½¿ç”¨)</p></li><li><p>CRC with different Bit length</p><p>å…·æœ‰ä¸åŒæ¯”ç‰¹é•¿åº¦çš„ CRC</p></li><li><p>IDs: Source ID, Destination ID, Data ID</p><p>ID: æº IDï¼Œç›®æ ‡ IDï¼Œæ•°æ® ID</p></li><li><p>Timeout</p></li><li><p>Length</p></li></ul><p>In other words, mechanisms not listed shall not be used. In each E2E profile, the sequence counter and IDs, if used, should be all part of the transmitted data element. However, it is allowed that in a given profile, the sequence counter and/or IDs are â€œhiddenâ€ (not transmitted), but included in the checksum.</p></blockquote><p>æ¢å¥è¯è¯´ï¼Œä¸åº”ä½¿ç”¨æœªåˆ—å‡ºçš„æœºåˆ¶ã€‚åœ¨æ¯ä¸ª E2E é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚æœä½¿ç”¨åºåˆ—è®¡æ•°å™¨å’Œ IDï¼Œåˆ™å®ƒä»¬åº”è¯¥æ˜¯ä¼ è¾“æ•°æ®å…ƒç´ çš„ä¸€éƒ¨åˆ†ã€‚ä½†æ˜¯ï¼Œå…è®¸åœ¨ç»™å®šçš„é…ç½®æ–‡ä»¶ä¸­ â€œéšè—â€(ä¸ä¼ è¾“) åºåˆ—è®¡æ•°å™¨å’Œ / æˆ– IDï¼Œä½†å°†å…¶åŒ…å«åœ¨æ ¡éªŒå’Œä¸­ã€‚</p><blockquote><p><strong>[RS_E2E_08533] CRC used in a E2E profile shall be different than the CRC used by the underlying physical communication protocol</strong></p><p>CRC used in each E2E profile shall be different than the CRC used by the underlying communication protocols (FlexRay, CAN, CAN FD, LIN, Ethernet), for which the given profile is supposed to be used with.</p><p>æ¯ä¸ª E2E é…ç½®æ–‡ä»¶ä½¿ç”¨çš„ CRC åº”ä¸åº•å±‚é€šä¿¡åè®® (FlexRayã€CANã€CAN FDã€LINã€ä»¥å¤ªç½‘) ä½¿ç”¨çš„ CRC ä¸åŒï¼Œè¯¥é…ç½®æ–‡ä»¶åº”ä¸ä¹‹é…åˆä½¿ç”¨</p><p>Using the same polynomials twice (once in com stack and again in E2E) provides significantly lower joint detection rate than using two different polynomials.</p><p>ä¸ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„å¤šé¡¹å¼ç›¸æ¯”ï¼Œä¸¤æ¬¡ä½¿ç”¨ç›¸åŒçš„å¤šé¡¹å¼ (ä¸€æ¬¡åœ¨ com æ ˆä¸­ï¼Œ- æ¬¡åœ¨ E2E ä¸­) çš„è”åˆæ£€æµ‹ç‡è¦ä½å¾—å¤šã€‚</p></blockquote><blockquote><p><strong>[RS_E2E_08534] E2E protocol shall provide E2E Check status to the application</strong></p></blockquote><p>æœ‰ä¸ªæ ¡éªŒçŠ¶æ€</p><blockquote><p><strong><span draft="">RS_E2E_08548</span> E2E protocol shall provide E2E overall state to the application</strong></p></blockquote><p>æœ‰ä¸€ä¸ªæ€»ä½“çŠ¶æ€</p><blockquote><p><strong>[RS_E2E_08539] An E2E protection mechanism for inter-ECU communication of short to large data shall be provided</strong></p><p>The E2E protocol shall support protection of short (ex. 8 bytes) and large (ex.4KB, up to 4MB, as application requires), composite data with dynamic-length over TCP/IP and over LIN/CAN/CAN TP/CAN FD/FlexRay/Ethernet.</p><p>E2E åè®®åº”æ”¯æŒåœ¨ TCP/IP å’Œ LIN/CAN/CAN TP/CAN FD/FlexRay/ ä»¥å¤ªç½‘ä¸­ä¿æŠ¤çŸ­ (ä¾‹å¦‚ 8 å­—èŠ‚) å’Œå¤§ (ä¾‹å¦‚ 4KBï¼Œæœ€å¤š 4MBï¼Œæ ¹æ®åº”ç”¨ç¨‹åºè¦æ±‚) çš„åŠ¨æ€é•¿åº¦å¤åˆæ•°æ®ã€‚</p><p>Note: The max length of protected data depends on the architecture and needs to be evaluated by quantitative analysis within the project using the E2E protocol profile.</p></blockquote><p>æ³¨æ„ï¼šå—ä¿æŠ¤æ•°æ®çš„æœ€å¤§é•¿åº¦å–å†³äºæ¶æ„ï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ E2E åè®®ç®€ä»‹è¿›è¡Œå®šé‡åˆ†ææ¥è¯„ä¼°ã€‚</p><blockquote><p><strong>[RS_E2E_08550] The implementation of the E2E Supervision shall provide at least one of the E2E Profiles</strong></p></blockquote><h2 id="62-safety-applicability-and-overall-safety-assumptions"><a class="anchor" href="#62-safety-applicability-and-overall-safety-assumptions">#</a> <strong>6.2</strong> <strong>Safety applicability and overall safety assumptions</strong></h2><blockquote><p><strong>[RS_E2E_08527] Implementation of E2E protocol shall fulfill ISO 26262</strong></p></blockquote><p>E2E communication protection is state-of-art in automotive safety-related series products.</p><p>E2E é€šä¿¡ä¿æŠ¤æ˜¯æ±½è½¦å®‰å…¨ç›¸å…³ç³»åˆ—äº§å“ä¸­æœ€å…ˆè¿›çš„ã€‚</p><h2 id="63-e2e-transformer"><a class="anchor" href="#63-e2e-transformer">#</a> <strong>6.3</strong> <strong>E2E Transformer</strong></h2><blockquote><p>The E2E Transformer is invoked via RTE and it is placed between the RTE and E2E Library. It is responsible for the configuration and state management of the E2E protection.</p></blockquote><p>E2E Transformer æ˜¯é€šè¿‡ RTE è°ƒç”¨çš„ï¼Œå®ƒä½äº RTE å’Œ E2E åº“ä¹‹é—´ã€‚å®ƒè´Ÿè´£ E2E ä¿æŠ¤çš„é…ç½®å’ŒçŠ¶æ€ç®¡ç†ã€‚</p><blockquote><p><strong>[RS_E2E_08538] An E2E Transformer shall be provided</strong></p></blockquote><h2 id="64-e2e-library"><a class="anchor" href="#64-e2e-library">#</a> <strong>6.4</strong> <strong>E2E Library</strong></h2><blockquote><p>The E2E Library provides a set of safety protocols, in a form of library functions invoked by SW-Cs. It provides:</p><ul><li>E2E profiles 1, 2, 4, 5, 6, 7, 11, 22.</li><li>E2E state machine</li></ul><p>Note:</p><p>Each communication stack (e.g. FlexRay) has different error rates which depend on</p><p>for example:</p><ul><li>Bit error rate on channel</li><li>FIT values of HW</li><li>Number of ECUs</li><li>Topology (e.g. CAN-&gt;Gateway-&gt;FR)</li><li>Open/closed transmission system</li><li>Frequency of safety related messages</li></ul><p>The profiles, based on proven-in-use solutions, are supposed to cover typical combinations of above factors.</p><p><strong>[RS_E2E_08531] E2E Library shall call the CRC routines of CRC library</strong></p><p><strong>[RS_E2E_08537] SW-Cs shall tolerate a number of invalid/corrupted received data elements</strong></p></blockquote><p>è¦å…è®¸æ¥æ”¶ä¸€äº›æ— æ•ˆ / æŸåçš„å…ƒç´ </p><blockquote><p>SW-Cs shall tolerate a number of data elements that are invalid/corrupted but not detected by E2E as defined in architecture specific safety analysis for the used E2E protocol.</p></blockquote><p>SW-C åº”å®¹å¿è®¸å¤šæ— æ•ˆ / æŸåä½†æœªè¢« E2E æ£€æµ‹åˆ°çš„æ•°æ®å…ƒç´ ï¼Œå¦‚æ‰€ç”¨ E2E åè®®çš„æ¶æ„ç‰¹å®šå®‰å…¨åˆ†æä¸­æ‰€å®šä¹‰ã€‚</p><blockquote><p>Requiring that 100% errors are detected by E2E protocol has high impact on implementation of E2E library (e.g. requiring SW or/and HW redundancy) and suitability of applied E2E profile. Allowing at least one invalid signal (in a sequence of received signals) that is not detected by E2E mechanisms enables for instance the usage of profiles that contain shorter CRCs like E2E profiles 01, 11 and 02, 22.</p></blockquote><p>è¦æ±‚ E2E åè®®æ£€æµ‹ 100% çš„é”™è¯¯ä¼šå¯¹ E2E åº“çš„å®ç° (ä¾‹å¦‚ï¼Œè¦æ±‚ SW æˆ– / å’Œ HW å†—ä½™) å’Œé€‚ç”¨çš„ E2E é…ç½®æ–‡ä»¶äº§ç”Ÿå¾ˆå¤§å½±å“ã€‚å…è®¸è‡³å°‘ä¸€ä¸ªæ— æ•ˆä¿¡å· (åœ¨æ¥æ”¶åˆ°çš„ä¿¡å·åºåˆ—ä¸­) æœªè¢« E2E æœºåˆ¶æ£€æµ‹åˆ°ï¼Œä¾‹å¦‚å¯ä»¥ä½¿ç”¨åŒ…å«è¾ƒçŸ­ CRC çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ E2E é…ç½®æ–‡ä»¶çš„ 01ã€11 å’Œ 02ã€22ã€‚</p><hr><h1 id="ä¸‰-logandtrace"><a class="anchor" href="#ä¸‰-logandtrace">#</a> ä¸‰ã€LogAndTrace</h1><h1 id="1-scope-of-document-2"><a class="anchor" href="#1-scope-of-document-2">#</a> <strong>1 Scope of Document</strong></h1><blockquote><p>This following specification defines the functional and non-functional requirements of Log and Trace (LT) for AUTOSAR.</p><p>The focus of this document is to specify the requirements for:</p><ul><li>The interface of LT to other CP:BSW modules / AP:Functional Clusters</li><li>The interface to CP:RTE/VFB / AP:ARA Tracing</li><li>The interface to CP:SWCs / AP:Applications</li><li>The transmission and storage format of the log and trace messages</li><li>The internal interface to the LT communication module</li><li>The general configuration of LT</li></ul><p>The document does NOT specify the requirements for:</p><ul><li>The transport layer of the communication over the LT communication module</li></ul></blockquote><p>ä»¥ä¸‹è§„èŒƒå®šä¹‰äº† AUTOSAR çš„æ—¥å¿—å’Œè·Ÿè¸ª (LT) çš„åŠŸèƒ½æ€§å’ŒéåŠŸèƒ½æ€§è¦æ±‚ã€‚<br>æœ¬æ–‡ä»¶çš„é‡ç‚¹æ˜¯æ˜ç¡®ä»¥ä¸‹æ–¹é¢çš„è¦æ±‚:</p><ul><li>LT ä¸å…¶ä»– CP:BSW æ¨¡å— / AP: åŠŸèƒ½é›†ç¾¤çš„æ¥å£</li><li>ä¸ CP:RTE/VFB/AP:ARA çš„æ¥å£è¿½è¸ª</li><li>ä¸ CP:SWCS/AP: åº”ç”¨ç¨‹åºçš„æ¥</li><li>æ—¥å¿—å’Œè·Ÿè¸ªæ¶ˆæ¯çš„ä¼ è¾“å’Œå­˜å‚¨æ ¼</li><li>LT é€šä¿¡æ¨¡å—çš„å†…éƒ¨æ¥å£</li><li>LT çš„ä¸€èˆ¬é…ç½®</li></ul><p>è¯¥æ–‡ä»¶æ²¡æœ‰ä¸ºä»¥ä¸‹æ–¹é¢è§„å®šè¦æ±‚:</p><ul><li>LT é€šä¿¡æ¨¡å—ä¸Šçš„é€šä¿¡ä¼ è¾“å±‚</li></ul><h1 id="4-requirements-specification"><a class="anchor" href="#4-requirements-specification">#</a> <strong>4 Requirements Specification</strong></h1><h2 id="41-functional-overview"><a class="anchor" href="#41-functional-overview">#</a> <strong>4.1</strong> <strong>Functional Overview</strong></h2><blockquote><p>LT provides a generic Logging and Tracing functionality for Applications and other modules.</p></blockquote><p>LT ä¸ºåº”ç”¨ç¨‹åºå’Œå…¶ä»–æ¨¡å—æä¾›äº†é€šç”¨çš„æ—¥å¿—å’Œè¿½è¸ªåŠŸèƒ½ã€‚</p><blockquote><p>Generally, LT provides the following functionalities:</p></blockquote><p>èˆ¬æ¥è¯´ï¼ŒLT æä¾›ä»¥ä¸‹åŠŸèƒ½:</p><blockquote><ul><li><p>Logging</p><ul><li><p>Logging of errors, warnings and info messages from AUTOSAR Applications, providing a standardized AUTOSAR interface</p><p>è®°å½•æ¥è‡ª AUTOSAR åº”ç”¨ç¨‹åºçš„é”™è¯¯ã€è­¦å‘Šå’Œä¿¡æ¯æ¶ˆæ¯ï¼Œæä¾›æ ‡å‡†åŒ–çš„ AUTOSAR æ¥å£</p></li><li><p>Gather all LT messages from all AUTOSAR Applications Level and Middleware Level software in a centralized AUTOSAR module (DLT).</p><p>åœ¨ä¸€ä¸ªé›†ä¸­çš„ AUTOSAR æ¨¡å— (DLI) ä¸­ï¼Œä»æ‰€æœ‰çš„ AUTOSAR åº”ç”¨å±‚å’Œä¸­é—´ä»¶å±‚è½¯ä»¶ä¸­æ”¶é›†æ‰€æœ‰ LT æ¶ˆæ¯ã€‚</p></li><li><p>Log messages from DET[3], DEM[4] (Classic Platform)</p><p>DET å‘é€çš„æ—¥å¿—æ¶ˆæ¯ [3],DEM<a href="%E7%BB%8F%E5%85%B8%E5%B9%B3%E5%8F%B0">4</a></p></li></ul></li><li><p>Tracing</p><ul><li><p>Trace RTE/VFB ([5]) (Classic Platform)</p><p>è¿½è¸ª RTE/VFB ([5])(ç»å…¸å¹³å°)</p></li></ul></li><li><p>Control</p><ul><li><p>Enable/Disable individual LT messages</p><p>å¯ç”¨ / ç¦ç”¨å•ä¸ª LT æ¶ˆæ¯</p></li><li><p>Control trace levels individually by back channel</p><p>é€šè¿‡ back channel å•ç‹¬æ§åˆ¶ trace çº§åˆ«</p></li></ul></li><li><p>Generic</p><ul><li><p>LT available during debugging and production phase</p><p>LT å¯åœ¨è°ƒè¯•å’Œç”Ÿäº§é˜¶æ®µä½¿ç”¨</p></li><li><p>Access over standard diagnosis or platform specific test interface</p><p>é€šè¿‡æ ‡å‡†è¯Šæ–­æˆ–å¹³å°ç‰¹å®šæµ‹è¯•æ¥å£è®¿é—®</p></li><li><p>Security mechanisms to prevent misuse in production phase</p><p>é˜²æ­¢ç”Ÿäº§é˜¶æ®µè¯¯ç”¨çš„å®‰å…¨æœºåˆ¶</p></li></ul></li></ul><p>In addition, the following functionalities are provided for the Adaptive Platform:</p><ul><li><p>Timestamps</p><ul><li><p>In case a timestamp is required, the LT module provides the possibility of time-stamping both the logging as well as the tracing messages.</p><p>å¦‚æœéœ€è¦æ—¶é—´æˆ³ï¼ŒLT æ¨¡å—æä¾›äº†å¯¹æ—¥å¿—è®°å½•å’Œè·Ÿè¸ªæ¶ˆæ¯è¿›è¡Œæ—¶é—´æˆ³çš„å¯èƒ½</p></li><li><p>Such timestamping is handled directly by the LT module, without any needed intervention from the application.</p><p>æ­¤æ—¶é—´æˆ³ç”± LT æ¨¡å—ç›´æ¥å¤„ç†ï¼Œä¸éœ€è¦åº”ç”¨ç¨‹åºè¿›è¡Œä»»ä½•å¿…è¦çš„å¹²é¢„ã€‚</p></li></ul></li><li><p>Application communication tracing</p><ul><li><p>The LT module is capable of handling the tracing of the communication flow between multiple Adaptive Applications without further interaction of the applications being necessary.</p><p>LT æ¨¡å—èƒ½å¤Ÿå¤„ç†å¤šä¸ªè‡ªé€‚åº”åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡æµçš„è·Ÿè¸ªï¼Œè€Œä¸éœ€è¦åº”ç”¨ç¨‹åºçš„è¿›ä¸€æ­¥äº¤äº’ã€‚</p></li></ul></li></ul></blockquote><h2 id="42-functional-requirements"><a class="anchor" href="#42-functional-requirements">#</a> <strong>4.2</strong> <strong>Functional Requirements</strong></h2><h3 id="421-log-and-trace-interfaces"><a class="anchor" href="#421-log-and-trace-interfaces">#</a> <strong>4.2.1</strong> <strong>Log and trace interfaces</strong></h3><blockquote><p><strong>Logging shall support initialization and registration.</strong></p><p><strong>Logging shall enable applications to provide meta information.</strong></p><p><strong>Logging shall enable applications to provide Logging Information.</strong></p><p><strong>Logging shall enable tracing of communication between applications.</strong></p><p><strong>Logging shall support grouping of Logging Information.</strong></p><p><strong>Logging shall allow to select the destination of logging information.</strong></p><p><strong>Logging shall provide early logging capabilities.</strong></p><p><strong>The LT shall transmit log and trace messages from several sources over a communication interface to a receiving external client.</strong></p><p><strong>All log and trace messages sent by an ECU shall have a standardized transmission format and a standardized storage format.</strong></p></blockquote><p><strong>Interface for Applications</strong></p><blockquote><p><strong>Applications shall have the possibility to send log or trace messages to the LT module.</strong></p><p><strong>Logging shall provide an interface for logging information.</strong></p><p><strong>Logging shall be able to handle raw buffer content as logging information.</strong></p><p><strong>Logging shall enable applications to check the current severity level.</strong></p><p><strong>Logging shall provide conversion functions for hexadecimal and binary values.</strong></p><p><strong>The LT shall provide the actual set of log levels and the trace status to an Application.</strong></p><p><strong>For each Application the interface to LT shall be configured.</strong></p></blockquote><p><strong>DET trace interface</strong></p><blockquote><p><strong>Trace events from errors generated by BSW and Applications shall be forwarded to the LT module.</strong></p></blockquote><p><strong>DEM trace interface</strong></p><blockquote><p><strong>The DEM shall forward error events to the LT module.</strong></p></blockquote><p><strong>RTE/VFB trace interface</strong></p><blockquote><p><strong>RTE shall provide an interface for LT to trace RTE/VFB calls.</strong></p><p><strong>The LT shall implement an interface to trace the RTE/VFB.</strong></p><p><strong>A global switch shall be defined to switch on and off the RTE tracing.</strong></p><p><strong>The LT shall implement the handling of the RTE/VFB trace events.</strong></p><p><strong>LT shall provide a solution to trace events linked to implicit communication mechanism.</strong></p></blockquote><h3 id="422-format-of-log-and-trace-message"><a class="anchor" href="#422-format-of-log-and-trace-message">#</a> <strong>4.2.2</strong> <strong>Format of log and trace message</strong></h3><blockquote><p><strong>The transmitted data shall be packetized.</strong></p><p><strong>The transport format shall be binary</strong></p><p><strong>The format shall deal with Big and Little Endianess.</strong></p><p><strong>Each log and trace message shall contain a timestamp, which will be added to the message during reception of the message in the LT module.</strong></p><p><strong>A global message counter shall be implemented, to detect messages loss.</strong></p><p><strong>For each log message, a log level shall be provided.</strong></p><p><strong>The log and trace message shall contain a parameter, which represents the source of the log and trace message.</strong></p><p><strong>There shall be a logical grouping for log messages by using different identifiers.</strong></p><p><strong>Each ECU shall have its unique ECU ID.</strong></p><p><strong>The payload shall transport the parameters of a log and trace message.</strong></p><p><strong>It shall be possible to transmit the parameters in a raw format.</strong></p><p><strong>There shall be the possibility to transmit the parameters with additional information about themselves (self-description).</strong></p><p><strong>It shall be possible to transmit ASCII text in log or trace messages.</strong></p><p><strong>The data in non-verbose mode shall be described by an extra file</strong></p><p><strong>Each message in non-verbose mode shall have a unique Message ID significant for identifying the source of the tracing.</strong></p></blockquote><h3 id="423-transport-interfaces"><a class="anchor" href="#423-transport-interfaces">#</a> <strong>4.2.3</strong> <strong>Transport interfaces</strong></h3><p><strong>Generic</strong></p><blockquote><p><strong>A control message shall be implemented to permit the external client to evaluate the round trip time.</strong></p><p><strong>A protection against unauthorized access in production phase shall be provided.</strong></p><p><strong>Logging shall be able to monitor and shape the amount of LT log and trace events.</strong></p><p><strong>The LT shall be configurable at runtime.</strong></p><p><strong>A protocol shall be implemented to be able to set and query the trace status and log levels of log and trace sources of each ECU.</strong></p><p><strong>A list of all log and trace sources of an ECU shall be accessible from the external client.</strong></p></blockquote><p><strong>Communication interface</strong></p><blockquote><p><strong>LT shall support a generic API for communicating over a LT communication module.</strong></p></blockquote><p><strong>DCM transport interface</strong></p><blockquote><p><strong>The DCM shall provide an interface for LT to transport log and trace messages over a diagnostic session.</strong></p></blockquote><h3 id="424-operational-function"><a class="anchor" href="#424-operational-function">#</a> <strong>4.2.4</strong> <strong>Operational function</strong></h3><p><strong>Initialization and shutdown</strong></p><blockquote><p><strong>The LT shall provide a buffer for storing log and trace messages before initialization</strong></p></blockquote><p><strong>Normal operation</strong></p><blockquote><p><strong>There shall be a buffer to store log and trace message locally.</strong></p><p><strong>A mechanism shall be implemented to be able to set the trace status and log levels of registered Application IDs and context IDs of each Application.</strong></p><p><strong>The LT shall provide the possibility to store configuration data in a persistent way.</strong></p><p><strong>The LT component shall be able to filter log and trace messages.</strong></p><p><strong>AUTOSAR Log and Trace shall support harmonized logging.</strong></p></blockquote><h2 id="43-non-functional-requirements"><a class="anchor" href="#43-non-functional-requirements">#</a> <strong>4.3</strong> <strong>Non-Functional Requirements</strong></h2><blockquote><p><strong>[RS_LT_00041] LT shall be a central software component for the log and trace functionality.</strong></p><p><strong>[RS_LT_00042] The Log and trace SW component shall be part of the system during production phase.</strong></p><p><strong>[RS_LT_00059] LT shall provide an interface for trace points.</strong></p><p><strong>[RS_LT_00060] LT shall send modeled trace messages</strong></p><p><strong>[RS_LT_00061] Tracing shall be configurable at compile time</strong></p><p><strong>[RS_LT_00062] LT shall be configurable to use ARTI to process the tracing information</strong></p></blockquote><hr><h1 id="å››-timesensitivenetworkfeatures"><a class="anchor" href="#å››-timesensitivenetworkfeatures">#</a> å››ã€TimeSensitiveNetworkFeatures</h1><h1 id="1-introduction"><a class="anchor" href="#1-introduction">#</a> <strong>1 Introduction</strong></h1><h2 id="11-objectives"><a class="anchor" href="#11-objectives">#</a> <strong>1.1</strong> <strong>Objectives</strong></h2><blockquote><p>Time-Sensitive Networking (TSN) is a set of standards specified by [1, IEEE 802.1 TSN Task Group]. It provides end-to-end data transmission with extremely low latency and high reliability over Ethernet.</p></blockquote><p>æ—¶é—´æ•æ„Ÿç½‘ç»œ (TSN) æ˜¯ç”± [1, IEEE 802.1 TSN Task Group] æŒ‡å®šçš„ä¸€ç»„æ ‡å‡†ï¼Œå®ƒé€šè¿‡ä»¥å¤ªç½‘æä¾›ç«¯åˆ°ç«¯æ•°æ®ä¼ è¾“ï¼Œå…·æœ‰æä½çš„å»¶è¿Ÿå’Œé«˜å¯é æ€§ã€‚</p><blockquote><p>As a result, TSN is considered as one of the key enabler for deterministic communication on standard Ethernet, which can further be used to accurate timing and guarantee data delivery for automotive Ethernet.</p></blockquote><p>å› æ­¤ï¼ŒTSN è¢«è®¤ä¸ºæ˜¯æ ‡å‡†ä»¥å¤ªç½‘ç¡®å®šæ€§é€šä¿¡çš„å…³é”®ä½¿èƒ½å™¨ä¹‹ä¸€ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç”¨äºç²¾ç¡®å®šæ—¶å’Œä¿è¯æ±½è½¦ä»¥å¤ªç½‘çš„æ•°æ®ä¼ è¾“ã€‚</p><h1 id="4-time-sensitive-network-in-autosar"><a class="anchor" href="#4-time-sensitive-network-in-autosar">#</a> <strong>4 Time Sensitive Network in AUTOSAR</strong></h1><h2 id="41-constraints-and-assumptions"><a class="anchor" href="#41-constraints-and-assumptions">#</a> <strong>4.1</strong> <strong>Constraints and Assumptions</strong></h2><blockquote><p>AUTOSAR does not support the following TSN features:</p><ul><li>time aware shapers</li><li>active stream identification</li><li>frame replication</li></ul><p>AUTOSAR assumes that all Ethernet switches in the network are VLAN-aware. VLAN unaware Ethernet switches are not supported.</p></blockquote><p>AUTOSAR å‡è®¾ç½‘ç»œä¸­çš„æ‰€æœ‰ä»¥å¤ªç½‘äº¤æ¢æœºéƒ½äº†è§£ VLANï¼Œä¸æ”¯æŒä¸äº†è§£ VLAN çš„ä»¥å¤ªç½‘ Switchã€‚</p><h2 id="42-overview"><a class="anchor" href="#42-overview">#</a> <strong>4.2</strong> <strong>Overview</strong></h2><blockquote><p>TSN is a set of IEEE 802 standards based on Ethernet. It specifies functions to ensure the transmission with bounded low latency and high availability for applications in automotive or industrial control facilities.</p></blockquote><p>TSN æ˜¯åŸºäºä»¥å¤ªç½‘çš„ä¸€å¥— IEEE802 æ ‡å‡†ï¼Œå®ƒè§„å®šäº†åŠŸèƒ½ï¼Œä»¥ç¡®ä¿æ±½è½¦æˆ–å·¥ä¸šæ§åˆ¶è®¾æ–½ä¸­çš„åº”ç”¨ç¨‹åºå…·æœ‰æœ‰é™ä½å»¶è¿Ÿå’Œé«˜å¯ç”¨æ€§ã€‚</p><p><img data-src="../../../img.assets/24-11-04%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%885%EF%BC%89CommunicationManagement/image-20240919143446108.png" alt="image-20240919143446108"></p><blockquote><p>The deterministic transmission of time-critical frames may be achieved by using TSN features of high reliability, low delay, zero packet loss through traffic shaping, seamless redundant transmission, filtering, priority-based scheduling, ingress policing and rate limitation.</p></blockquote><p>é€šè¿‡<strong>æµé‡æ•´å½¢</strong>ã€<strong>æ— ç¼å†—ä½™ä¼ è¾“</strong>ã€<strong>è¿‡æ»¤</strong>ã€åŸºäº<strong>ä¼˜å…ˆçº§çš„è°ƒåº¦</strong>ã€<strong>å…¥å£ä¿æŠ¤</strong>å’Œ<strong>é€Ÿç‡é™åˆ¶</strong>ï¼Œå¯ä»¥å®ç°æ—¶é—´å…³é”®å¸§çš„é«˜å¯é æ€§ã€ä½å»¶è¿Ÿã€é›¶åŒ…ä¸¢å¤±çš„ç¡®å®šæ€§ä¼ è¾“ã€‚</p><p><img data-src="../../../img.assets/24-11-04%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%885%EF%BC%89CommunicationManagement/image-20240919142851967.png" alt="image-20240919142851967"></p><h3 id="421-ieee-8021as"><a class="anchor" href="#421-ieee-8021as">#</a> <strong>4.2.1</strong> <strong>IEEE 802.1AS</strong></h3><blockquote><p>The basis of TSN standards is global time synchronization. It specifies the clock synchronization mechanism with switches as key nodes based on the data link layer.</p></blockquote><p>TSN æ ‡å‡†çš„åŸºç¡€æ˜¯å…¨çƒ<strong>æ—¶é—´åŒæ­¥</strong>ã€‚å®ƒè§„å®šäº†åŸºäºæ•°æ®é“¾è·¯å±‚çš„ä»¥äº¤æ¢æœºä¸ºå…³é”®èŠ‚ç‚¹çš„æ—¶é’ŸåŒæ­¥æœºåˆ¶ã€‚</p><blockquote><p>IEEE802.1AS [4, IEEE Std 802.1AS] was mainly extended from the simplified version of the IEEE 1588 (Precision Time Protocol) and it is more suitable for communication transmission scenarios that require high real-time precision in vehicle networks.</p></blockquote><p>IEEE802.1AS [4, IEEE Std 802.1AS] ä¸»è¦æ˜¯ä» IEEE 1588 (ç²¾ç¡®æ—¶é—´åè®®) çš„ç®€åŒ–ç‰ˆæœ¬æ‰©å±•è€Œæ¥ï¼Œæ›´é€‚åˆè½¦è¾†ç½‘ç»œä¸­éœ€è¦é«˜å®æ—¶ç²¾åº¦çš„é€šä¿¡ä¼ è¾“åœºæ™¯ã€‚</p><h3 id="422-ieee-8021qav"><a class="anchor" href="#422-ieee-8021qav">#</a> <strong>4.2.2</strong> <strong>IEEE 802.1Qav</strong></h3><blockquote><p>IEEE 802.1Qav [6, IEEE Std 802.Qav] can be used to ensure that traditional asynchronous Ethernet data traffic does not interfere with AVBâ€™s real-time audio and video streams.</p></blockquote><p>IEEE 802.1Qav [6, IEEE Std 802.Qav] å¯ä»¥ç”¨æ¥ç¡®ä¿ä¼ ç»Ÿçš„å¼‚æ­¥ä»¥å¤ªç½‘æ•°æ®æµé‡ä¸å¹²æ‰° AVB çš„å®æ—¶éŸ³é¢‘å’Œè§†é¢‘æµã€‚</p><blockquote><p>To avoid competition for network resources between ordinary data traffic and AVB traffic, the AVB switch differentiates time-sensitive audio and video streams from ordinary data streams, queues real-time frames and asynchronous frames separately, and assigns the highest priority to real-time frames.</p></blockquote><p>ä¸ºäº†é¿å…æ™®é€šæ•°æ®æµé‡å’Œ AVB æµé‡å¯¹ç½‘ç»œèµ„æºçš„ç«äº‰ï¼ŒAVB äº¤æ¢æœºå°†æ—¶é—´æ•æ„Ÿçš„éŸ³é¢‘å’Œè§†é¢‘æµä¸æ™®é€šæ•°æ®æµåŒºåˆ†å¼€æ¥ï¼Œåˆ†åˆ«æ’é˜Ÿå®æ—¶å¸§å’Œå¼‚æ­¥å¸§ï¼Œå¹¶å°†æœ€é«˜ä¼˜å…ˆçº§åˆ†é…ç»™å®æ—¶å¸§ã€‚</p><blockquote><p>Therefore a so-called Credit Based Shaper (CBS) could be used for bandwidth limitation to convergence time-sensitive and time-insensitive traffic.</p></blockquote><p>å› æ­¤ï¼Œæ‰€è°“çš„ä¿¡è´·åŸºäºæ•´å½¢å™¨ (CBS) å¯ä»¥ç”¨äºå¸¦å®½é™åˆ¶æ”¶æ•›æ—¶é—´æ•æ„Ÿå’Œæ—¶é—´ä¸æ•æ„Ÿçš„æµé‡ã€‚</p><h3 id="423-ieee-8021qbv"><a class="anchor" href="#423-ieee-8021qbv">#</a> <strong>4.2.3</strong> <strong>IEEE 802.1Qbv</strong></h3><blockquote><p>IEEE 802.1Qbv [7, IEEE Std 802.Qbv] specifies the feature of time-aware shaping, which allows the scheduling of the transmission of frames with different priorities in time-triggered windows.</p></blockquote><p>IEEE 802.1Qbv [7, IEEE Std 802.Qbv] æŒ‡å®šäº†æ—¶é—´æ„ŸçŸ¥æ•´å½¢åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½å…è®¸åœ¨æ—¶é—´è§¦å‘çª—å£ä¸­è°ƒåº¦å…·æœ‰ä¸åŒä¼˜å…ˆçº§çš„å¸§çš„ä¼ è¾“ã€‚</p><blockquote><p>Time-aware shaping divides time into fixed windows, and schedules the transmission of frames within these windows based on their priority.</p></blockquote><p>æ—¶é—´æ„ŸçŸ¥æˆå½¢å°†æ—¶é—´åˆ’åˆ†ä¸ºå›ºå®šçª—å£ï¼Œå¹¶æ ¹æ®è¿™äº›çª—å£çš„ä¼˜å…ˆçº§å®‰æ’å¸§çš„ä¼ è¾“ã€‚</p><blockquote><p>Time-critical frames are normally given with higher priority and transmitted in a separate window, while lower priority frames are transmitted in the remaining time.</p></blockquote><p><strong>æ—¶é—´ä¸´ç•Œå¸§</strong>é€šå¸¸å…·æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼Œåœ¨å•ç‹¬çš„çª—å£ä¸­ä¼ è¾“ï¼Œè€Œä½ä¼˜å…ˆçº§çš„å¸§åˆ™åœ¨å‰©ä½™æ—¶é—´ä¸­ä¼ è¾“ã€‚</p><h3 id="424-ieee-8021qcc"><a class="anchor" href="#424-ieee-8021qcc">#</a> <strong>4.2.4</strong> <strong>IEEE 802.1Qcc</strong></h3><blockquote><p>Most networks need to be configured while the network is down, which is not suitable for applications such as in industrial control and automotive network communication.</p></blockquote><p>å¤§å¤šæ•°ç½‘ç»œéœ€è¦åœ¨ç½‘ç»œå…³é—­æ—¶è¿›è¡Œé…ç½®ï¼Œè¿™ä¸é€‚ç”¨äºå·¥ä¸šæ§åˆ¶å’Œæ±½è½¦ç½‘ç»œé€šä¿¡ç­‰åº”ç”¨ã€‚</p><blockquote><p>IEEE 802.1Qcc [8, IEEE Std 802.Qcc] can be used to introduce a Centralized Network Configuration (CNC) and a Centralized User Configuration (CUC) to implement dynamic network configuration, and flexibly configure new devices and data flows when the network is running.</p></blockquote><p>IEEE 802.1Qcc [8, IEEE Std 802.Qcc] å¯ç”¨äºå¼•å…¥<strong>é›†ä¸­å¼ç½‘ç»œé…ç½® (CNC)<strong> å’Œ</strong>é›†ä¸­å¼ç”¨æˆ·é…ç½® (CUC)</strong>ï¼Œä»¥å®ç°åŠ¨æ€ç½‘ç»œé…ç½®ï¼Œå¹¶åœ¨ç½‘ç»œè¿è¡Œæ—¶çµæ´»é…ç½®æ–°è®¾å¤‡å’Œæ•°æ®æµã€‚</p><h2 id="43-usage-of-shapers-in-the-network"><a class="anchor" href="#43-usage-of-shapers-in-the-network">#</a> <strong>4.3</strong> <strong>Usage of Shapers in the Network</strong></h2><h3 id="431-asynchronous-traffic-shaping"><a class="anchor" href="#431-asynchronous-traffic-shaping">#</a> <strong>4.3.1</strong> <strong>Asynchronous Traffic Shaping</strong></h3><p><strong>Overview</strong></p><blockquote><p>Asynchronous Traffic Shaping (ATS) is specified by [9, IEEE Std 802.1Qcr-2020] and provides a traffic shaping concept that can provide bounded latencies for data streams in a network.</p></blockquote><p>å¼‚æ­¥æµé‡æ•´å½¢ (ATS) ç”± [9, IEEE Std 802.1Qcr-2020] è§„å®šï¼Œå¹¶æä¾›äº†ä¸€ä¸ªæµé‡æ•´å½¢æ¦‚å¿µï¼Œå¯ä»¥ä¸ºç½‘ç»œä¸­çš„æ•°æ®æµæä¾›æœ‰ç•Œå»¶è¿Ÿã€‚</p><blockquote><p>It avoids bursts and provides a fair usage of the egress port for streams arriving on different ingress ports. This is a main difference between the Credit Based Shaper (CBS) and ATS, as CBS only considers a particular traffic class of an egress port.</p></blockquote><p>å®ƒé¿å…äº†çªå‘ï¼Œå¹¶ä¸ºåˆ°è¾¾ä¸åŒå…¥ç«™ç«¯å£çš„æµæä¾›äº†å‡ºç«™ç«¯å£çš„å…¬å¹³ä½¿ç”¨ã€‚è¿™æ˜¯åŸºäºä¿¡ç”¨çš„æ•´å½¢å™¨ (CBS) å’Œ ATS ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ï¼Œå› ä¸º CBS ä»…è€ƒè™‘å‡ºç«™ç«¯å£çš„ç‰¹å®šæµé‡ç±»åˆ«ã€‚</p><blockquote><p>The algorithm is loosely based on the token bucket algorithm and uses similar terminology for the configuration parameters.</p></blockquote><p>è¯¥ç®—æ³•å¤§ä½“ä¸ŠåŸºäºä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œå¹¶å¯¹é…ç½®å‚æ•°ä½¿ç”¨ç±»ä¼¼çš„æœ¯è¯­ã€‚</p><blockquote><p>ATS is divided into two major functional blocks, one, the â€ATS Eligibility Time Assignmentâ€ situated on the ingress side of a bridge, operating on streams identified by the stream filters using the stream_handle and priority, includes the computational part of the shaping function.</p></blockquote><p>ATS åˆ†ä¸ºä¸¤ä¸ªä¸»è¦åŠŸèƒ½å—ï¼Œä¸€ä¸ª â€œATS èµ„æ ¼æ—¶é—´åˆ†é…â€ ä½äºæ¡¥æ¢çš„å…¥å£ä¾§ï¼Œä½¿ç”¨æµè¿‡æ»¤å™¨ã€æµå¥æŸ„å’Œä¼˜å…ˆçº§å¯¹è¯†åˆ«çš„æµè¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬æ•´å½¢å‡½æ•°çš„è®¡ç®—éƒ¨åˆ†ã€‚</p><blockquote><p>This means it calculates an eligibility time for every frame received based on the ATS algorithm. The eligibility time is the time when a frame is eligible for transmission on the egress port.</p></blockquote><p>è¿™æ„å‘³ç€å®ƒæ ¹æ® ATS ç®—æ³•ä¸ºæ¥æ”¶åˆ°çš„æ¯ä¸ªå¸§è®¡ç®—åˆæ ¼æ—¶é—´ï¼Œåˆæ ¼æ—¶é—´æ˜¯æŒ‡ä¸€ä¸ªå¸§æœ‰èµ„æ ¼åœ¨å‡ºå£ç«¯å£ä¼ è¾“çš„æ—¶é—´ã€‚</p><blockquote><p>The other functional block, the â€ATS transmission selection algorithmâ€ is situated on the egress side and shapes the traffic according to the results calculated by the â€ATS Eligibility Time Assignmentâ€.</p></blockquote><p>å¦ä¸€ä¸ªåŠŸèƒ½å—ï¼Œâ€œATS ä¼ è¾“é€‰æ‹©ç®—æ³•â€ ä½äºå‡ºå£ä¾§ï¼Œå¹¶æ ¹æ® â€œATS èµ„æ ¼æ—¶é—´åˆ†é…â€ è®¡ç®—çš„ç»“æœæ¥å½¢æˆæµé‡ã€‚</p><blockquote><p>As the eligibility times of frames of streams from different receive ports can be in non-decreasing order, ATS queues need to support non-FIFO queues.</p></blockquote><p><strong>Guidance on the configuration</strong></p><p>ä¹‹åå†ç»†åŒ–</p><h3 id="432-credit-based-shaper"><a class="anchor" href="#432-credit-based-shaper">#</a> <strong>4.3.2</strong> <strong>Credit Based Shaper</strong></h3><p><strong>Overview</strong></p><blockquote><p>The Credit Based Shaper (CBS) is specified by [6, IEEE Std 802.Qav] and provides a traffic shaping concept for high priority, high data rate streams.</p></blockquote><p>åŸºäºä¿¡ç”¨æ•´å½¢å™¨ (CBS) æ˜¯æŒ‡å®šçš„ [6, IEEE Std 802.Qav] ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªé«˜ä¼˜å…ˆçº§ï¼Œé«˜æ•°æ®é€Ÿç‡æµçš„æµé‡æ•´å½¢æ¦‚å¿µã€‚</p><blockquote><p>It was specified as part of the Audio Video Bridging (AVB) standards. The behavior is similar to ATS, but the CBS is operating only on Traffic Classes on the egress side of a bridge.</p></blockquote><p>å®ƒè¢«æŒ‡å®šä¸ºéŸ³è§†é¢‘æ¡¥æ¥ (AVB) æ ‡å‡†çš„ä¸€éƒ¨åˆ†ã€‚å…¶è¡Œä¸ºç±»ä¼¼äº ATS ä½† CBS ä»…åœ¨æ¡¥æ¢å‡ºå£ä¾§çš„äº¤é€šç±»åˆ«ä¸Šè¿è¡Œã€‚</p><blockquote><p>Therefore, there is no differentiation between individual streams within the traffic class as well as different ingress ports.</p></blockquote><p>å› æ­¤ï¼Œåœ¨äº¤é€šç±»åˆ«çš„å•ä¸ªæµä»¥åŠä¸åŒçš„å…¥å¢ƒå£å²¸ä¹‹é—´æ²¡æœ‰åŒºåˆ«ã€‚</p><blockquote><p>As a consequence, the Credit Based Shaper is strictly operating on the order frames are received on all ports, there is no reordering of frames received on different ports.</p></blockquote><p>å› æ­¤ï¼ŒåŸºäºä¿¡ç”¨çš„æ•´å½¢å™¨æ˜¯ä¸¥æ ¼æ“ä½œåœ¨æ‰€æœ‰ç«¯å£æ¥æ”¶çš„é¡ºåºå¸§ï¼Œæ²¡æœ‰åœ¨ä¸åŒç«¯å£æ¥æ”¶åˆ°çš„å¸§çš„é‡æ–°æ’åºã€‚</p><blockquote><p>The Credit Based Shaper minimizes bursts and therefore protects lower priority traffic from the high priority CBS shaped traffic.</p></blockquote><p>åŸºäºä¿¡ç”¨çš„å¡‘å½¢å™¨æœ€å°åŒ–çªå‘äº‹ä»¶ï¼Œå› æ­¤ä¿æŠ¤ä½ä¼˜å…ˆçº§çš„æµé‡ä»é«˜ä¼˜å…ˆçº§çš„ CBS å¡‘å½¢æµé‡ã€‚</p><blockquote><p>The CBS only exists as one functional block (per traffic class) that is located on the egress side of a bridge port and makes frames available for transmission selection based on a credit value.</p></blockquote><p>CBS ä»…ä½œä¸ºä¸€ä¸ªåŠŸèƒ½åŒºå—å­˜åœ¨ (æ¯ç§äº¤é€šç±»åˆ«)ï¼Œä½äºæ¡¥æ¢ port å‡ºå£ä¾§ï¼Œä¸ºåŸºäºä¿¡ç”¨å€¼çš„ä¼ è¾“é€‰æ‹©æä¾›æ¡†æ¶ã€‚</p><blockquote><p>If there is zero or positive credit, frames are available for transmission, in case there is negative credit, frames of the associated traffic class are not available for transmission selection.</p></blockquote><p>å¦‚æœä¿¡ç”¨ä¸ºé›¶æˆ–æ­£ä¿¡ç”¨ï¼Œåˆ™å¯ä½¿ç”¨å¸§è¿›è¡Œä¼ è¾“ï¼Œå¦‚æœä¿¡ç”¨æ˜¯è´Ÿçš„ï¼Œåˆ™ä¸å¯ä½¿ç”¨å…³è”çš„é€šä¿¡ç±»åˆ«çš„å¸§è¿›è¡Œä¼ è¾“é€‰æ‹©ã€‚</p><blockquote><p>The idleSlope is the main parameter that defines the rates with which credit is accumulated and reduced, and thereby it directly controls the data rate of the assigned traffic class on a port.</p></blockquote><p>ç©ºé—²æ–œç‡æ˜¯å®šä¹‰ä¿¡ç”¨ç´¯ç§¯å’Œå‡å°‘é€Ÿç‡çš„ä¸»è¦å‚æ•°ï¼Œå› æ­¤å®ƒç›´æ¥æ§åˆ¶ port ä¸ŠæŒ‡å®šçš„äº¤é€šç±»åˆ«çš„æ•°æ®é€Ÿç‡ã€‚</p><h2 id="44-ensure-accuracy-of-time-synchronization"><a class="anchor" href="#44-ensure-accuracy-of-time-synchronization">#</a> <strong>4.4</strong> <strong>Ensure Accuracy of Time Synchronization</strong></h2><p><strong>Recommendations to support accuracy in an Ethernet network</strong></p><p>ä»¥å¤ªç½‘ä¸­æ”¯æŒå‡†ç¡®æ€§çš„å»ºè®®</p><p><strong>Parts in Documents which Reflect Accuracy</strong></p><blockquote><p>In Time Synchronization Protocol Specification [10]:</p><p>Time Master and Time Slave shall work with a Time Base reference clock accuracy as defined in [4, IEEE 802.1 AS], ANNEX B.1.2 "Time measurement granularity".</p></blockquote><p>æ—¶é—´åŒæ­¥åè®®è§„èŒƒ [10]:<br>æ—¶é—´ä¸»æ§å™¨å’Œæ—¶é—´ä»æ§å™¨åº”ä½¿ç”¨ [4, IEEE 802.1 AS] é™„ä»¶ B.1.2 â€œæ—¶é—´æµ‹é‡ç²’åº¦â€ ä¸­å®šä¹‰çš„æ—¶åŸºåŸºå‡†æ—¶é’Ÿç²¾åº¦å·¥ä½œã€‚</p><blockquote><p>In Specification of Time Synchronization over Ethernet [11]:</p><p>Automotive systems requiring a common Time Base for ECUs regardless of which bus system the ECUs are connected to.</p></blockquote><p>ä»¥å¤ªç½‘æ—¶é—´åŒæ­¥è§„èŒƒ [111:<br>æ±½è½¦ç³»ç»Ÿè¦æ±‚ ECU çš„é€šç”¨æ—¶é—´åŸºå‡†ï¼Œæ— è®º ECU è¿æ¥åˆ°å“ªä¸ªæ€»çº¿ç³»ç»Ÿã€‚</p><p><strong>System requirements</strong></p><blockquote><p>TSN uses gPTP protocol (IEEE 802.1AS) to get precise timestamps for the nodes in the Network. IEEE 802.1AS also targets at accuracy of +/-500ns between any two nodes over 7 hops for Audio Video Bridging using 100 Mb/s links.</p></blockquote><p>TSN ä½¿ç”¨ gPTP åè®® (IEEE802.1AS) ä¸ºç½‘ç»œä¸­çš„èŠ‚ç‚¹è·å–ç²¾ç¡®çš„æ—¶é—´ã€‚IEEE 802.1AS è¿˜é’ˆå¯¹ä½¿ç”¨ 100Mb/s é“¾è·¯è¿›è¡ŒéŸ³é¢‘è§†é¢‘æ¡¥æ¥çš„ä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„ç²¾åº¦ä¸º +/-500 nsã€‚</p><blockquote><p>That means, the hardware has to support the global time on Ethernet with an end to end accuracy of +/- 500ns, where end to end describes a network path from a data producer to a data consumer (e.g. from audio source to an audio sink).</p></blockquote><p>è¿™æ„å‘³ç€ï¼Œç¡¬ä»¶å¿…é¡»æ”¯æŒä»¥å¤ªç½‘ä¸Šçš„å…¨å±€æ—¶é—´ï¼Œç«¯åˆ°ç«¯ç²¾åº¦ä¸ºå£« 500nsï¼Œå…¶ä¸­ç«¯åˆ°ç«¯æè¿°ä»æ•°æ®ç”Ÿäº§è€…åˆ°æ•°æ®æ¶ˆè´¹è€… (ä¾‹å¦‚ä»éŸ³é¢‘æºåˆ°éŸ³é¢‘æ±‡) çš„ç½‘ç»œè·¯å¾„ã€‚</p><h2 id="45-measurement-of-the-time-synchronization-quality-accuracy"><a class="anchor" href="#45-measurement-of-the-time-synchronization-quality-accuracy">#</a> <strong>4.5</strong> <strong>Measurement of the Time Synchronization Quality (Accuracy)</strong></h2><p><strong>Overview</strong></p><blockquote><p>The quality of time synchronization needs to be measured in order to assess if devices meet requirements for gPTP recovered clock quality.</p></blockquote><p>éœ€è¦æµ‹é‡æ—¶é—´åŒæ­¥çš„è´¨é‡ï¼Œä»¥è¯„ä¼°è®¾å¤‡æ˜¯å¦æ»¡è¶³ gPTP æ¢å¤çš„æ—¶é’Ÿè´¨é‡çš„è¦æ±‚ã€‚</p><blockquote><p>The traditional approach to measure the accuracy of the clock synchronization is the 1 Pulse Per Second (1PPS) method.</p></blockquote><p>æµ‹é‡æ—¶é’ŸåŒæ­¥ç²¾åº¦çš„ä¼ ç»Ÿæ–¹æ³•æ˜¯æ¯ç§’ 1 è„‰å†² (1PPS) æ³•ã€‚</p><blockquote><p>The PPS signal must be driven by a hardware clock in all participating devices so that it generates a pulse every full second.</p></blockquote><p>PPS ä¿¡å·å¿…é¡»ç”±æ‰€æœ‰å‚ä¸è®¾å¤‡çš„ç¡¬ä»¶æ—¶é’Ÿé©±åŠ¨ï¼Œä»¥ä¾¿æ¯æ•´ç§’äº§ç”Ÿä¸€ä¸ªè„‰å†²ã€‚</p><blockquote><p>If this is done for multiple hardware clocks in a distributed system their synchronization accuracy can be checked on a measurement device like a scope by measuring the distance of PPS pulses originating from different devices.</p></blockquote><p>å¦‚æœåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸ºå¤šä¸ªç¡¬ä»¶æ—¶é’Ÿæ‰§è¡Œæ­¤æ“ä½œï¼Œåˆ™å¯ä»¥é€šè¿‡æµ‹é‡æ¥è‡ªä¸åŒè®¾å¤‡çš„ PPS è„‰å†²çš„è·ç¦»æ¥æ£€æŸ¥å®ƒä»¬çš„åŒæ­¥å‡†ç¡®æ€§ï¼Œä¾‹å¦‚ç¤ºæ³¢å™¨ã€‚</p><blockquote><p>After their clocks have been correctly synchronized, the PPS pulses triggered every second should only have a marginal time distance in a successful scenario.</p></blockquote><p>åœ¨å®ƒä»¬çš„æ—¶é’Ÿæ­£ç¡®åŒæ­¥ä¹‹åï¼Œåœ¨æˆåŠŸçš„æƒ…å†µä¸‹ï¼Œæ¯ç§’è§¦å‘çš„ PPS è„‰å†²åº”è¯¥åªæœ‰è¾¹é™…æ—¶é—´è·ç¦»ã€‚</p><blockquote><p>However, the 1PPS method is not feasible for automotive environment, where using a separate output pin for generating the 1PPS signal on the ECU is considered costly.</p></blockquote><p>ç„¶è€Œï¼Œ1PPS æ–¹æ³•åœ¨æ±½è½¦ç¯å¢ƒä¸­ä¸å¯è¡Œï¼Œå› ä¸ºä½¿ç”¨å•ç‹¬çš„è¾“å‡ºå¼•è„šåœ¨ ECU ä¸Šäº§ç”Ÿ 1PPS ä¿¡å·è¢«è®¤ä¸ºæ˜¯æ˜‚è´µçš„ã€‚</p><blockquote><p>Furthermore, static offset in the internal clock of a slave may exist and can be canceled out by an opposite static offset in the logic that drives the 1PPS output.</p></blockquote><p>æ­¤å¤–ï¼Œslave å†…éƒ¨æ—¶é’Ÿä¸­çš„é™æ€åç§»å¯èƒ½å­˜åœ¨ï¼Œå¹¶ä¸”å¯ä»¥è¢«é©±åŠ¨ 1PPS è¾“å‡ºçš„é€»è¾‘ä¸­çš„ç›¸åçš„é™æ€åç½®æŠµæ¶ˆã€‚</p><blockquote><p>This will result in an error condition that cannot be observable by using 1PPS measurement method.</p></blockquote><p>è¿™å°†å¯¼è‡´ä½¿ç”¨ 1PPS æµ‹é‡æ–¹æ³•æ— æ³•è§‚å¯Ÿåˆ°çš„è¯¯å·®æƒ…å†µã€‚</p><blockquote><p>In order to mitigate the flaws from 1PPS measurement, Advance methods like Ingress Reporting Method and Reverse Sync Method may be considered for alternative measurement methods. More details for Ingress Reporting Method and Reverse Sync Method, please refer to [12, 802.1AS Recovered Clock Quality Testing].</p></blockquote><p>ä¸ºäº†å‡è½» 1PPS æµ‹é‡çš„ç¼ºé™·ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Ingress ReportingMethod å’Œ Reverse Sync Method ç­‰å…ˆè¿›çš„æ–¹æ³•ä½œä¸ºæ›¿ä»£çš„æµ‹é‡æ–¹æ³•ã€‚æœ‰å…³ IngressReporting Method å’Œåå‘åŒæ­¥æ–¹æ³•çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ [12, 802.1AS Recovered Clock Quality Testing]ã€‚</p><p><strong>Usage of PPS</strong></p><hr><h1 id="äº”-macsec"><a class="anchor" href="#äº”-macsec">#</a> äº”ã€MACsec</h1><h1 id="1-scope-of-document-3"><a class="anchor" href="#1-scope-of-document-3">#</a> <strong>1 Scope of Document</strong></h1><blockquote><p>This document specifies requirements on MACsec protocols in the AUTOSAR Foundation.</p><p>The motivation is to specify the usage of:</p><ul><li>IEEE 802.1AE (also known as MACsec) protocol.</li><li>MACsec Key Agreement protocol (standardized in IEEE 802.1X).</li></ul></blockquote><p>æœ¬æ–‡æ¡£æŒ‡å®šäº† AUTOSAR åŸºé‡‘ä¼šå¯¹ MACsec åè®®çš„è¦æ±‚ã€‚ç›®çš„æ˜¯æ˜ç¡®ä¸‹åˆ—å„é¡¹çš„ç”¨æ³•:</p><ul><li>IEEE802.1AE (ä¹Ÿç§°ä¸º MACsec) åè®®ã€‚</li><li>MACsec å¯†é’¥åè®®åè®® (åœ¨ IEEE802.1X ä¸­æ ‡å‡†åŒ–)ã€‚</li></ul><h1 id="4-requirements-specification-2"><a class="anchor" href="#4-requirements-specification-2">#</a> <strong>4 Requirements Specification</strong></h1><h2 id="41-functional-overview-2"><a class="anchor" href="#41-functional-overview-2">#</a> <strong>4.1</strong> <strong>Functional Overview</strong></h2><blockquote><p>IEEE 802.1AE (also known as MACsec) is a network security standard that operates at the medium access control layer and defines connectionless data confidentiality and integrity for media access independent protocols.</p></blockquote><p>IEEE 802.1AE (ä¹Ÿç§°ä¸º MACsec) æ˜¯ä¸€ç§åœ¨åª’ä½“è®¿é—®æ§åˆ¶å±‚è¿è¡Œçš„ç½‘ç»œå®‰å…¨æ ‡å‡†ï¼Œä¸ºåª’ä½“è®¿é—®ç‹¬ç«‹åè®®å®šä¹‰äº†æ— è¿æ¥æ•°æ®æœºå¯†æ€§å’Œå®Œæ•´æ€§ã€‚</p><blockquote><p>The 802.1AE standard specifies the implementation of MAC Security Entities (SecY), which are part of the stations attached to the same LAN, providing secure MAC service to the client. The standard defines:</p></blockquote><p>802.1AE æ ‡å‡†è§„å®šäº† MAC å®‰å…¨å®ä½“ (SecY) çš„å®ç°ï¼Œå®ƒä»¬æ˜¯è¿æ¥åˆ°åŒä¸€å±€åŸŸç½‘çš„ç«™ç‚¹çš„ä¸€éƒ¨åˆ†ï¼Œä¸ºå®¢æˆ·ç«¯æä¾›å®‰å…¨çš„ MAC æœåŠ¡ã€‚è¯¥æ ‡å‡†å®šä¹‰äº†:</p><blockquote><ul><li><p>MACsec frame format, which is a valid Ethernet frame with a specific EtherType and includes the following additional fields:</p><p>MACsec å¸§æ ¼å¼ï¼Œå®ƒæ˜¯å…·æœ‰ç‰¹å®š EtherType çš„æœ‰æ•ˆä»¥å¤ªç½‘å¸§ï¼Œå¹¶åŒ…æ‹¬ä»¥ä¸‹é™„åŠ å­—æ®µ:</p><ul><li><p>Security Tag, which is an extension of the EtherType.</p><p>å®‰å…¨æ ‡ç­¾ï¼Œå®ƒæ˜¯ EtherType çš„æ‰©å±•ã€‚</p></li><li><p>Message authentication code (ICV).</p><p>æ¶ˆæ¯èº«ä»½éªŒè¯ç  (ICV)</p></li></ul></li><li><p>Secure Connectivity Associations (CAs) that represent groups of stations connected via unidirectional Secure Channels.</p><p>å®‰å…¨è¿æ¥å…³è” (CAs)ï¼Œè¡¨ç¤ºé€šè¿‡å•å‘å®‰å…¨é€šé“è¿æ¥çš„ç«™ç»„ã€‚</p></li><li><p>Security Associations (SAs) within each Secure Channel. Each association uses its own key (SAK). More than one association is permitted within the channel for the purpose of key change without traffic interruption (standard requires devices to support at least two).</p><p>æ¯ä¸ªå®‰å…¨é€šé“ä¸­çš„å®‰å…¨å…³è” (SAs)ã€‚æ¯ä¸ªå…³è”ä½¿ç”¨è‡ªå·±çš„å¯†é’¥ (SAK)ã€‚é€šé“ä¸­å…è®¸ä¸€ä¸ªä»¥ä¸Šçš„å…³è”ï¼Œä»¥ä¾¿åœ¨ä¸ä¸­æ–­é€šä¿¡çš„æƒ…å†µä¸‹æ›´æ”¹å¯†é’¥ (æ ‡å‡†è¦æ±‚è®¾å¤‡è‡³å°‘æ”¯æŒä¸¤ä¸ª)</p></li><li><p>A default cipher suite of GCM-AES-128 (Galois/Counter Mode of Advanced Encryption Standard cipher with 128-bit key)</p><p>ä¸€ä¸ªé»˜è®¤çš„ GCM-AES-128 å¯†ç å¥—ä»¶ (å…·æœ‰ 128 ä½å¯†é’¥çš„é«˜çº§åŠ å¯†æ ‡å‡†å¯†ç çš„ Galois/Counter æ¨¡å¼)</p><ul><li>GCM-AES-256 using a 256-bit key is supported</li></ul></li></ul></blockquote><p><img data-src="../../../img.assets/24-11-04%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%885%EF%BC%89CommunicationManagement/image-20240920132524110.png" alt="image-20240920132524110"></p><blockquote><p>MACsec allows unauthorized LAN connections to be identified and excluded from communication within the network. In common with IPsec and TLS, MACsec defines a security infrastructure to provide data confidentiality, data integrity, and data origin authentication.</p></blockquote><p>MACsec å…è®¸è¯†åˆ«æœªç»æˆæƒçš„ LAN è¿æ¥ï¼Œå¹¶å°†å…¶æ’é™¤åœ¨ç½‘ç»œå†…çš„é€šä¿¡ä¹‹å¤–ã€‚ä¸ IPsec å’Œ TLS ä¸€æ ·ï¼ŒMACsec å®šä¹‰äº†ä¸€ä¸ªå®‰å…¨åŸºç¡€ç»“æ„ï¼Œå¯æä¾›æ•°æ®ä¿å¯†æ€§ã€æ•°æ®å®Œæ•´æ€§å’Œæ•°æ®æºèº«ä»½éªŒè¯ã€‚</p><blockquote><p>By assuring that a frame comes from the station that claimed to send it (this might require additional mechanisms), MACsec can even mitigate attacks on Layer 2 protocols that cannot be protected otherwise. A scenario in which MACsec protects a layer 2 attack, is in case an intruder installs a device in the cable harness to launch a man-in-the-middle attack.</p></blockquote><p>é€šè¿‡ç¡®ä¿å¸§æ¥è‡ªå£°ç§°å‘é€è¯¥å¸§çš„ç«™ (è¿™å¯èƒ½éœ€è¦å…¶ä»–æœºåˆ¶)ï¼ŒMACsec ç”šè‡³å¯ä»¥å‡è½»æ— æ³•ä»¥å…¶ä»–æ–¹å¼ä¿æŠ¤çš„ 2 å±‚åè®®çš„æ”»å‡»ã€‚MACsec ä¿æŠ¤ 2 å±‚æ”»å‡»çš„æƒ…å†µæ˜¯ï¼Œå¦‚æœå…¥ä¾µè€…åœ¨ç”µç¼†çº¿æŸä¸­å®‰è£…è®¾å¤‡ä»¥å‘èµ·ä¸­é—´äººæ”»å‡»ã€‚</p><blockquote><p>In order to recognize participants belonging to the same Secure Connectivity Association (CAs), establish Secure Channels, and maintain them alive, the participants on the communication make use of the MACsec Key Agreement protocol (MKA). This protocol is described and specified in the IEEE 802.1X standard.</p></blockquote><p>ä¸ºäº†è¯†åˆ«å±äºåŒä¸€å®‰å…¨è¿æ¥ (CAs) çš„å‚ä¸è€…ã€å»ºç«‹å®‰å…¨é€šé“å¹¶ä½¿å…¶ä¿æŒæ´»åŠ¨çŠ¶æ€ï¼Œé€šä¿¡ä¸­çš„å‚ä¸è€…ä½¿ç”¨ MACsec å¯†é’¥åè®® (MKA)ã€‚è¯¥åè®®åœ¨ IEEE 802.1X æ ‡å‡†ä¸­è¿›è¡Œäº†æè¿°å’ŒæŒ‡å®šã€‚</p><h3 id="411-motivation"><a class="anchor" href="#411-motivation">#</a> <strong>4.1.1</strong> <strong>Motivation</strong></h3><blockquote><p>AUTOSAR supports actually several protocols to establish a secure communication channel which provide data confidentiality, data integrity and data origin authentication over Ethernet (e.g. IPsec, TLS, SecOC).</p></blockquote><p>AUTOSAR å®é™…ä¸Šæ”¯æŒå‡ ç§åè®®ï¼Œä»¥å»ºç«‹å®‰å…¨é€šä¿¡é€šé“ï¼Œè¯¥é€šé“åœ¨ä»¥å¤ªç½‘ (ä¾‹å¦‚ IPsecã€TLSã€SecOC) ä¸Šæä¾›æ•°æ®æœºå¯†æ€§ã€æ•°æ®å®Œæ•´æ€§å’Œæ•°æ®æºèº«ä»½éªŒè¯ã€‚</p><blockquote><p>The TLS protocol aims primarily to provide privacy and data integrity between two communication peers.</p></blockquote><p>TLS åè®®ä¸»è¦æ—¨åœ¨æä¾›ä¸¤ä¸ªé€šä¿¡åŒè¡Œä¹‹é—´çš„éšç§å’Œæ•°æ®å®Œæ•´æ€§ã€‚</p><blockquote><p>If more than two communication peers need to exchange data in integrity protected way, for each peer connection an own TLS connection must be setup.</p></blockquote><p>å¦‚æœä¸¤ä¸ªä»¥ä¸Šçš„é€šä¿¡å¯¹ç­‰æ–¹éœ€è¦ä»¥å—å®Œæ•´æ€§ä¿æŠ¤çš„æ–¹å¼äº¤æ¢æ•°æ®ï¼Œåˆ™å¿…é¡»ä¸ºæ¯ä¸ªå¯¹ç­‰æ–¹è¿æ¥è®¾ç½®ä¸€ä¸ªè‡ªå·±çš„ TLS è¿æ¥ã€‚</p><blockquote><p>TLS is application protocol independent; higher-level protocols can layer on top of TLS transparently. TLS needs for each application-based session an own setup connection, which leads to a resource overhead.</p></blockquote><p>TLS æ˜¯ç‹¬ç«‹äºåº”ç”¨ç¨‹åºåè®®çš„ï¼Œæ›´é«˜çº§åˆ«çš„åè®®å¯ä»¥é€æ˜åœ°å åŠ åœ¨ TLS ä¹‹ä¸Šã€‚TLS éœ€è¦ä¸ºæ¯ä¸ªåŸºäºåº”ç”¨ç¨‹åºçš„ä¼šè¯è®¾ç½®è‡ªå·±çš„è¿æ¥ï¼Œä»è€Œå¯¼è‡´èµ„æºå¼€é”€ã€‚</p><blockquote><p>Each session needs an own database entry for the negotiated key, the session status, and other organizational information.</p></blockquote><p>æ¯ä¸ªä¼šè¯éƒ½éœ€è¦ä¸€ä¸ªè‡ªå·±çš„æ•°æ®åº“æ¡ç›®æ¥å­˜å‚¨å•†å®šçš„å¯†é’¥ã€ä¼šè¯çŠ¶æ€å’Œå…¶ä»–ç»„ç»‡ä¿¡æ¯ã€‚</p><blockquote><p>To avoid the overhead introduced by the large number of required TLS connections it is possible to push the secure communication channel one level down, to the IP layer.</p></blockquote><p>ä¸ºäº†é¿å…å¤§é‡æ‰€éœ€çš„ TLS è¿æ¥å¸¦æ¥çš„å¼€é”€ï¼Œå¯ä»¥å°†å®‰å…¨é€šä¿¡é€šé“å‘ä¸‹æ¨ä¸€çº§åˆ° IP å±‚ã€‚</p><blockquote><p>To secure the IP layer IPsec was introduced. IPsec includes protocols for establishing mutual authentication between hosts at the beginning of a session and negotiation of cryptographic keys to use during the session.</p></blockquote><p>ä¸ºäº†ä¿è¯ IP å±‚çš„å®‰å…¨ï¼Œå¼•å…¥äº† IPsec ã€‚IPsec åŒ…æ‹¬ä¸€äº›åè®®ï¼Œç”¨äºåœ¨ä¼šè¯å¼€å§‹æ—¶åœ¨ä¸»æœºä¹‹é—´å»ºç«‹ç›¸äº’èº«ä»½éªŒè¯ï¼Œä»¥åŠè°ˆåˆ¤åœ¨ä¼šè¯æœŸé—´ä½¿ç”¨çš„åŠ å¯†å¯†é’¥ã€‚</p><blockquote><p>IPsec can protect data flows between a pair of hosts (host-to-host), between a pair of security gateways (network-to-network), or between a security gateway and a host (network-to-host).</p></blockquote><p>IPsec å¯ä»¥ä¿æŠ¤ä¸€å¯¹ä¸»æœº (ä¸»æœºå¯¹ä¸»æœº)ã€ä¸€å¯¹å®‰å…¨ç½‘å…³ (ç½‘ç»œå¯¹ç½‘ç»œ) æˆ–å®‰å…¨ç½‘å…³ä¸ä¸»æœº (ç½‘ç»œå¯¹ä¸»æœº) ä¹‹é—´çš„æ•°æ®æµã€‚</p><blockquote><p>IPsec uses cryptographic security services to protect communications over Internet Protocol (IP) networks. It supports network-level peer authentication, data-origin authentication, data integrity, data confidentiality (encryption), and replay protection (RFC 4301).</p></blockquote><p>IPsec ä½¿ç”¨åŠ å¯†å®‰å…¨æœåŠ¡æ¥ä¿æŠ¤ Internet åè®® (IP) ç½‘ç»œä¸Šçš„é€šä¿¡ã€‚å®ƒæ”¯æŒç½‘ç»œçº§å¯¹ç­‰è®¤è¯ã€æ•°æ®æºè®¤è¯ã€æ•°æ®å®Œæ•´æ€§ã€æ•°æ®æœºå¯†æ€§ (åŠ å¯†) å’Œé‡æ’­ä¿æŠ¤ (RFC4301)ã€‚</p><blockquote><p>The advantage of IPsec, compared to TLS, is the reduced overhead, because IPsec combines all secure application channels to a single secure channel. However, IPsec has a negative impact in the typical automotive use case.</p></blockquote><p>ä¸ TLS ç›¸æ¯”ï¼ŒIPsec çš„ä¼˜åŠ¿åœ¨äºå‡å°‘äº†å¼€é”€ï¼Œå› ä¸º IPsec å°†æ‰€æœ‰å®‰å…¨åº”ç”¨ç¨‹åºé€šé“åˆå¹¶åˆ°ä¸€ä¸ªå®‰å…¨é€šé“ä¸­ã€‚ç„¶è€Œï¼ŒIPsec åœ¨å…¸å‹çš„æ±½è½¦ç”¨ä¾‹ä¸­ä¼šäº§ç”Ÿè´Ÿé¢å½±å“ã€‚</p><blockquote><p>Since IPsec connects on a host-to-host level and in the automotive world it is sometimes not possible to use the Internet model, as the connectivity between hosts is higher.</p></blockquote><p>ç”±äº IPsec æ˜¯åœ¨ä¸»æœºå¯¹ä¸»æœºçš„çº§åˆ«ä¸Šè¿›è¡Œè¿æ¥çš„ï¼Œåœ¨æ±½è½¦é¢†åŸŸï¼Œç”±äºä¸»æœºä¹‹é—´çš„è¿æ¥æ€§è¾ƒé«˜ï¼Œæœ‰æ—¶æ— æ³•ä½¿ç”¨å› ç‰¹ç½‘æ¨¡å¼ã€‚</p><blockquote><p>Here, the numbers of connections will also increase the resources and key negotiations time by power of two when an additional peer joins the secure communication network.</p></blockquote><p>åœ¨è¿™é‡Œï¼Œå½“é¢å¤–çš„åŒä¼´åŠ å…¥å®‰å…¨é€šä¿¡ç½‘ç»œæ—¶ï¼Œè¿æ¥çš„æ•°é‡ä¹Ÿä¼šå¢åŠ èµ„æºå’Œ key åå•†æ—¶é—´çš„ä¸¤å€ã€‚</p><blockquote><p>Avoiding this overhead again is possible pushing the secure channel one level down, to the MAC layer. With security on the MAC layer, protocols not based on IP as well as protocols using multicast can be protected.</p></blockquote><p>å°†å®‰å…¨é€šé“å‘ä¸‹æ¨åˆ° MAC å±‚å¯ä»¥å†æ¬¡é¿å…è¿™ç§å¼€é”€ã€‚ç”±äº MAC å±‚çš„å®‰å…¨æ€§ï¼Œä¸åŸºäº IP çš„åè®®ä»¥åŠä½¿ç”¨ç»„æ’­çš„åè®®éƒ½å¯ä»¥å¾—åˆ°ä¿æŠ¤ã€‚</p><blockquote><p>The goal is to introduce the IEEE 802.1AE (MACsec) solution to reduce overhead in a meshed network layout and to reduce the timing issue during key negotiation by reducing the number of peers (peer per Ethernet port instead of peer per UDP/TCP port) and avoiding higher network stack layers.</p></blockquote><p>ç›®æ ‡æ˜¯å¼•å…¥ IEEE 802.1AE (MACsec) è§£å†³æ–¹æ¡ˆï¼Œä»¥å‡å°‘ç½‘çŠ¶ç½‘ç»œå¸ƒå±€ä¸­çš„å¼€é”€ï¼Œå¹¶é€šè¿‡å‡å°‘å¯¹ç­‰ç‚¹æ•°é‡ (æ¯ä¸ªä»¥å¤ªç½‘ç«¯å£çš„å¯¹ç­‰ç‚¹ï¼Œè€Œä¸æ˜¯æ¯ä¸ª UDP/TCP ç«¯å£çš„å¯¹ç­‰ç‚¹) å’Œé¿å…æ›´é«˜çš„ç½‘ç»œå †æ ˆå±‚æ¥å‡å°‘å¯†é’¥åå•†æœŸé—´çš„æ—¶é—´é—®é¢˜ã€‚</p><blockquote><p>Implementing the MACsec protocol in the AUTOSAR platform provides options to establish secure communication channels between network nodes with confidentiality and/or integrity.</p></blockquote><p>åœ¨ AUTOSAR å¹³å°ä¸­å®ç° MACsec åè®®æä¾›äº†åœ¨ç½‘ç»œèŠ‚ç‚¹ä¹‹é—´å»ºç«‹ä¿å¯†å’Œ / æˆ–å®Œæ•´çš„å®‰å…¨é€šä¿¡é€šé“çš„é€‰é¡¹ã€‚</p><blockquote><p>This document deals with the realization of the functionality either in a MACsec aware hardware (PHY or specific controller) and MACsec software solution, and the interoperability of the different solutions with each other.</p></blockquote><p>æœ¬æ–‡æ¡£æ¶‰åŠåœ¨ MACsec æ„è¯†ç¡¬ä»¶ (PHY æˆ–ç‰¹å®šæ§åˆ¶å™¨) å’Œ MACsec è½¯ä»¶è§£å†³æ–¹æ¡ˆä¸­å®ç°åŠŸèƒ½ï¼Œä»¥åŠä¸åŒè§£å†³æ–¹æ¡ˆä¹‹é—´çš„äº’æ“ä½œæ€§ã€‚</p><blockquote><p>In the AUTOSAR Classic Platform an adaption of the MAC layer is needed to implement the IEEE 802.1AE solution.</p></blockquote><p>åœ¨ AUTOSAR ç»å…¸å¹³å°ä¸­ï¼Œéœ€è¦å¯¹ MAC å±‚è¿›è¡Œé€‚é…ï¼Œä»¥å®ç° IEEE 802.1AE è§£å†³æ–¹æ¡ˆã€‚</p><h3 id="412-functional-elements"><a class="anchor" href="#412-functional-elements">#</a> <strong>4.1.2</strong> <strong>Functional elements</strong></h3><blockquote><p><strong>The standards related with MACsec ([3, IEEE-802.1AE-2018] and [4, IEEE-802.1X-2020]) define the following functional elements:</strong></p></blockquote><p><strong>ä¸ MACsec ç›¸å…³çš„æ ‡å‡† ([3, IEEE-802.1AE-2018] å’Œ [4, IEEE-802.1X-2020]) å®šä¹‰äº†ä»¥ä¸‹åŠŸèƒ½å…ƒç´ :</strong></p><blockquote><ul><li>MAC Security Entities (SecYs): The SecY defines and identifies the authentic partners. A SecY implements the secure MAC Service to its clients. The MAC Security Entity is responsible of integrity protecting/validating and, if required, encrypt/decrypt to provide user data confidentiality. The SecY can be a SW or a HW implementation.</li></ul></blockquote><p>MAC å®‰å…¨å®ä½“ (SeCYs):SecY å®šä¹‰å¹¶è¯†åˆ«çœŸæ­£çš„åˆä½œä¼™ä¼´ã€‚SecY å‘å…¶å®¢æˆ·ç«¯å®ç°å®‰å…¨çš„ MAC æœåŠ¡ã€‚MAC å®‰å…¨å®ä½“è´Ÿè´£å®Œæ•´æ€§ä¿æŠ¤ / éªŒè¯ï¼Œå¦‚æœéœ€è¦ï¼ŒåŠ å¯† / è§£å¯†ä»¥æä¾›ç”¨æˆ·æ•°æ®çš„æœºå¯†æ€§ã€‚SecY å¯ä»¥æ˜¯è½¯ä»¶æˆ–ç¡¬ä»¶å®ç°ã€‚</p><blockquote><ul><li>Port Access Entities (PAEs): The PAE provides mutual authentication of partici pants belonging to a secure Connectivity Association (CA), and agrees the cryptographic keys and related parameters to meet the requirements of the SecY.</li></ul></blockquote><p>ç«¯å£æ¥å…¥å®ä½“ (PAEs):PAE ä¸ºå±äºå®‰å…¨è¿æ¥ (CA) çš„å‚ä¸è€…æä¾›ç›¸äº’è®¤è¯ï¼Œå¹¶åŒæ„æ»¡è¶³ SecY è¦æ±‚çš„åŠ å¯†å¯†é’¥å’Œç›¸å…³å‚æ•°ã€‚</p><blockquote><ul><li>MAC Security Key Agreement Entities (KaYs): The KaY is the responsible for MKA within the PAE, it serves to setup a Secure Channel via a key agreement and monitors it during its life cycle.</li></ul></blockquote><p>MAC å®‰å…¨å¯†é’¥åè®®å®ä½“ (KaYs):KaY æ˜¯ PAE ä¸­è´Ÿè´£ MKA çš„ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªå¯†é’¥åè®®å»ºç«‹ä¸€ä¸ªå®‰å…¨ä¿¡é“ï¼Œå¹¶åœ¨å…¶ç”Ÿå­˜å‘¨æœŸå†…ç›‘è§†å®ƒã€‚</p><blockquote><ul><li>Secure Channel (SC): Stores various configuration parameters, such as whether to perform replay protection, or whether to enable encryption.</li></ul></blockquote><p>å®‰å…¨é€šé“ (SC): å­˜å‚¨å„ç§é…ç½®å‚æ•°ï¼Œå¦‚æ˜¯å¦æ‰§è¡Œé‡æ’­ä¿æŠ¤ï¼Œæˆ–æ˜¯å¦å¯ç”¨åŠ å¯†ã€‚</p><blockquote><ul><li>Secure Association (SA): Security relationship under a Secure Channel. Each SA supports a different key. A Secure Channel supports several consecutive SAs to allow exchanging Keys without terminating the established Secure Channel.</li></ul></blockquote><p>å®‰å…¨å…³è” (SA): å®‰å…¨é€šé“ä¸‹çš„å®‰å…¨å…³ç³»ã€‚æ¯ä¸ª SA æ”¯æŒä¸åŒçš„å¯†é’¥ã€‚å®‰å…¨é€šé“æ”¯æŒå¤šä¸ªè¿ç»­çš„ SAï¼Œä»¥å…è®¸åœ¨ä¸ç»ˆæ­¢å·²å»ºç«‹çš„ Secure Channel çš„æƒ…å†µä¸‹äº¤æ¢å¯†é’¥ã€‚</p><blockquote><ul><li>MKPDU: MACsec Key Agreement Protocol Data Units.</li></ul></blockquote><p>MKPDU:MACsec å¯†é’¥åè®®æ•°æ®å•å…ƒã€‚</p><blockquote><ul><li>MACsec Protocol Data Units (MPDU): Defines the frame layout, which resides in the MAC layer (ISO/OSI layer 2).</li></ul></blockquote><p>MACsec åè®®æ•°æ®å•å…ƒ (MPDU): å®šä¹‰å¸§å¸ƒå±€ï¼Œå®ƒä½äº MAC å±‚ (ISO/OSI å±‚ 2)</p><blockquote><p><strong>The following terms identify roles within the protocol scenarios:</strong></p></blockquote><p><strong>ä»¥ä¸‹æœ¯è¯­æ ‡è¯†åè®®åœºæ™¯ä¸­çš„è§’è‰²:</strong></p><blockquote><ul><li>Participant: The personification of a single KaYâ€™s participation in a given MKA instance. It transmits and receives MKPDUs protected by keys derived from a single given CAK and identified by a Connectivity Association Key Name (CKN).</li></ul></blockquote><p>å‚ä¸è€…ï¼šå•ä¸ª KaY å‚ä¸ç»™å®š MKA å®ä¾‹çš„æ‹ŸäººåŒ–ã€‚å®ƒå‘é€å’Œæ¥æ”¶ç”±å•ä¸ªç»™å®š CAK æ´¾ç”Ÿå¹¶ç”±è¿æ¥æ€§å…³è”å¯†é’¥åç§° (CKN) æ ‡è¯†çš„å¯†é’¥ä¿æŠ¤çš„ MKPDUSã€‚</p><blockquote><ul><li>Key Server: Authenticated participant which generates and distributes the Secure Association Key to use in a Secure Channel. This participant decides the cipher suites to use.</li></ul></blockquote><p>å¯†é’¥æœåŠ¡å™¨ï¼šç»è¿‡èº«ä»½éªŒè¯çš„å‚ä¸è€…ï¼Œç”Ÿæˆå¹¶åˆ†å‘å®‰å…¨å…³è”å¯†é’¥ï¼Œä»¥ä¾¿åœ¨å®‰å…¨é€šé“ä¸­ä½¿ç”¨ã€‚è¯¥å‚ä¸è€…å†³å®šä½¿ç”¨å¯†ç å¥—ä»¶ã€‚</p><blockquote><ul><li>Peer: Authenticated participant which does not possess the Key Server role.</li></ul></blockquote><p>Peer: ä¸å…·æœ‰å¯†é’¥æœåŠ¡å™¨è§’è‰²çš„ç»è¿‡èº«ä»½éªŒè¯çš„å‚ä¸è€…ã€‚</p><blockquote><p><strong>The following keys are required for the MACsec and MKA communication:</strong></p></blockquote><p><strong>MACsec å’Œ MKA é€šä¿¡éœ€è¦ä»¥ä¸‹å¯†é’¥:</strong></p><blockquote><ul><li>Secure Connectivity Association Key (CAK): Secret key possessed by members of a given CA. The CAK is identified by its respective secure Connectivity Association Key Name (CKN).</li></ul></blockquote><p>å®‰å…¨è¿æ¥å…³è”å¯†é’¥ (CAK): ç”±ç»™å®š CA æˆå‘˜æ‰€æ‹¥æœ‰çš„ç§˜å¯†å¯†é’¥ã€‚CAK ç”±å…¶å„è‡ªçš„å®‰å…¨è¿æ¥å…³è”å¯†åŒ™åç§° (CKN) æ¥è¯†åˆ«ã€‚</p><blockquote><ul><li>Integrity Check Value Key (ICK): Key derived from the respective CAK and used to transmit/validate Integrity protected MKPDUs.</li></ul></blockquote><p>å®Œæ•´æ€§æ£€æŸ¥å€¼å¯†é’¥ (ICK): æºè‡ªç›¸åº” CAK çš„å¯†é’¥ï¼Œç”¨äºä¼ è¾“ / éªŒè¯å—å®Œæ•´æ€§ä¿æŠ¤çš„ MKPDUs</p><blockquote><ul><li>Key Encrypting Key (KEK): Key derived from the respective CAK and used to encrypt/decrypt a Secure Association Key (SAK).</li></ul></blockquote><p>å¯†é’¥åŠ å¯†å¯†é’¥ (KEK): æºè‡ªç›¸åº” CAK çš„å¯†é’¥ï¼Œç”¨äºåŠ å¯† / è§£å¯†å®‰å…¨å…³è”å¯†é’¥ (SAK)</p><blockquote><ul><li>Secure Association Key (SAK): Key used by the MACsec Entity (SecY) to integrity protect/validate and/or encrypt/decrypt MPDUs belonging to an specific Secure Association. The SAK is generated by one MKA participant (Key Server) and distributed during the MKA sequence.</li></ul></blockquote><p>å®‰å…¨å…³è”å¯†é’¥ (SAK):MACsec å®ä½“ (SecY) ç”¨äºå®Œæ•´æ€§ä¿æŠ¤ / éªŒè¯å’Œ / æˆ–åŠ å¯† / è§£å¯†ç‰¹å®šå®‰å…¨å…³è”çš„ MPDUs çš„å¯†é’¥ã€‚SAK ç”± MKA å‚ä¸è€… (å¯†é’¥æœåŠ¡å™¨) ç”Ÿæˆï¼Œå¹¶åœ¨ MKA åºåˆ—ä¸­åˆ†å‘.</p><p><img data-src="../../../img.assets/24-11-04%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%885%EF%BC%89CommunicationManagement/image-20240920154335223.png" alt="image-20240920154335223"></p><blockquote><p>As depicted in Figure 4.2, the MKA protocol consists of three phases:</p><ol><li>Authentication of participants. èº«ä»½éªŒè¯</li><li>Session negotiation. åå•†ä¼šè¯</li><li>Secure communication. å®‰å…¨é€šä¿¡</li></ol></blockquote><p><strong>Authentication of participants</strong></p><blockquote><p>During the first phase of the MKA sequence, the MKA Entity (KaY) identifies other participants belonging to its configured CA.</p></blockquote><p>åœ¨ MKA åºåˆ—çš„ç¬¬ä¸€é˜¶æ®µï¼ŒMKA å®ä½“ (KaY) è¯†åˆ«å±äºå…¶é…ç½®çš„ CA çš„å…¶ä»–å‚ä¸è€…ã€‚</p><blockquote><p>In the current version of this document, only pre shared keys authentication is supported and the participants possess fixed roles in the MKA sequence.</p></blockquote><p>åœ¨æœ¬æ–‡æ¡£çš„å½“å‰ç‰ˆæœ¬ä¸­ï¼Œåªæ”¯æŒé¢„å…±äº«å¯†é’¥èº«ä»½éªŒè¯ï¼Œå‚ä¸è€…åœ¨ MKA åºåˆ—ä¸­æ‹¥æœ‰å›ºå®šè§’è‰²ã€‚</p><blockquote><p>The participants of the MKA communication will identify and authenticate each other based on the CKN and ICV of the MKPDUs exchanged.</p></blockquote><p>MKA é€šä¿¡çš„å‚ä¸è€…å°†æ ¹æ®æ‰€äº¤æ¢çš„ MKPDU çš„ CKN å’Œ ICY ç›¸äº’è¯†åˆ«å’Œè®¤è¯ã€‚</p><blockquote><p>Once a participant can successfully identify and authenticate another participant belonging to the same CA, the member identifier of the other participant is included in its transmitted â€œPotential Peer Listâ€.</p></blockquote><p>ä¸€æ—¦å‚ä¸è€…èƒ½å¤ŸæˆåŠŸè¯†åˆ«å’ŒéªŒè¯å±äºåŒä¸€ CA çš„å¦ä¸€ä¸ªå‚ä¸è€…ï¼Œå¦ä¸€ä¸ªå‚ä¸è€…çš„æˆå‘˜æ ‡è¯†ç¬¦å°†åŒ…å«åœ¨å…¶ä¼ è¾“çš„ â€œæ½œåœ¨å¯¹ç­‰æ–¹åˆ—è¡¨â€ ä¸­ã€‚</p><blockquote><p>If a participant recognizes another one and it is listed in the others â€œPotential peer Listâ€, it will mark it as Live participant. The Member Identifier of the other participant will be included in the transmitted â€œLive Peer Listâ€.</p></blockquote><p>å¦‚æœå‚ä¸è€…è¯†åˆ«å‡ºå¦ä¸€ä¸ªå‚ä¸è€…å¹¶ä¸”å®ƒè¢«åˆ—åœ¨ â€œæ½œåœ¨åŒè¡Œåˆ—è¡¨â€ ä¸­ï¼Œå®ƒå°†å°†å…¶æ ‡è®°ä¸º â€œç°åœºå‚ä¸è€…â€â€ã€‚å…¶ä»–å‚ä¸è€…çš„æˆå‘˜æ ‡è¯†ç¬¦å°†åŒ…å«åœ¨ä¼ è¾“çš„ â€œç°åœºåŒè¡Œåˆ—è¡¨â€ ä¸­ã€‚</p><p><strong>Session negotiation</strong></p><blockquote><p>In the current version of this document, dynamic election of the Key Server member is not supported, and therefore each participant will currently configure in advance its role in the communication.</p></blockquote><p>åœ¨æœ¬æ–‡æ¡£çš„å½“å‰ç‰ˆæœ¬ä¸­ï¼Œä¸æ”¯æŒå¯†é’¥æœåŠ¡å™¨æˆå‘˜çš„åŠ¨æ€é€‰ä¸¾ï¼Œå› æ­¤æ¯ä¸ªå‚ä¸è€…å°†é¢„å…ˆé…ç½®å…¶åœ¨é€šä¿¡ä¸­çš„ä½œç”¨ã€‚</p><blockquote><p>The participants can share the supported cipher suites by means of the â€œMACsec Cipher Suites Announcementâ€. The participant with the Key Server role will select a cipher suite and generate and distribute a Secure Association Key accordingly.</p></blockquote><p>å‚ä¸è€…å¯ä»¥é€šè¿‡ â€œMACsec å¯†ç å¥—ä»¶å£°æ˜â€ å…±äº«æ”¯æŒçš„å¯†ç å¥—ä»¶ã€‚å…·æœ‰å¯†é’¥æœåŠ¡å™¨è§’è‰²çš„å‚ä¸è€…å°†é€‰æ‹©å¯†ç å¥—ä»¶ï¼Œå¹¶ç›¸åº”åœ°ç”Ÿæˆå’Œåˆ†å‘å®‰å…¨å…³è”å¯†é’¥ã€‚</p><blockquote><p>Both participants shall communicate the readiness to transmit and receive MACsec protected PDUs with the â€œMACsec SAK Useâ€ parameter set.</p></blockquote><p>åŒæ–¹å‚ä¸è€…åº”é€šè¿‡ â€œMACsec SAK Useâ€ å‚æ•°é›†é€šæŠ¥å‘é€å’Œæ¥æ”¶ MACsec ä¿æŠ¤çš„ PDUs çš„å‡†å¤‡çŠ¶æ€</p><blockquote><p>During the Secure Channel life time, it is possible to distribute new SAKs (and therefore create a new SA) without a communication interruption. The participants can also detect if the communication partner is alive.</p></blockquote><p>åœ¨å®‰å…¨é€šé“æœ‰æ•ˆæœŸå†…ï¼Œå¯ä»¥åœ¨ä¸ä¸­æ–­é€šä¿¡çš„æƒ…å†µä¸‹åˆ†å‘æ–°çš„ SAKs (ä»è€Œåˆ›å»ºæ–°çš„ SA)ã€‚å‚ä¸è€…è¿˜å¯ä»¥æ£€æµ‹é€šä¿¡ä¼™ä¼´æ˜¯å¦å­˜æ´»ã€‚</p><blockquote><p>In case a cipher suite with Extended Packet Number (XPN) is selected, additional parameter sets are exchanged during the Secure Channel life time to keep the channel information up-to-date.</p></blockquote><p>å¦‚æœé€‰æ‹©äº†å…·æœ‰æ‰©å±•æ•°æ®åŒ…ç¼–å· (XPN) çš„å¯†ç å¥—ä»¶ï¼Œåˆ™å°†åœ¨å®‰å…¨ä¿¡é“ä½¿ç”¨æœŸå†…äº¤æ¢é™„åŠ å‚æ•°é›†ï¼Œä»¥ä¿æŒä¿¡é“ä¿¡æ¯çš„æœ€æ–°çŠ¶æ€ã€‚</p><p><strong>Secure communication</strong></p><blockquote><p>After the identification, mutual authentication, distribution of keys, and installation of keys, the secure communication can start based on the parameters exchanged in the previous phases.</p></blockquote><p>åœ¨è¯†åˆ«ã€ç›¸äº’è®¤è¯ã€åˆ†é…å¯†é’¥å’Œå®‰è£…å¯†é’¥ä¹‹åï¼Œå¯ä»¥æ ¹æ®å‰å‡ ä¸ªé˜¶æ®µäº¤æ¢çš„å‚æ•°å¼€å§‹å®‰å…¨é€šä¿¡ã€‚</p><h2 id="42-functional-requirements-2"><a class="anchor" href="#42-functional-requirements-2">#</a> <strong>4.2</strong> <strong>Functional Requirements</strong></h2><h3 id="421-standards-to-support"><a class="anchor" href="#421-standards-to-support">#</a> <strong>4.2.1</strong> <strong>Standards to support</strong></h3><blockquote><p><strong draft="">[FO_RS_MACsec_00001]</strong> <strong>MACsec Protocol support</strong></p><p><strong draft="">[FO_RS_MACsec_00002]</strong> <strong>MACsec Key Agreement Protocol support</strong></p></blockquote><h3 id="422-common-requirements"><a class="anchor" href="#422-common-requirements">#</a> <strong>4.2.2</strong> <strong>Common Requirements</strong></h3><blockquote><p><strong draft="">[FO_RS_MACsec_00003]</strong> <strong>Using MACsec on external communication links</strong></p><p><strong draft="">[FO_RS_MACsec_00004]</strong> <strong>Configure which Ethernet ports use MACsec</strong></p><p><strong draft="">[FO_RS_MACsec_00005]</strong> <strong>MACsec status control</strong></p><p><strong draft="">[FO_RS_MACsec_00006]</strong> <strong>MACsec support for Adaptive AUTOSAR Platform</strong></p><p><strong draft="">[FO_RS_MACsec_00007]</strong> <strong>Configuration of unprotected traffic (for Software-based MACsec)</strong></p><p><strong draft="">[FO_RS_MACsec_00008]</strong> <strong>Configuration of unprotected traffic (for Hardware-based MACsec)</strong></p><p><strong draft="">[FO_RS_MACsec_00009]</strong> <strong>MACsec Security Events</strong></p></blockquote><h3 id="423-requirements-on-macsec-protocol"><a class="anchor" href="#423-requirements-on-macsec-protocol">#</a> <strong>4.2.3</strong> <strong>Requirements on MACsec Protocol</strong></h3><blockquote><p><strong draft="">[FO_RS_MACsec_00010]</strong> <strong>Support of integrity and confidentiality</strong></p><p><strong draft="">[FO_RS_MACsec_00011]</strong> <strong>MAC Security TAG</strong></p><p>MACsec Entity (SW or HW) shall support MAC Security TAG (SecTAG) as defined in [3, IEEE-802.1AE-2018]. The SecTAG shall convey:</p><ul><li>TAG Control Information (TCI)</li><li>Association Number (AN)</li><li>Short Length (SL)</li><li>Packet Number (PN)</li><li>Secure Channel Identifier (SCI) - Optional</li></ul><p><strong draft="">[FO_RS_MACsec_00012]</strong> <strong>MACsec EtherType</strong></p><p><strong draft="">[FO_RS_MACsec_00017]</strong> <strong>Support of Extended Packet Number (XPN)</strong></p><p><strong draft="">[FO_RS_MACsec_00018]</strong> <strong>Secure Channel Identifier (SCI)</strong></p><p><strong draft="">[FO_RS_MACsec_00019]</strong> <strong>Secure Data</strong></p><p><strong draft="">[FO_RS_MACsec_00020]</strong> <strong>Integrity Check Value (ICV)</strong></p><p><strong draft="">[FO_RS_MACsec_00021]</strong> <strong>Protect function in software solution</strong></p><p><strong draft="">[FO_RS_MACsec_00022]</strong> <strong>Validation function in software solution</strong></p></blockquote><h3 id="424-requirements-on-mka-protocol"><a class="anchor" href="#424-requirements-on-mka-protocol">#</a> <strong>4.2.4</strong> <strong>Requirements on MKA Protocol</strong></h3><blockquote><p><strong draft="">[FO_RS_MACsec_00023]</strong> <strong>Support of MKA Packets</strong></p><p><strong draft="">[FO_RS_MACsec_00024]</strong> <strong>Pre-shared key support</strong></p><p><strong draft="">[FO_RS_MACsec_00025]</strong> <strong>Key selection via CKN</strong></p></blockquote><h3 id="425-cryptography-for-macsec-and-mka"><a class="anchor" href="#425-cryptography-for-macsec-and-mka">#</a> <strong>4.2.5</strong> <strong>Cryptography for MACsec and MKA</strong></h3><blockquote><p><strong draft="">[FO_RS_MACsec_00026]</strong> <strong>GCM-based cipher support</strong></p><p><strong draft="">[FO_RS_MACsec_00027]</strong> <strong>Support of AES ciphers with at least 128 bits of key length</strong></p><p><strong draft="">[FO_RS_MACsec_00028]</strong> <strong>Support of AES ciphers with 256 bits of key length</strong></p><p><strong draft="">[FO_RS_MACsec_00029]</strong> <strong>Support of Key Encryption Key (KEK)</strong></p><p><strong draft="">[FO_RS_MACsec_00030]</strong> <strong>Support of Integrity Check Value Key (ICK)</strong></p><p><strong draft="">[FO_RS_MACsec_00031]</strong> <strong>Support of Key Derivation Function (KDF)</strong></p><p><strong draft="">[FO_RS_MACsec_00032]</strong> <strong>List of minimal supported cipher suites</strong></p><p><strong draft="">[FO_RS_MACsec_00033]</strong> <strong>Validation function for ICVs</strong></p><p><strong draft="">[FO_RS_MACsec_00034]</strong> <strong>Generation function for ICVs</strong></p><p><strong draft="">[FO_RS_MACsec_00035]</strong><strong>Key Handling with combined HSM and MACsec functionality</strong></p></blockquote><h3 id="426-requirements-for-macsec-capable-hardware"><a class="anchor" href="#426-requirements-for-macsec-capable-hardware">#</a> <strong>4.2.6</strong> <strong>Requirements for MACsec capable hardware</strong></h3><blockquote><p><strong draft="">[FO_RS_MACsec_00036]</strong> <strong>Interframe gap configuration of Ethernet controller</strong></p></blockquote><h3 id="427-additions-to-standards"><a class="anchor" href="#427-additions-to-standards">#</a> <strong>4.2.7</strong> <strong>Additions to Standards</strong></h3><blockquote><p><strong><span draft="">FO_RS_MACsec_00037</span> MACsec participants per link</strong></p><p><strong draft="">[FO_RS_MACsec_00038]</strong> <strong>MKA SC establishment retry phase</strong></p><p><strong draft="">[FO_RS_MACsec_00039]</strong> <strong>MKA rekey conditions</strong></p></blockquote><hr><h1 id="å…­-ieee1722"><a class="anchor" href="#å…­-ieee1722">#</a> å…­ã€IEEE1722</h1><h1 id="4-requirements-specification-3"><a class="anchor" href="#4-requirements-specification-3">#</a> <strong>4 Requirements Specification</strong></h1><blockquote><p>This chapter describes all requirements driving the work to define the FO_RS_IEEE1722.</p></blockquote><h2 id="41-functional-overview-3"><a class="anchor" href="#41-functional-overview-3">#</a> <strong>4.1</strong> <strong>Functional Overview</strong></h2><blockquote><p>IEEE specify a transport protocol for time-senstive applications in a bridged local area network (see [1, IEEE Std 1722-2016]). IEEE1722 streams transport data between stream data provider and 1 or multiple stream data consumers.</p></blockquote><p>IEEE ä¸ºæ¡¥æ¥å±€åŸŸç½‘ä¸­çš„æ—¶é—´æ•æ„Ÿåº”ç”¨ç¨‹åºæŒ‡å®šäº†ä¸€ç§ä¼ è¾“åè®® (è§ [1, IEEE Std 1722-2016])ã€‚IEEE1722 æµåœ¨æµæ•°æ®æä¾›è€…å’Œ 1 ä¸ªæˆ–å¤šä¸ªæµæ•°æ®æ¶ˆè´¹è€…ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚</p><blockquote><p>IEEE1722 streams carry among others a so-called "AVTP presentation time". The AVTP presentation time enables the possibilities to handle data synchronously across a local area network at several end nodes which receive the data via an IEEE1722 stream.</p></blockquote><p>IEEE 1722 æµåŒ…æ‹¬æ‰€è°“çš„ â€œAVTP å‘ˆç°æ—¶é—´â€ã€‚AVTP å‘ˆç°æ—¶é—´ä½¿å¾—åœ¨é€šè¿‡ IEEE 1722 æµçš„å‡ ä¸ªç«¯ç‚¹æ¥æ”¶æ•°æ®çš„å±€åŸŸç½‘ä¸­åŒæ­¥å¤„ç†æ•°æ®æˆä¸ºå¯èƒ½ã€‚</p><blockquote><p>The IEEE1722 transport protocol support several AVTP subtypes to cover different use cases,e.g. :</p><ul><li>audio and video streaming</li><li>distribution of a generated clock rate of a so-called media clock</li><li>encapsulation of bus frames (e.g. CAN frames, LIN frames) and transport via a IEEE1722 stream across the network</li></ul></blockquote><p>IEEE1722 ä¼ è¾“åè®®æ”¯æŒå¤šä¸ª AVTP äºšå‹ä»¥æ¶µç›–ä¸åŒçš„ç”¨ä¾‹ï¼Œä¾‹å¦‚:</p><ul><li>éŸ³é¢‘å’Œè§†é¢‘æµ</li><li>åˆ†é…æ‰€è°“çš„åª’ä½“æ—¶é’Ÿç”Ÿæˆçš„æ—¶é’Ÿé€Ÿç‡</li><li>å°è£…æ€»çº¿å¸§ (ä¾‹å¦‚ CAN å¸§ã€LIN å¸§) å¹¶é€šè¿‡ IEEE1722 æµåœ¨ç½‘ç»œä¸Šä¼ è¾“</li></ul><blockquote><p>This specification contains requirements to support handling of IEEE1722 streams in classic and adaptive platform.</p></blockquote><p>æ­¤è§„èŒƒåŒ…å«æ”¯æŒåœ¨ç»å…¸å¹³å°å’Œè‡ªé€‚åº”å¹³å°ä¸­å¤„ç† IEEE1722 æµçš„è¦æ±‚ã€‚</p><h2 id="42-functional-requirements-3"><a class="anchor" href="#42-functional-requirements-3">#</a> <strong>4.2</strong> <strong>Functional Requirements</strong></h2><blockquote><p><strong>[FO_RS_IEEE1722_00001] IEEE1722Tp module APIs for IEEE1722 streams</strong></p><p><strong>[FO_RS_IEEE1722_00002] IEEE1722Tp module handling of IEEE1722 streams</strong></p><p><strong>[FO_RS_IEEE1722_00003] IEEE1722Tp module access to synchronized global time</strong></p><p><strong>[FO_RS_IEEE1722_00004] IEEE1722Tp module media clock handling</strong></p><p><strong>[FO_RS_IEEE1722_00005] IEEE1722Tp module stream activation and deactivation</strong></p><p><strong>[FO_RS_IEEE1722_00006] IEEE1722Tp module immediate and deferred transmission request</strong></p><p><strong>[FO_RS_IEEE1722_00007] IEEE1722Tp module immediate and deferred reception processing</strong></p><p><strong>[FO_RS_IEEE1722_00008] IEEE1722Tp module encaspulates bus frames</strong></p><p><strong>[FO_RS_IEEE1722_00009] IEEE1722Tp module collecting bus frames for transport</strong></p><p><strong>[FO_RS_IEEE1722_00011] IEEE1722Tp module bus frame forwarding</strong></p><p><strong>[FO_RS_IEEE1722_00012] IEEE1722Tp module bus frame filtering</strong></p></blockquote><h2 id="43-non-functional-requirements-2"><a class="anchor" href="#43-non-functional-requirements-2">#</a> <strong>4.3</strong> <strong>Non-Functional Requirements</strong></h2><blockquote><p><strong>[FO_RS_IEEE1722_00013] IEEE1722Tp module definition of IEEE1722 streaming</strong></p><p><strong>[FO_RS_IEEE1722_00014] IEEE1722Tp module support of IEEE1722 stream properties</strong></p><p><strong>[FO_RS_IEEE1722_00015] IEEE1722Tp module support of IEEE1722 AVTP stream data subtypes</strong></p></blockquote><hr><h1 id="ä¸ƒ-debugtraceprofile"><a class="anchor" href="#ä¸ƒ-debugtraceprofile">#</a> ä¸ƒã€DebugTraceProfile</h1><h1 id="1-scope-of-document-4"><a class="anchor" href="#1-scope-of-document-4">#</a> <strong>1 Scope of Document</strong></h1><blockquote><p>Debugging and tracing enables efficient development, integration, optimization and verification of ECU software. For analyzing several aspects - especially timing aspects - it becomes essential to link the debugging and tracing data to the scheduling of an ECU.</p></blockquote><p>è°ƒè¯•å’Œè·Ÿè¸ªä½¿ ECU è½¯ä»¶çš„å¼€å‘ã€é›†æˆã€ä¼˜åŒ–å’ŒéªŒè¯æ›´åŠ é«˜æ•ˆã€‚ä¸ºäº†åˆ†æå‡ ä¸ªæ–¹é¢ -- ç‰¹åˆ«æ˜¯æ—¶é—´æ–¹é¢ -- å°†è°ƒè¯•å’Œè·Ÿè¸ªæ•°æ®ä¸ ECU çš„è°ƒåº¦è”ç³»èµ·æ¥å˜å¾—è‡³å…³é‡è¦ã€‚</p><blockquote><p>Knowledge about tasks, interrupts and runnables, in other words: awareness of the operating system (â€œOS awarenessâ€), is required.</p></blockquote><p>å¯¹äºä»»åŠ¡ã€ä¸­æ–­å’Œå¯è¿è¡Œçš„çŸ¥è¯†ï¼Œæ¢è¨€ä¹‹ï¼šæ“ä½œç³»ç»Ÿçš„æ„è¯† (â€œOS æ„è¯†â€) æ˜¯å¿…éœ€çš„ã€‚</p><blockquote><p>A good interaction of the tool chain provides complete round-trip engineering from model down to hardware and back - covering several software levels and several phases of the V-model.</p></blockquote><p>å·¥å…·é“¾çš„è‰¯å¥½äº¤äº’æ€§æä¾›äº†ä»æ¨¡å‹åˆ°ç¡¬ä»¶å’Œè¿”å›çš„å®Œæ•´çš„å¾€è¿”å·¥ç¨‹ -- æ¶µç›– V æ¨¡å‹çš„å¤šä¸ªè½¯ä»¶çº§åˆ«å’Œå¤šä¸ªé˜¶æ®µã€‚</p><blockquote><p>The objective of ARTI (â€œAUTOSAR Run-Time Interfaceâ€) is an interface description, that allows debugging and tracing of AUTOSAR systems with a flexible awareness supporting different views, such as OS, BSW, RTE, model, user-data and user-defined.</p></blockquote><p>ARTI (â€œAUTOSAR è¿è¡Œæ—¶æ¥å£â€) çš„ç›®æ ‡æ˜¯æ¥å£æè¿°ï¼Œå®ƒå…è®¸å¯¹ AUTOSAR ç³»ç»Ÿè¿›è¡Œè°ƒè¯•å’Œè·Ÿè¸ªï¼Œå…·æœ‰çµæ´»çš„æ„è¯†æ”¯æŒä¸åŒçš„è§†å›¾ï¼Œä¾‹å¦‚ OSã€BSWã€RTEã€æ¨¡å‹ã€ç”¨æˆ·æ•°æ®å’Œç”¨æˆ·å®šä¹‰ã€‚</p><blockquote><p>In particular, the interface shall enable tools to perform:</p><ul><li>Debugging</li><li>Tracing</li><li>Timing Measurement</li><li>Profiling</li></ul></blockquote><p>ç‰¹åˆ«æ˜¯ï¼Œè¯¥æ¥å£åº”ä½¿å·¥å…·èƒ½å¤Ÿæ‰§è¡Œ:</p><ul><li>è°ƒè¯•</li><li>è¿½è¸ª</li><li>æ—¶é—´æµ‹é‡</li><li>æ¦‚å†µä»‹ç»</li></ul><blockquote><p>The main focus of this requirements document is the format of the ARTI hooks and the exported ARTI description.</p></blockquote><p>æ­¤éœ€æ±‚æ–‡æ¡£çš„ä¸»è¦é‡ç‚¹æ˜¯ ARTI é’©å­çš„æ ¼å¼å’Œå¯¼å‡ºçš„ ARTI æè¿°ã€‚</p><h1 id="4-requirements-specification-4"><a class="anchor" href="#4-requirements-specification-4">#</a> <strong>4 Requirements Specification</strong></h1><blockquote><p>This chapter describes all requirements driving the work to define ARTI.</p></blockquote><p>æœ¬ç« æè¿°äº†æ¨åŠ¨å®šä¹‰ ARTI çš„å·¥ä½œçš„æ‰€æœ‰éœ€æ±‚ã€‚</p><h2 id="41-functional-overview-4"><a class="anchor" href="#41-functional-overview-4">#</a> <strong>4.1</strong> <strong>Functional Overview</strong></h2><blockquote><p>The tools that generate AUTOSAR modules (e.g. OS, RTE, etc.) have to emit internal information about this module. The information shall allow to debug and trace the behavior of this module.</p></blockquote><p>ç”Ÿæˆ AUTOSAR æ¨¡å—çš„å·¥å…· (å¦‚ OSã€RTE ç­‰) å¿…é¡»å‘å‡ºå…³äºè¯¥æ¨¡å—çš„å†…éƒ¨ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯åº”å…è®¸è°ƒè¯•å’Œè·Ÿè¸ªè¯¥æ¨¡å—çš„è¡Œä¸ºã€‚</p><blockquote><p>Additional tools will collect all ARTI information of an ECU and allow selecting specific items to trace and create tracing hook files for a specific trace channel (e.g. internal buffer, hardware trace buffers, etc.).</p></blockquote><p>é™„åŠ å·¥å…·å°†æ”¶é›† ECU çš„æ‰€æœ‰ ARTI ä¿¡æ¯ï¼Œå¹¶å…è®¸é€‰æ‹©ç‰¹å®šé¡¹ç›®è¿›è¡Œè·Ÿè¸ªï¼Œå¹¶ä¸ºç‰¹å®šè·Ÿè¸ªé€šé“ (ä¾‹å¦‚å†…éƒ¨ç¼“å†²åŒºã€ç¡¬ä»¶è·Ÿè¸ªç¼“å†²åŒºç­‰) åˆ›å»ºè·Ÿè¸ªæŒ‚é’©æ–‡ä»¶ã€‚</p><blockquote><p>The build environment creates the final application, which then can be used in the ECU. Debugging and tracing tools can read in the ARTI information and are â€œAUTOSARâ€ aware, giving additional debugging and tracing features to the developer.</p></blockquote><p>æ„å»ºç¯å¢ƒåˆ›å»ºæœ€ç»ˆåº”ç”¨ç¨‹åºï¼Œç„¶åå¯ä»¥åœ¨ ECU ä¸­ä½¿ç”¨ã€‚è°ƒè¯•å’Œè·Ÿè¸ªå·¥å…·å¯ä»¥è¯»å– ARTI ä¿¡æ¯ï¼Œå¹¶ä¸” â€œAUTOSARâ€ æ„è¯†ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›é¢å¤–çš„è°ƒè¯•å’Œè·Ÿè¸ªåŠŸèƒ½ã€‚</p><blockquote><p>ARTI is supposed to work with debug information created by the compilers. This means each module that supports ARTI needs to be compiled with debug information, and the ARTI information has to use the symbol names created by the compiler.</p></blockquote><p>ARTI åº”è¯¥ä¸ç¼–è¯‘å™¨ç”Ÿæˆçš„è°ƒè¯•ä¿¡æ¯ä¸€èµ·å·¥ä½œã€‚è¿™æ„å‘³ç€æ¯ä¸ªæ”¯æŒ ARTI çš„æ¨¡å—éƒ½éœ€è¦ä½¿ç”¨è°ƒè¯•ä¿¡æ¯ç¼–è¯‘ï¼ŒARTI ä¿¡æ¯å¿…é¡»ä½¿ç”¨ç¼–è¯‘å™¨åˆ›å»ºçš„ç¬¦å·åç§°ã€‚</p><blockquote><p>ARTI introduces hooks. In order to use them, they shall be incorporated into the moduleâ€™s code. Either they are put therein statically, or they have to be configured.</p></blockquote><p>ARTI å¼•å…¥äº†é’©å­ã€‚ä¸ºäº†ä½¿ç”¨å®ƒä»¬ï¼Œå®ƒä»¬åº”è¯¥è¢«çº³å…¥åˆ°æ¨¡å—çš„ä»£ç ä¸­ã€‚å®ƒä»¬å¯ä»¥é™æ€åœ°æ”¾åœ¨æ¨¡å—ä¸­ï¼Œä¹Ÿå¯ä»¥è¢«é…ç½®ã€‚</p><blockquote><p>ARTI consists of these functional elements:</p><ul><li>ARTI module description</li><li>The â€œARTI Module Descriptionâ€ is emitted as an ARXML file, standardized by the ARTI Template.</li><li>ARTI hook implementations</li><li>The ARTI hooks are implemented within the AUTOSAR moduleâ€™s source code.</li></ul></blockquote><p>ARTI ç”±ä»¥ä¸‹åŠŸèƒ½è¦ç´ ç»„æˆ:</p><ul><li>ARTI æ¨¡å—æè¿°<br>â€œARTI æ¨¡å—æè¿°â€ ä½œä¸ºä¸€ä¸ª ARXML æ–‡ä»¶å‘å‡ºï¼Œç”± ARTI æ¨¡æ¿æ ‡å‡†åŒ–ã€‚</li><li>ARTI é’©å­å®ç°<br>ARTI é’©å­æ˜¯åœ¨ AUTOSAR æ¨¡å—çš„æºä»£ç ä¸­å®ç°çš„ã€‚</li></ul><h2 id="42-functional-requirements-on-arti-template"><a class="anchor" href="#42-functional-requirements-on-arti-template">#</a> <strong>4.2</strong> <strong>Functional Requirements on ARTI Template</strong></h2><blockquote><p>The requirements in this section all concern how the ARTI template shall be defined.</p></blockquote><p>æœ¬èŠ‚ä¸­çš„è¦æ±‚éƒ½æ¶‰åŠå¦‚ä½•å®šä¹‰ ARTI æ¨¡æ¿ã€‚</p><blockquote><p><strong>[RS_ARTIFO_00001] The ARTI Description shall be the root for the whole ARTI information of an ECU</strong></p><p><strong>[RS_ARTIFO_00002] The ARTI Description shall support generic objects</strong></p><p><strong>[RS_ARTIFO_00003] The ARTI Description shall support a class definition of a generic object</strong></p><p><strong>[RS_ARTIFO_00004] The ARTI Description shall support an instance definition of a generic object</strong></p><p><strong>[RS_ARTIFO_00005] The ARTI Description shall support expressions to evaluate a parameter value</strong></p><p><strong>[RS_ARTIFO_00006] The ARTI Description shall support constants used by object parameters</strong></p><p><strong>[RS_ARTIFO_00007] The ARTI Description shall support parameter maps</strong></p></blockquote><h2 id="43-functional-requirements-on-arti-description"><a class="anchor" href="#43-functional-requirements-on-arti-description">#</a> <strong>4.3</strong> <strong>Functional Requirements on ARTI Description</strong></h2><blockquote><p><strong>[RS_ARTIFO_00008] The ARTI description shall follow the ARTI Template.</strong></p><p><strong>[RS_ARTIFO_00009] The ARTI description shall include all class definitions of generic objects.</strong></p><p><strong>[RS_ARTIFO_00010] The ARTI description shall include all instance definitions of generic objects.</strong></p><p><strong>[RS_ARTIFO_00011] The ARTI description shall include all expression definitions to evaluate parameter values.</strong></p><p><strong>[RS_ARTIFO_00012] The ARTI description shall include all constant definitions used by parameters.</strong></p><p><strong>[RS_ARTIFO_00013] The ARTI description shall include all parameter maps used by parameters.</strong></p></blockquote><h2 id="44-functional-requirements-on-arti-hooks"><a class="anchor" href="#44-functional-requirements-on-arti-hooks">#</a> <strong>4.4</strong> <strong>Functional Requirements on ARTI Hooks</strong></h2><blockquote><p><strong>[RS_ARTIFO_00014] ARTI Hooks shall be implemented with minimal intrusion</strong></p><p><strong>[RS_ARTIFO_00015] ARTI Hooks shall follow a fixed format</strong></p><p><strong>[RS_ARTIFO_00016] ARTI Hooks shall provide information about the calling context</strong></p><p><strong>[RS_ARTIFO_00017] ARTI Hooks shall provide the name of the class they belong to</strong></p><p><strong>[RS_ARTIFO_00018] ARTI Hooks shall provide the name of the event</strong></p><p><strong>[RS_ARTIFO_00019] ARTI Hooks shall provide parameters for the event</strong></p></blockquote><h2 id="45-non-functional-requirements-qualities"><a class="anchor" href="#45-non-functional-requirements-qualities">#</a> <strong>4.5</strong> <strong>Non-Functional Requirements (Qualities)</strong></h2><div class="tags"><a href="/tags/AUTOSAR/" rel="tag"><i class="ic i-tag"></i> AUTOSAR</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-02-10 22:41:47" itemprop="dateModified" datetime="2025-02-10T22:41:47+08:00">2025-02-10</time> </span><span id="archives/e0c2534f.html" class="item leancloud_visitors" data-flag-title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement" title="é˜…è¯»æ¬¡æ•°"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">é˜…è¯»æ¬¡æ•°</span> <span class="leancloud-visitors-count"></span> <span class="text">æ¬¡</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="flechazo å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="flechazo æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt="flechazo è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>flechazo <i class="ic i-at"><em>@</em></i>æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ .</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://flechazoclf.github.io/FlechazoCLF.github.io/archives/e0c2534f.html" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement">https://flechazoclf.github.io/FlechazoCLF.github.io/archives/e0c2534f.html</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/archives/a3fde49a.html" itemprop="url" rel="prev" data-background-image="/archives/a3fde49a.html../../../wallpaper/5.png" title="èŒåœºçš„ä¸€äº›ç»éªŒä¹‹è°ˆæœ¨é›ä¹‹é—´"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> è‡ªæˆ‘æå‡</span><h3>èŒåœºçš„ä¸€äº›ç»éªŒä¹‹è°ˆæœ¨é›ä¹‹é—´</h3></a></div><div class="item right"><a href="/archives/b20010d9.html" itemprop="url" rel="next" data-background-image="/archives/b20010d9.html../../../wallpaper/3.png" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ1ï¼‰æ¦‚å¿µå’Œç›®æ ‡"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> AUTOSAR</span><h3>å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ1ï¼‰æ¦‚å¿µå’Œç›®æ ‡</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6autosar%E7%B3%BB%E5%88%97%E4%B8%89-%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%875communicationmanagement"><span class="toc-number">1.</span> <span class="toc-text">å°æŸ´å¸¦ä½ å­¦ AutoSar ç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80-networkmanagement"><span class="toc-number">2.</span> <span class="toc-text">ä¸€ã€NetworkManagement</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-scope-of-document"><span class="toc-number">3.</span> <span class="toc-text">1 Scope of Document</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-use-cases"><span class="toc-number">4.</span> <span class="toc-text">4 Use Cases</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-requirements-specification"><span class="toc-number">5.</span> <span class="toc-text">5 Requirements Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#51-functional-requirements"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 Functional Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#511-configuration"><span class="toc-number">5.1.1.</span> <span class="toc-text">5.1.1 Configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#512-initialization"><span class="toc-number">5.1.2.</span> <span class="toc-text">5.1.2 Initialization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#513-normal-operation"><span class="toc-number">5.1.3.</span> <span class="toc-text">5.1.3 Normal Operation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#514-fault-operation"><span class="toc-number">5.1.4.</span> <span class="toc-text">5.1.4 Fault Operation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#515-nm-coordination"><span class="toc-number">5.1.5.</span> <span class="toc-text">5.1.5 Nm Coordination</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#516-partial-networking"><span class="toc-number">5.1.6.</span> <span class="toc-text">5.1.6 Partial Networking</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#52-non-functional-requirements"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 Non-Functional Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#521-layout-requirements"><span class="toc-number">5.2.1.</span> <span class="toc-text">5.2.1 Layout Requirements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#522-timing-requirements"><span class="toc-number">5.2.2.</span> <span class="toc-text">5.2.2 Timing Requirements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#523-resource-usage"><span class="toc-number">5.2.3.</span> <span class="toc-text">5.2.3 Resource Usage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#524-hardware-independency"><span class="toc-number">5.2.4.</span> <span class="toc-text">5.2.4 Hardware independency</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C-e2e"><span class="toc-number">6.</span> <span class="toc-text">äºŒã€E2E</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-scope-of-this-document"><span class="toc-number">7.</span> <span class="toc-text">1 Scope of this document</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-functional-overview"><span class="toc-number">8.</span> <span class="toc-text">4 Functional Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-functional-safety-and-communication"><span class="toc-number">8.1.</span> <span class="toc-text">4.1 Functional safety and communication</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-sources-of-faults-in-e2e-communication"><span class="toc-number">8.2.</span> <span class="toc-text">4.2 Sources of faults in E2E communication</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1software-faults"><span class="toc-number">8.2.1.</span> <span class="toc-text">1.Software faults</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2random-hardware-faults"><span class="toc-number">8.2.2.</span> <span class="toc-text">2.Random hardware faults</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3transient-faults"><span class="toc-number">8.2.3.</span> <span class="toc-text">3.Transient faults</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-safe-end-to-end-communication-in-autosar"><span class="toc-number">8.3.</span> <span class="toc-text">4.3 Safe End-to-End communication in AUTOSAR</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#431-e2e-protection-concepts"><span class="toc-number">8.3.1.</span> <span class="toc-text">4.3.1 E2E protection concepts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#432-integrity-of-a-communication-channel"><span class="toc-number">8.3.2.</span> <span class="toc-text">4.3.2 Integrity of a communication channel</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-requirements-specification"><span class="toc-number">9.</span> <span class="toc-text">6 Requirements Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#61-functional-requirements"><span class="toc-number">9.1.</span> <span class="toc-text">6.1 Functional Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#supported-communication-models-and-features"><span class="toc-number">9.1.1.</span> <span class="toc-text">Supported communication models and features</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2e-detected-faults"><span class="toc-number">9.1.2.</span> <span class="toc-text">E2E detected faults</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2e-algorithms-and-profiles"><span class="toc-number">9.1.3.</span> <span class="toc-text">E2E Algorithms and Profiles</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#use-case"><span class="toc-number">9.1.4.</span> <span class="toc-text">Use Case:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#62-safety-applicability-and-overall-safety-assumptions"><span class="toc-number">9.2.</span> <span class="toc-text">6.2 Safety applicability and overall safety assumptions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#63-e2e-transformer"><span class="toc-number">9.3.</span> <span class="toc-text">6.3 E2E Transformer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#64-e2e-library"><span class="toc-number">9.4.</span> <span class="toc-text">6.4 E2E Library</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89-logandtrace"><span class="toc-number">10.</span> <span class="toc-text">ä¸‰ã€LogAndTrace</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-scope-of-document-2"><span class="toc-number">11.</span> <span class="toc-text">1 Scope of Document</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-requirements-specification"><span class="toc-number">12.</span> <span class="toc-text">4 Requirements Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-functional-overview"><span class="toc-number">12.1.</span> <span class="toc-text">4.1 Functional Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-functional-requirements"><span class="toc-number">12.2.</span> <span class="toc-text">4.2 Functional Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#421-log-and-trace-interfaces"><span class="toc-number">12.2.1.</span> <span class="toc-text">4.2.1 Log and trace interfaces</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#422-format-of-log-and-trace-message"><span class="toc-number">12.2.2.</span> <span class="toc-text">4.2.2 Format of log and trace message</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#423-transport-interfaces"><span class="toc-number">12.2.3.</span> <span class="toc-text">4.2.3 Transport interfaces</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#424-operational-function"><span class="toc-number">12.2.4.</span> <span class="toc-text">4.2.4 Operational function</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-non-functional-requirements"><span class="toc-number">12.3.</span> <span class="toc-text">4.3 Non-Functional Requirements</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B-timesensitivenetworkfeatures"><span class="toc-number">13.</span> <span class="toc-text">å››ã€TimeSensitiveNetworkFeatures</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-introduction"><span class="toc-number">14.</span> <span class="toc-text">1 Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-objectives"><span class="toc-number">14.1.</span> <span class="toc-text">1.1 Objectives</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-time-sensitive-network-in-autosar"><span class="toc-number">15.</span> <span class="toc-text">4 Time Sensitive Network in AUTOSAR</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-constraints-and-assumptions"><span class="toc-number">15.1.</span> <span class="toc-text">4.1 Constraints and Assumptions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-overview"><span class="toc-number">15.2.</span> <span class="toc-text">4.2 Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#421-ieee-8021as"><span class="toc-number">15.2.1.</span> <span class="toc-text">4.2.1 IEEE 802.1AS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#422-ieee-8021qav"><span class="toc-number">15.2.2.</span> <span class="toc-text">4.2.2 IEEE 802.1Qav</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#423-ieee-8021qbv"><span class="toc-number">15.2.3.</span> <span class="toc-text">4.2.3 IEEE 802.1Qbv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#424-ieee-8021qcc"><span class="toc-number">15.2.4.</span> <span class="toc-text">4.2.4 IEEE 802.1Qcc</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-usage-of-shapers-in-the-network"><span class="toc-number">15.3.</span> <span class="toc-text">4.3 Usage of Shapers in the Network</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#431-asynchronous-traffic-shaping"><span class="toc-number">15.3.1.</span> <span class="toc-text">4.3.1 Asynchronous Traffic Shaping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#432-credit-based-shaper"><span class="toc-number">15.3.2.</span> <span class="toc-text">4.3.2 Credit Based Shaper</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44-ensure-accuracy-of-time-synchronization"><span class="toc-number">15.4.</span> <span class="toc-text">4.4 Ensure Accuracy of Time Synchronization</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#45-measurement-of-the-time-synchronization-quality-accuracy"><span class="toc-number">15.5.</span> <span class="toc-text">4.5 Measurement of the Time Synchronization Quality (Accuracy)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94-macsec"><span class="toc-number">16.</span> <span class="toc-text">äº”ã€MACsec</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-scope-of-document-3"><span class="toc-number">17.</span> <span class="toc-text">1 Scope of Document</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-requirements-specification-2"><span class="toc-number">18.</span> <span class="toc-text">4 Requirements Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-functional-overview-2"><span class="toc-number">18.1.</span> <span class="toc-text">4.1 Functional Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#411-motivation"><span class="toc-number">18.1.1.</span> <span class="toc-text">4.1.1 Motivation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#412-functional-elements"><span class="toc-number">18.1.2.</span> <span class="toc-text">4.1.2 Functional elements</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-functional-requirements-2"><span class="toc-number">18.2.</span> <span class="toc-text">4.2 Functional Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#421-standards-to-support"><span class="toc-number">18.2.1.</span> <span class="toc-text">4.2.1 Standards to support</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#422-common-requirements"><span class="toc-number">18.2.2.</span> <span class="toc-text">4.2.2 Common Requirements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#423-requirements-on-macsec-protocol"><span class="toc-number">18.2.3.</span> <span class="toc-text">4.2.3 Requirements on MACsec Protocol</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#424-requirements-on-mka-protocol"><span class="toc-number">18.2.4.</span> <span class="toc-text">4.2.4 Requirements on MKA Protocol</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#425-cryptography-for-macsec-and-mka"><span class="toc-number">18.2.5.</span> <span class="toc-text">4.2.5 Cryptography for MACsec and MKA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#426-requirements-for-macsec-capable-hardware"><span class="toc-number">18.2.6.</span> <span class="toc-text">4.2.6 Requirements for MACsec capable hardware</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#427-additions-to-standards"><span class="toc-number">18.2.7.</span> <span class="toc-text">4.2.7 Additions to Standards</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD-ieee1722"><span class="toc-number">19.</span> <span class="toc-text">å…­ã€IEEE1722</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-requirements-specification-3"><span class="toc-number">20.</span> <span class="toc-text">4 Requirements Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-functional-overview-3"><span class="toc-number">20.1.</span> <span class="toc-text">4.1 Functional Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-functional-requirements-3"><span class="toc-number">20.2.</span> <span class="toc-text">4.2 Functional Requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-non-functional-requirements-2"><span class="toc-number">20.3.</span> <span class="toc-text">4.3 Non-Functional Requirements</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83-debugtraceprofile"><span class="toc-number">21.</span> <span class="toc-text">ä¸ƒã€DebugTraceProfile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-scope-of-document-4"><span class="toc-number">22.</span> <span class="toc-text">1 Scope of Document</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-requirements-specification-4"><span class="toc-number">23.</span> <span class="toc-text">4 Requirements Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-functional-overview-4"><span class="toc-number">23.1.</span> <span class="toc-text">4.1 Functional Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-functional-requirements-on-arti-template"><span class="toc-number">23.2.</span> <span class="toc-text">4.2 Functional Requirements on ARTI Template</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-functional-requirements-on-arti-description"><span class="toc-number">23.3.</span> <span class="toc-text">4.3 Functional Requirements on ARTI Description</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44-functional-requirements-on-arti-hooks"><span class="toc-number">23.4.</span> <span class="toc-text">4.4 Functional Requirements on ARTI Hooks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#45-non-functional-requirements-qualities"><span class="toc-number">23.5.</span> <span class="toc-text">4.5 Non-Functional Requirements (Qualities)</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/archives/dfcb5141.html" rel="bookmark" title="LDæ–‡ä»¶åœ¨AUTOSARå·¥ç¨‹ä¸­çš„ä½œç”¨å’Œè¯­æ³•è§£æ">LDæ–‡ä»¶åœ¨AUTOSARå·¥ç¨‹ä¸­çš„ä½œç”¨å’Œè¯­æ³•è§£æ</a></li><li><a href="/archives/cbed58a6.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•">å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•</a></li><li><a href="/archives/b20010d9.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ1ï¼‰æ¦‚å¿µå’Œç›®æ ‡">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ1ï¼‰æ¦‚å¿µå’Œç›®æ ‡</a></li><li class="active"><a href="/archives/e0c2534f.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement</a></li><li><a href="/archives/e8a5cc27.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ2ï¼‰AutoSaræ¶æ„">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ2ï¼‰AutoSaræ¶æ„</a></li><li><a href="/archives/e8bc299.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ5ï¼‰makefileåŸºç¡€">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ5ï¼‰makefileåŸºç¡€</a></li><li><a href="/archives/5e71c9a6.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ3ï¼‰Cè¯­è¨€åŸºç¡€">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ3ï¼‰Cè¯­è¨€åŸºç¡€</a></li><li><a href="/archives/7cac95ec.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ4ï¼‰ç¼–è¯‘">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ4ï¼‰ç¼–è¯‘</a></li><li><a href="/archives/3c7f112.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ6ï¼‰è½¦è§„çº§MCUå…¥é—¨RH850">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ6ï¼‰è½¦è§„çº§MCUå…¥é—¨RH850</a></li><li><a href="/archives/3f4a19e2.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ7ï¼‰æœ¯è¯­">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ7ï¼‰æœ¯è¯­</a></li><li><a href="/archives/962e9003.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ1ï¼‰General">å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ1ï¼‰General</a></li><li><a href="/archives/db4ff6ff.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral">å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral</a></li><li><a href="/archives/c9ca48bd.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ3ï¼‰ModeManagement">å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ3ï¼‰ModeManagement</a></li><li><a href="/archives/fd244a42.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ4ï¼‰RTE">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ4ï¼‰RTE</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="flechazo" data-src="/images/avatar.jpg"><p class="name" itemprop="name">flechazo</p><div class="description" itemprop="description">æˆ‘åœ¨äººé—´è´©å–æ˜Ÿå…‰</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">192</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">44</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">41</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0Fnb25pMzdD" title="https://github.com/Agoni37C"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9qaXVfc2hlbmc=" title="https://www.zhihu.com/people/jiu_sheng"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvcGxheWxpc3Q/aWQ9NzE3NTI4NzIwNQ==" title="https://music.163.com/#/playlist?id=7175287205"><i class="ic i-cloud-music"></i></span> <span class="exturl item weixin" data-url="aHR0cDovL21wLndlaXhpbi5xcS5jb20vbXAvaG9tZXBhZ2U/X19iaXo9TXpBeE9ETTJOVFEwTnc9PSZoaWQ9MiZzbj05ZThkZGVkOGU3MTgxYTA4YTA1MjFiOTQ2MjIyY2Q3MiZzY2VuZT0xOCN3ZWNoYXRfcmVkaXJlY3Q=" title="http://mp.weixin.qq.com/mp/homepage?__biz=MzAxODM2NTQ0Nw==&amp;hid=2&amp;sn=9e8dded8e7181a08a0521b946222cd72&amp;scene=18#wechat_redirect"><i class="ic i-address-card"></i></span> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vNDQxODc1ODQ0P3NwbV9pZF9mcm9tPTMzMy4xMDA3LjAuMA==" title="https://space.bilibili.com/441875844?spm_id_from=333.1007.0.0"><i class="ic i-bilibili"></i></span></div><ul class="menu"><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAwLw=="><i class="ic i-home"></i>é¦–é¡µ</span></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å°ä¼™ä¼´ä»¬</a></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAxLw=="><i class="ic i-magic"></i>å¯¼èˆªé¡µğŸš€</span></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>å°å¤©åœ°ğŸ¼</a><ul class="submenu"><li class="item"><a href="/broken-thoughts/" rel="section"><i class="ic i-heart"></i>ç¢ç¢å¿µ</a></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAyLw=="><i class="ic i-heart"></i>äº‘å°ğŸªç›˜</span></li><li class="item"><a href="/mypages/Videoparse/" rel="section"><i class="ic i-heart"></i>è§†é¢‘è§£æ</a></li><li class="item"><a href="/movies/" rel="section"><i class="ic i-heart"></i>å½±é›†</a></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDA5Lw=="><i class="ic i-heart"></i>æ¸¸æˆğŸ®å°ç«™</span></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDA2Lw=="><i class="ic i-heart"></i>åŠ¨æ„Ÿå¤©åœ°ğŸ¶</span></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAzLw=="><i class="ic i-heart"></i>4kå£çº¸â„</span></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æœ‰è¶£å•é¡µ</a><ul class="submenu"><li class="item"><a href="/mypageslayout/barrage/" rel="section"><i class="ic i-list-alt"></i>å¼¹å¹•å¢™</a></li><li class="item"><a href="/mypages/crossing-the-cliff/" rel="section"><i class="ic i-th"></i>åœ£è¯è€äººè¿‡æ¡¥</a></li><li class="item"><a href="/mypages/eat/" rel="section"><i class="ic i-tags"></i>ä»Šå¤©åƒä»€ä¹ˆ</a></li><li class="item"><a href="/mypages/clock/" rel="section"><i class="ic i-list-alt"></i>å¥½çœ‹çš„é—¹é’Ÿ</a></li><li class="item"><a href="/mypages/QQpage/" rel="section"><i class="ic i-list-alt"></i>QQå±•ç¤ºé¡µ</a></li><li class="item"><a href="/mypages/jianli/" rel="section"><i class="ic i-th"></i>ç®€å†</a></li><li class="item"><a href="/mypages/love/" rel="section"><i class="ic i-tags"></i>æ‰§å­ä¹‹æ‰‹</a></li><li class="item"><a href="/mypages/tiangou/" rel="section"><i class="ic i-list-alt"></i>èˆ”ç‹—è¯­å½•</a></li><li class="item"><a href="/mypages/washing/" rel="section"><i class="ic i-th"></i>æ´—è¡£æœº</a></li><li class="item"><a href="/mypages/todolist/" rel="section"><i class="ic i-tags"></i>è¡ŒåŠ¨æ¸…å•</a></li><li class="item"><a href="/mypages/yindao2/" rel="section"><i class="ic i-list-alt"></i>å¼•å¯¼é¡µ</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/archives/a3fde49a.html" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/archives/b20010d9.html" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/english/" title="åˆ†ç±»äº english">english</a> <i class="ic i-angle-right"></i> <a href="/categories/english/%E6%97%A5%E5%B8%B8%E8%8B%B1%E8%AF%AD%E5%B0%8F%E7%9F%A5%E8%AF%86/" title="åˆ†ç±»äº æ—¥å¸¸è‹±è¯­å°çŸ¥è¯†">æ—¥å¸¸è‹±è¯­å°çŸ¥è¯†</a></div><span><a href="/archives/4cfc2304.html" title="ğŸ¥¡è‹±è¯­-æ‰“è„¸ç”¨è‹±è¯­æ€ä¹ˆè¯´">ğŸ¥¡è‹±è¯­-æ‰“è„¸ç”¨è‹±è¯­æ€ä¹ˆè¯´</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/" title="åˆ†ç±»äº åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ">åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ</a></div><span><a href="/archives/c3251f5b.html" title="å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†">å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/QT/" title="åˆ†ç±»äº QT">QT</a></div><span><a href="/archives/85c52c40.html" title="ä¸²å£é€šä¿¡ä¸­çš„æ¥æ”¶ä¸å‘é€é˜Ÿåˆ—å¤„ç†å¤§æ•°æ®">ä¸²å£é€šä¿¡ä¸­çš„æ¥æ”¶ä¸å‘é€é˜Ÿåˆ—å¤„ç†å¤§æ•°æ®</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F/" title="åˆ†ç±»äº åµŒå…¥å¼">åµŒå…¥å¼</a></div><span><a href="/archives/35424583.html" title="å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—äºŒã€åµŒå…¥å¼ç³»ç»Ÿç¡¬ä»¶åŸºç¡€çŸ¥è¯†ï¼ˆ2ï¼‰åµŒå…¥å¼å¾®å¤„ç†å™¨åŸºç¡€">å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—äºŒã€åµŒå…¥å¼ç³»ç»Ÿç¡¬ä»¶åŸºç¡€çŸ¥è¯†ï¼ˆ2ï¼‰åµŒå…¥å¼å¾®å¤„ç†å™¨åŸºç¡€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/blog/" title="åˆ†ç±»äº blogğŸŒ®">blogğŸŒ®</a> <i class="ic i-angle-right"></i> <a href="/categories/blog/hexo/" title="åˆ†ç±»äº hexo">hexo</a></div><span><a href="/archives/bbdf8276.html" title="ğŸ¥“Hexo-æ–‡ç« åŠ å¯†-Shoka-HexoğŸ¥“">ğŸ¥“Hexo-æ–‡ç« åŠ å¯†-Shoka-HexoğŸ¥“</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/QT/" title="åˆ†ç±»äº QT">QT</a></div><span><a href="/archives/e52cfcec.html" title="QTè¯»å†™wordæ–‡æ¡£">QTè¯»å†™wordæ–‡æ¡£</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F/" title="åˆ†ç±»äº åµŒå…¥å¼">åµŒå…¥å¼</a></div><span><a href="/archives/7d13c9aa.html" title="åµŒå…¥å¼è½¯ä»¶å¼€å‘çŸ¥è¯†æ€»ç»“Cè¯­è¨€ç¯‡">åµŒå…¥å¼è½¯ä»¶å¼€å‘çŸ¥è¯†æ€»ç»“Cè¯­è¨€ç¯‡</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/esp8266/" title="åˆ†ç±»äº esp8266">esp8266</a></div><span><a href="/archives/4bef37d1.html" title="Arduinoä¸­æ²¡æœ‰ESP8266">Arduinoä¸­æ²¡æœ‰ESP8266</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/" title="åˆ†ç±»äº åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ">åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ</a></div><span><a href="/archives/c3251f5b.html" title="å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†">å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/JAVA/" title="åˆ†ç±»äº JAVA">JAVA</a></div><span><a href="/archives/3cff2463.html" title="â›„JAVAå­¦ä¹ ä¹‹è·¯â˜ƒ">â›„JAVAå­¦ä¹ ä¹‹è·¯â˜ƒ</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">Â© 2020 â€“ <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">flechazo @ flechazo</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">906k å­—</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">13:44</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> &amp; Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config="" type="text/javascript">var LOCAL={path:"archives/e0c2534f.html",favicon:{show:"flechazo",hide:"(Â´Ğ”ï½€)å®¢å®˜åˆ«èµ°ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html><!-- rebuild by hrmmi -->
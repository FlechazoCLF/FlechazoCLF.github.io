<!-- build time:Mon Feb 10 2025 22:46:08 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><script src="http://echarts.baidu.com/dist/echarts.common.min.js"></script><script src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js"></script><script src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/map/js/china.min.js"></script><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="yandex-verification" content="fadb7324b0f3dbe2"><link rel="alternate" type="application/rss+xml" title="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ." href="https://flechazoclf.github.io/FlechazoCLF.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ." href="https://flechazoclf.github.io/FlechazoCLF.github.io/atom.xml"><link rel="alternate" type="application/json" title="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ." href="https://flechazoclf.github.io/FlechazoCLF.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="AUTOSAR,åµŒå…¥å¼,è½¯ä»¶å¼€å‘"><link rel="canonical" href="https://flechazoclf.github.io/FlechazoCLF.github.io/archives/db4ff6ff.html"><title>å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral - AUTOSAR - æŠ€æœ¯æ•™ç¨‹ğŸƒ | flechazo = æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ . = æœ‰å¹¸æ¥åˆ°äººé—´çš„æ—…äºº</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2024-07-28 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2024-07-28T00:00:00+08:00">2024-07-28</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">flechazo</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="/archives/db4ff6ff.html../../../wallpaper/9.png"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope="" itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a href="/categories/technique/" itemprop="item" rel="index" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ"><span itemprop="name">æŠ€æœ¯æ•™ç¨‹ğŸƒ</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a href="/categories/technique/AUTOSAR/" itemprop="item" rel="index" title="åˆ†ç±»äº AUTOSAR"><span itemprop="name">AUTOSAR</span></a><meta itemprop="position" content="2"></span></div><article itemscope="" itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://flechazoclf.github.io/FlechazoCLF.github.io/archives/db4ff6ff.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="flechazo"><meta itemprop="description" content="æœ‰å¹¸æ¥åˆ°äººé—´çš„æ—…äºº, æˆ‘åœ¨äººé—´è´©å–æ˜Ÿå…‰"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ ."></span><div class="body md" itemprop="articleBody"><p></p><div class="links"><div class="item" title="ã€çŸ¥ä¹ã€‘flechazo" style="--block-color:#21d4fd"><span class="exturl image" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9qaXVfc2hlbmc=" data-background-image="https://foruda.gitee.com/avatar/1680342439464493317/9010997_flechazo5201314_1680342439.png!avatar200"></span><div class="info"><span class="exturl title" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9qaXVfc2hlbmc=">ã€çŸ¥ä¹ã€‘flechazo</span><p class="desc">https://www.zhihu.com/people/jiu_sheng</p></div></div></div><p></p><p></p><div class="links"><div class="item" title="ã€CSDNã€‘å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•" style="--block-color:#21d4fd"><span class="exturl image" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FpYW5zaGFuZzUyMDEzL2FydGljbGUvZGV0YWlscy8xMzgxNDAyMzU/c3BtPTEwMDEuMjAxNC4zMDAxLjU1MDE=" data-background-image="https://foruda.gitee.com/avatar/1680342439464493317/9010997_flechazo5201314_1680342439.png!avatar200"></span><div class="info"><span class="exturl title" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FpYW5zaGFuZzUyMDEzL2FydGljbGUvZGV0YWlscy8xMzgxNDAyMzU/c3BtPTEwMDEuMjAxNC4zMDAxLjU1MDE=">ã€CSDNã€‘å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•</span><p class="desc">https://blog.csdn.net/qianshang52013/article/details/138140235?spm=1001.2014.3001.5501</p></div></div></div><p></p><p>Autosar ç³»åˆ—æ•™ç¨‹ï¼š<span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpBeE9ETTJOVFEwTnc9PSZhbXA7bWlkPTIyNDc0OTIzMjYmYW1wO2lkeD0xJmFtcDtzbj1kNDdhYWM4YTE4MWJkZjM0NGNmMzJhOThmNzAxMjkyNyZhbXA7Y2hrc209OWJkNWNmOGVhY2EyNDY5ODgyMzcxZTEyOTY5Yzc3NzdiMDY1NGRiMGE3MDVlNWE1ZDNkZGFmNjRjODk5ZjhmYzUyYmRhNTM4MzczMiZhbXA7cGF5cmVhZHRpY2tldD1IQjBaZE1Tc3RNVmVRVXF2RkdBb2E1U2Q3Mnk2bzJOb192OF9PLUhsaXRxMHBaOWcxVzFablBrbmwwQmJySGZZajcxeUtkZyNyZA==">å°æŸ´å¸¦ä½ å­¦ AutoSar æ€»ç›®å½•</span></p><h1 id="å°æŸ´å¸¦ä½ å­¦autosarç³»åˆ—ä¸‰-æ ‡å‡†å’Œè§„èŒƒç¯‡2bswgeneral"><a class="anchor" href="#å°æŸ´å¸¦ä½ å­¦autosarç³»åˆ—ä¸‰-æ ‡å‡†å’Œè§„èŒƒç¯‡2bswgeneral">#</a> å°æŸ´å¸¦ä½ å­¦ AutoSar ç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral</h1><p>æˆ‘æ¥å•¦</p><p>è™½è¿Ÿä½†åˆ°å“ˆå“ˆå“ˆğŸ˜œ</p><p>ä¸€ä¸ªäººçš„ç²¾åŠ›æœç„¶æ˜¯æœ‰é™çš„</p><p>æœ€è¿‘å¯èƒ½æœ‰äº›è®¸æ‡’æ•£ğŸ˜‹</p><p>ä¸è¿‡å¯ä»¥æ™šä½†ä¸èƒ½å¿˜å“¦</p><p>åªè¦åšæŒä¸‹å»å°±å¯ä»¥æ‰“è´¥ 99.99% çš„äººäº†âœŒï¸</p><p>ä¸€èµ·åŠ æ²¹å§ğŸ§ï¼</p><h1 id="bswdistributionguide"><a class="anchor" href="#bswdistributionguide">#</a> BSWDistributionGuide</h1><h2 id="bswåœ¨autosaræ¶æ„ä¸­çš„è¿™é‡Œå“¦"><a class="anchor" href="#bswåœ¨autosaræ¶æ„ä¸­çš„è¿™é‡Œå“¦">#</a> BSW åœ¨ AUTOSAR æ¶æ„ä¸­çš„è¿™é‡Œå“¦</h2><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240504123208031.png" alt="image-20240504123208031"></p><h2 id="bsw-distribution-in-multi-core-systems"><a class="anchor" href="#bsw-distribution-in-multi-core-systems">#</a> BSW Distribution in Multi-Core Systems</h2><p><strong>BSW Functional Clusters</strong></p><p>BSW åŠŸèƒ½é›†ç¾¤æ˜¯ä¸€ç»„ç›¸å…³åŠŸèƒ½çš„æ¨¡å—</p><blockquote><p>BSW functional clusters are groups of functionally coherent BSW modules.</p></blockquote><p>The following types of clusters might be standardized in a later release:</p><ul><li>Communication cluster é€šä¿¡é›†ç¾¤</li><li>Memory cluster å†…å­˜é›†ç¾¤</li><li>I/O cluster I/O é›†ç¾¤</li><li>Watchdog cluster çœ‹é—¨ç‹—é›†ç¾¤</li></ul><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240626161806728.png" alt="image-20240626161806728"></p><h2 id="parallel-execution-of-bsw-modules"><a class="anchor" href="#parallel-execution-of-bsw-modules">#</a> Parallel Execution of BSW modules</h2><h3 id="core-dependent-branching"><a class="anchor" href="#core-dependent-branching">#</a> Core-Dependent Branching</h3><blockquote><p>It is possible for example to use the core id for this, i.e. branch the control flow depending on the return value of the OS APIs GetCoreID, or also GetApplicationID.</p></blockquote><p>BSW æ¨¡å—çš„å¹¶è¡Œå¤„ç†ï¼Œå¯ä»¥é€šè¿‡è·å– Core ID æ¥è¿›è¡Œåˆ†æ”¯å¤„ç†</p><h3 id="using-shared-buffers-in-systems-without-memory-protection"><a class="anchor" href="#using-shared-buffers-in-systems-without-memory-protection">#</a> Using Shared Buffers (in systems without memory protection)</h3><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240626162549425.png" alt="image-20240626162549425"></p><p>ä½¿ç”¨å…±äº«çš„ bufferï¼Œæ‰€ä»¥éœ€è¦é˜²æ­¢å¹¶å‘è®¿é—®å“¦ï¼Œä¿æŒæ•°æ®ä¸€è‡´æ€§</p><h3 id="concurrency-safe-implementation-of-modules"><a class="anchor" href="#concurrency-safe-implementation-of-modules">#</a> Concurrency safe implementation of modules</h3><p>å¹¶å‘ï¼Œå¯é‡å…¥ / ä¸å¯é‡å…¥éƒ½æ˜¯éœ€è¦è€ƒè™‘çš„äº‹æƒ…</p><h3 id="kernel-based-master-satellite-realization"><a class="anchor" href="#kernel-based-master-satellite-realization">#</a> Kernel based Master-Satellite Realization</h3><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240626163902377.png" alt="image-20240626163902377"></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240626163953945.png" alt="image-20240626163953945"></p><h3 id="atomic-operations-library"><a class="anchor" href="#atomic-operations-library">#</a> Atomic Operations Library</h3><p>æ”¯æŒåŸå­æ“ä½œå“¦</p><h2 id="schm-interfaces-for-parallel-bsw-execution"><a class="anchor" href="#schm-interfaces-for-parallel-bsw-execution">#</a> SchM Interfaces for Parallel BSW execution</h2><p>ç”¨äºå¹¶è¡Œæ‰§è¡Œçš„ SchM æ¥å£</p><blockquote><p>The Basic Software Scheduler (SchM) is responsible for handling the inter-partition communication between BSW modules.</p></blockquote><p>SchM è´Ÿè´£ BSW åˆ†åŒºé—´çš„é€šä¿¡</p><blockquote><p>For the distribution of BSW modules across several partitions, the SchM shall implement the methods SchM_Call, SchM_Result, SchM_Send and SchM_Receive</p></blockquote><p>SchM è¦å®ç°å¤šç§æ–¹æ³•</p><ul><li>SchM_Call</li><li>SchM_Result</li><li>SchM_Send</li><li>SchM_Receive</li></ul><blockquote><p>The SchM can use IocSend (a direct call to the OS) to send data in inter-partition communication. Other RTE internal mechanism might not be available during startup.</p></blockquote><p>SchM å¯ä»¥ä½¿ç”¨ IOC å»åšåˆ†åŒºé—´é€šä¿¡</p><h2 id="configuration-of-basic-software-in-partitioned-systems"><a class="anchor" href="#configuration-of-basic-software-in-partitioned-systems">#</a> Configuration of Basic Software in Partitioned Systems</h2><h3 id="task-mapping"><a class="anchor" href="#task-mapping">#</a> Task Mapping</h3><blockquote><p>The parallelization of BSW modules introduces several new subclasses of BswEvent to the AUTOSAR metamodel. These classes are shown in Figure 2.5. Each BswEvent (including instances of subclasses of BswEvent) is assigned to a BswSchedulableEntity, which is started upon occurrence of the event.</p></blockquote><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240704102125498.png" alt="image-20240704102125498"></p><p>æ€»è€Œè¨€ä¹‹å‘¢å°±æ˜¯é€šè¿‡äº‹ä»¶è§¦å‘å‡½æ•°</p><h3 id="general-configuration-of-master-and-satellites"><a class="anchor" href="#general-configuration-of-master-and-satellites">#</a> General Configuration of Master and Satellites</h3><blockquote><p>Modules that shall be available in multiple partitions can be implemented as masters and satellites. In this case, the master and all satellites of the same module share the same code (which may implement core-dependent behavior however) and the same configuration. Hence, a master and its satellites are treated as one module entity w.r.t. their configuration.</p></blockquote><p>ä¸»æ¨¡å—å’Œå«æ˜Ÿæ¨¡å—å…±äº«ç›¸åŒçš„ä»£ç å’Œé…ç½®</p><blockquote><p>The communication between master and satellites is not to be standardized. It is considered to be module-internal and it is not visible to other modules. However, since it is recommended to use SchM mechanisms for internal communication, the nonstandardized client-server entries and data accesses in the BSWMD to connect master and satellite need to be configured.</p></blockquote><h3 id="configuring-the-bswm-per-partition"><a class="anchor" href="#configuring-the-bswm-per-partition">#</a> Configuring the BswM (per Partition)</h3><blockquote><p>On systems with distributed BSW there is one BSW Mode Manager (BswM) per partition (but one OS and EcuM per core, which is the same as long as we have one BSW partition per core). Each of these BswMs can be configured independently. A BswM mainly interacts with the state managers (ECU state manager and bus state managers, for instance) on the same partition.</p></blockquote><p>æ¯ä¸ªéƒ¨åˆ†çš„ BswM å¯ä»¥è¢«å•ç‹¬é…ç½®</p><blockquote><p>The BswM is also responsible for the initialization and shutdown of BSW modules running in the same partition. Therefore, its configuration depends on the mapping of BSW modules to partitions.</p></blockquote><p>BswM å¯ä»¥å“åº”åŒåˆ†åŒºçš„ initialization å’Œ shutdown</p><h3 id="configuring-the-ecum-per-core"><a class="anchor" href="#configuring-the-ecum-per-core">#</a> Configuring the EcuM (per Core)</h3><blockquote><p>On systems with distributed BSW there is one EcuM per core (even if there are multiple BSW partitions on that core). In other words, on every core there shall be one and only one partition that runs the EcuM. The partition running the EcuM is determined by the EcuMFlexEcucPartitionRef, which is specified in the container EcuMFlexUser Config of the EcuM configuration.</p></blockquote><p>æ¯ä¸ªæ ¸éƒ½åº”è¯¥åªè¦æœ‰ä¸€ä¸ª EcuMï¼Œå³ä½¿è¿™ä¸ªæ ¸ä¸Šæœ‰å¤šä¸ª BswM çš„ä¸åŒåˆ†åŒºã€‚</p><blockquote><p>On architectures with a sequential start of cores, there is one designated master core in which the boot loader starts the master EcuM via EcuM_Init. The EcuM in the master core starts some drivers, determines the Post Build configuration and starts all remaining cores with all their satellite EcuMs</p></blockquote><p>å¼•å¯¼ç¨‹åº -&gt; EcuM_Init -&gt; master core -&gt; remaining cores</p><h2 id="mcal-distribution"><a class="anchor" href="#mcal-distribution">#</a> MCAL Distribution</h2><h3 id="introduction"><a class="anchor" href="#introduction">#</a> Introduction</h3><blockquote><p>It shall be noted that the introduction of the multi-core MCAL requires the introduction of asynchronously behaving interfaces to enable non-blocking parallel execution on multiple cores.</p></blockquote><p>è¦å®ç°å¼‚æ­¥éé˜»å¡ï¼Œä¸èƒ½é˜»å¡å“¦</p><blockquote><p>Furthermore it is assumed that a multi-core microcontroller is used however this is not mandatory as the concept provides an identical set of service APIâ€™s regardless whether it is a single- or multi-core implementation. Additionally it is possible to realize mixed ASIL systems with segregation in space and time where the mappable MCAL elements are assigned to the different partitions respecting the safety integrity level of the resulting MCAL implementation.</p></blockquote><p>å¤šæ ¸å¹¶å‘ + ç¡¬ä»¶åˆ†ç¦»è§£è€¦</p><h3 id="criteria"><a class="anchor" href="#criteria">#</a> Criteria</h3><ul><li>1 - APIs Availability<ul><li>1a: Local service APIâ€™s (executable on one core only)</li><li>1b: Global (distributed /shared) service APIâ€™s (executable on any core)</li></ul></li><li>2 - MCAL Kernel Execution Context<ul><li>2a: One Local kernel (executable on one core only)</li><li>2b: Global (distributed /shared) kernel (executable on any core)</li></ul></li><li>HW Elements Mapping<ul><li>3a: One HW element mappable to one core only</li><li>3b: One HW element mappable to several cores</li></ul></li></ul><h2 id="com-stack-distribution"><a class="anchor" href="#com-stack-distribution">#</a> Com-Stack Distribution</h2><blockquote><p>In general, one major job of the PduR is to take care of PDU routings between different networks.</p></blockquote><p>PduR æ¥å¤„ç†ä¸åŒçš„ç½‘ç»œé—´çš„è·¯ç”±</p><h2 id="bsw-distribution-in-safety-systems"><a class="anchor" href="#bsw-distribution-in-safety-systems">#</a> BSW Distribution in Safety Systems</h2><blockquote><p>the main safety mechanisms:</p><ul><li>Partitioning of SWCs to support the isolation in space.</li><li>Timing and control flow supervision to monitor executing entities and to detectfaults caused by blocking or wrong execution. In AUTOSAR the Os and the WdgM take care of this issue.</li><li>A safe communication via end-to-end protection is possible between ECUs (and even inside an ECU). This guarantees e.g. that the data which is send is not modified between the sender and the receiver(s). The responsible module is the E2Elibrary.</li></ul></blockquote><p>ç®€å•æ¥è¯´å‘¢ä¸‰ä»¶äº‹ï¼šç©ºé—´éš”ç¦»ã€å®šæ—¶ä¿æŠ¤ã€E2E ç«¯åˆ°ç«¯</p><h1 id="bswgeneral"><a class="anchor" href="#bswgeneral">#</a> BSWGeneral</h1><h2 id="requirements-specification"><a class="anchor" href="#requirements-specification">#</a> Requirements Specification</h2><blockquote><p>This chapter describes all requirements driving the work to define the General Requirements on Basic Software Modules.</p></blockquote><h2 id="functional-overview"><a class="anchor" href="#functional-overview">#</a> Functional Overview</h2><p>BSW æ¶µç›–äº†ä»¥ä¸‹å‡ ä¸ªåŒºåŸŸ</p><blockquote><p>The requirements on Basic Software cover the following domains:</p><ul><li>Body</li><li>Powertrain</li><li>Chassis</li><li>Safety (assumption: covered, because hardware and system infrastructure are similar to the domains above)</li></ul></blockquote><p>æœ‰ä¸‹é¢å‡ ç§ ECU</p><blockquote><p>The ECU application experience is taken from the following concrete applications:</p><ul><li>Sunroof and power window ECU</li><li>Diesel engine ECU</li><li>ESP ECU</li><li>BMW, DC and VW standard software packages (â€™Standard Coreâ€™, â€™Standard Software Platformâ€™, â€™Standard Software Coreâ€™) including ISO 17356-3 OS [3], communication modules, bootloader, basic diagnostic functions for the domains listed above</li><li>Infotainment control ECU</li></ul></blockquote><h2 id="functional-requirements"><a class="anchor" href="#functional-requirements">#</a> Functional Requirements</h2><h3 id="configuration"><a class="anchor" href="#configuration">#</a> Configuration</h3><blockquote><p><strong>[SRS_BSW_00344] BSW Modules shall support link-time configuration</strong></p><p><strong>[SRS_BSW_00404] BSW Modules shall support post-build configuration</strong></p><p><strong>[SRS_BSW_00405] BSW Modules shall support multiple configuration sets</strong></p><p><strong>[SRS_BSW_00345] BSW Modules shall support pre-compile configuration</strong></p><p><strong>[SRS_BSW_00159] All modules of the AUTOSAR Basic Software shall support a tool based configuration</strong></p></blockquote><p>æ”¯æŒå„ç§é…ç½®</p><blockquote><p><strong>[SRS_BSW_00167] All AUTOSAR Basic Software Modules shall provide configuration rules and constraints to enable plausibility checks</strong></p><p><strong>[SRS_BSW_00171] Optional functionality of a Basic-SW component that is not required in the ECU shall be configurable at pre-compile-time</strong></p></blockquote><p>æ”¯æŒä¸€äº›æ£€æŸ¥</p><blockquote><p><strong>[SRS_BSW_00170] The AUTOSAR SW Components shall provide information about their dependency from faults, signal qualities, driver demands</strong></p></blockquote><p>SWC åº”è¯¥æä¾›æœ‰å…³æ•…éšœã€ä¿¡å·è´¨é‡ã€é©±åŠ¨çš„ä¾èµ–</p><blockquote><p><strong>[SRS_BSW_00380] Configuration parameters being stored in memory shall be placed into separate c-files</strong></p></blockquote><p>é…ç½®çš„å‚æ•°åº”è¯¥åœ¨ä¸€ä¸ªå•ç‹¬çš„ c æ–‡ä»¶ä¸­</p><blockquote><p><strong>[SRS_BSW_00419] If a pre-compile time configuration parameter is implemented as const it should be placed into a separate c-file</strong></p></blockquote><p>å¦‚æœæ˜¯ const ç±»å‹ï¼Œä¹Ÿéœ€è¦å•ç‹¬æ”¾åœ¨ä¸€ä¸ª c æ–‡ä»¶ä¸­</p><blockquote><p><strong>[SRS_BSW_00383] The Basic Software Module specifications shall specify which other configuration files from other modules they use at least in the description</strong></p></blockquote><p>åº”è¯¥è‡³å°‘æè¿°å‡ºéœ€è¦ç”¨åˆ°çš„å…¶ä»–æ¨¡å—çš„å“ªäº›é…ç½®æ–‡ä»¶</p><blockquote><p><strong>[SRS_BSW_00384] The Basic Software Module specifications shall specify at least in the description which other modules they require</strong></p></blockquote><p>åº”è¯¥è¯´æ˜è¦ä½¿ç”¨å“ªäº›æ¨¡å—</p><blockquote><p><strong>[SRS_BSW_00388] Containers shall be used to group configuration parameters that are defined for the same object</strong></p></blockquote><p>å¯¹é…ç½®è¿›è¡Œåˆ†ç»„</p><blockquote><p><strong>[SRS_BSW_00389] Containers shall have names</strong></p><p><strong>[SRS_BSW_00390] Parameter content shall be unique within the module</strong></p><p><strong>[SRS_BSW_00392] Parameters shall have a type</strong></p><p><strong>[SRS_BSW_00393] Parameters shall have a range</strong></p><p><strong>[SRS_BSW_00394] The Basic Software Module specifications shall specify the scope of the configuration parameters</strong></p><p><strong>[SRS_BSW_00395] The Basic Software Module specifications shall list all configuration parameter dependencies</strong></p><p><strong>[SRS_BSW_00396] The Basic Software Module specifications shall specify the supported configuration classes for changing values and multiplicities for each parameter/container</strong></p><p><strong>[SRS_BSW_00403] The Basic Software Module specifications shall specify foreach parameter/container whether it supports different values or multiplicity indifferent configuration sets</strong></p><p><strong>[SRS_BSW_00397] The configuration parameters in pre-compile time are fixed before compilation starts</strong></p><p><strong>[SRS_BSW_00398] The link-time configuration is achieved on object code basis in the stage after compiling and before linking</strong></p></blockquote><p>ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œæ‡’å¾—è§£é‡Šå“ˆå“ˆå“ˆ</p><blockquote><p><strong>[SRS_BSW_00399] Parameter-sets shall be located in a separate segment and shall be loaded after the code</strong></p></blockquote><p>ç»™ä»£ç åˆ’ä¸ªæ®µ</p><blockquote><p><strong>[SRS_BSW_00400] Parameter shall be selected from multiple sets of parameters after code has been loaded and started</strong></p><p><strong>[SRS_BSW_00438] Configuration data shall be defined in a structure</strong></p><p><strong>[SRS_BSW_00402] Each module shall provide version information</strong></p></blockquote><h3 id="wake-up"><a class="anchor" href="#wake-up">#</a> Wake-Up</h3><blockquote><p><strong>[SRS_BSW_00375] Basic Software Modules shall report wake-up reasons</strong></p></blockquote><p>åº”è¯¥æä¾›ä¸€ä¸ªå”¤é†’åŸå› </p><h3 id="initialization"><a class="anchor" href="#initialization">#</a> Initialization</h3><blockquote><p><strong>[SRS_BSW_00101] The Basic Software Module shall be able to initialize variables and hardware in a separate initialization function</strong></p></blockquote><p>åœ¨åˆå§‹åŒ–å‡½æ•°ä¸­åˆå§‹åŒ–å˜é‡å’Œç¡¬ä»¶</p><blockquote><p><strong>[SRS_BSW_00416] The sequence of modules to be initialized shall be configurable</strong></p></blockquote><p>åˆå§‹åŒ–é¡ºåºæ”¯æŒé…ç½®</p><blockquote><p><strong>[SRS_BSW_00406] A static status variable denoting if a BSW module is initialized shall be initialized with value 0 before any APIs of the BSW module is called</strong></p></blockquote><p>é™æ€çŠ¶æ€å˜é‡åº”è¯¥è¢«åˆå§‹åŒ–ä¸º 0 åœ¨è°ƒç”¨ä»»ä½• API ä¹‹å‰</p><blockquote><p><strong>[SRS_BSW_00467] The init / deinit services shall only be called by BswM or EcuM</strong></p></blockquote><p>åˆå§‹åŒ–å‡½æ•°åªèƒ½ç”± BswM æˆ– EcuM è°ƒç”¨</p><blockquote><p><strong>[SRS_BSW_00437] Memory mapping shall provide the possibility to define RAM segments which are not to be initialized during startup</strong></p></blockquote><p>æ”¯æŒå®šä¹‰åœ°å€æ˜ å°„ä¸­çš„ RAM æ®µæ˜¯å¦è¦åˆå§‹åŒ–</p><h3 id="normal-operation"><a class="anchor" href="#normal-operation">#</a> Normal Operation</h3><blockquote><p><strong>[SRS_BSW_00168] SW components shall be tested by a function defined in a common API in the Basis-SW</strong></p></blockquote><p>æœ‰ä¸€äº›æµ‹è¯•çš„å‡½æ•°</p><blockquote><p><strong>[SRS_BSW_00407] Each BSW module shall provide a function to read out the version information of a dedicated module implementation</strong></p></blockquote><p>æ”¯æŒè¯»æ¨¡å—ä¿¡æ¯ï¼Œç‰ˆæœ¬ä¿¡æ¯</p><blockquote><p><strong>[SRS_BSW_00423] BSW modules with AUTOSAR interfaces shall be describable with the means of the SW-C Template</strong></p></blockquote><p>ä¸çŸ¥é“å•¥æ„æ€ï¼Œåº”è¯¥æ˜¯æœ‰ä¸€äº›å¯¹ SWC çš„é€‚é…å’Œä¾èµ–</p><blockquote><p><strong>[SRS_BSW_00424] BSW module main processing functions shall not be allowed to enter a wait state</strong></p></blockquote><p>Bsw æ¨¡å—çš„ä¸»å¤„ç†å‡½æ•°ä¸å…è®¸è¿›å…¥ç­‰å¾…çŠ¶æ€</p><blockquote><p><strong>[SRS_BSW_00425] The BSW module description template shall provide means to model the defined trigger conditions of schedulable objects</strong></p></blockquote><p>å®šä¹‰å¯è°ƒåº¦å¯¹è±¡çš„è§¦å‘æ¡ä»¶</p><blockquote><p><strong>[SRS_BSW_00426] BSW Modules shall ensure data consistency of data which is shared between BSW modules</strong></p><p>There are two possible scenarios</p><ul><li>Scenario 1: the data is defined and managed within one BSW Module. In this case, Exclusive Areas shall be defined and documented in the BSW module description template of the managing module and used in the implementation. The exclusive areas shall be defined with a name and the accessing maifunctions, API services, callback functions and ISR functions.</li><li>Scenario 2: the data is not managed by a BSW Module. This is only possible in case of special hardware resources like registers. In this case, the accessing modules need to disable and enable interrupts to ensure data consistency</li></ul></blockquote><p>è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§</p><blockquote><p><strong>[SRS_BSW_00427] ISR functions shall be defined and documented in the BSW module description template</strong></p><p><strong>[SRS_BSW_00428] A BSW module shall state if its main processing function(s) has to be executed in a specific order or sequence</strong></p><p><strong>[SRS_BSW_00429] Access to OS is restricted</strong></p><p>BSW modules shall only be allowed to use certain OS services.</p><p>The services and their access shall be defined in SWS_BSW_General.</p></blockquote><p>BSW åº”è¯¥åªèƒ½è®¿é—®ç‰¹å®šçš„ OS æœåŠ¡</p><blockquote><p><strong>[SRS_BSW_00432] Modules should have separate main processing functions for read/receive and write/transmit data path</strong></p></blockquote><p>BSW æ¨¡å—è¦æœ‰è‡ªå·±çš„ä¸“é—¨çš„è¯»å†™å‘é€æ¥æ”¶å‡½æ•°</p><blockquote><p><strong>[SRS_BSW_00433] Main processing functions are only allowed to be called from task bodies provided by the BSW Scheduler</strong></p></blockquote><p>ä¸»å¤„ç†å‡½æ•°åªå…è®¸åœ¨ BSW è°ƒåº¦å™¨è°ƒç”¨</p><blockquote><p><strong>[SRS_BSW_00450] A Main function of a un-initialized module shall return immediately</strong></p></blockquote><p>æœªåˆå§‹åŒ–çš„æ¨¡å—è¦ç«‹å³è¿”å›</p><blockquote><p><strong>[SRS_BSW_00461] Modules called by generic modules shall satisfy all interfaces requested by the generic module</strong></p></blockquote><p>åº”è¯¥æä¾›æ‰€æœ‰çš„æ¥å£ï¼Œè‹¥æ˜¯ä¸æ”¯æŒå°±æä¾›ç©ºçš„å®ç°</p><blockquote><p><strong>[SRS_BSW_00451] Hardware registers shall be protected if concurrent access to these registers occur</strong></p></blockquote><p>å¦‚æœå¹¶å‘è®¿é—®ç¡¬ä»¶å¯„å­˜å™¨ï¼Œé‚£åº”è¯¥åŠ ä¸€äº›ä¿æŠ¤</p><blockquote><p><strong>[SRS_BSW_00478] Timing limits of main functions</strong></p></blockquote><h3 id="shutdown-operation"><a class="anchor" href="#shutdown-operation">#</a> Shutdown Operation</h3><blockquote><p><strong>[SRS_BSW_00336] Basic SW module shall be able to shutdown</strong></p></blockquote><p>åº”è¯¥èƒ½å»æ­»</p><h3 id="fault-operation-and-error-detection"><a class="anchor" href="#fault-operation-and-error-detection">#</a> Fault Operation and Error Detection</h3><blockquote><p><strong>[SRS_BSW_00337] Classification of development errors</strong></p></blockquote><p>ç»™å¼€å‘é”™è¯¯åˆ†ç±»</p><blockquote><p><strong>[SRS_BSW_00369] All AUTOSAR Basic Software Modules shall not return specific development error codes via the API</strong></p></blockquote><p>è¿”å›å€¼æ˜¯å¼€å‘é”™è¯¯ä»£ç </p><blockquote><p><strong>[SRS_BSW_00339] Reporting of production relevant error status</strong></p><p>AUTOSAR Basic Software Modules shall report all production errors and extended production errors to the Dem (Diagnostic Event Manager)</p></blockquote><p>æŠ¥ç»™ DEM å»é›†ä¸­å¤„ç†é”™è¯¯</p><blockquote><p><strong>[SRS_BSW_00422] Pre-de-bouncing of error status information is done within the Dem</strong></p></blockquote><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240716141143275.png" alt="image-20240716141143275"></p><blockquote><p><strong>[SRS_BSW_00417] Software which is not part of the SW-C shall report error events only after the Dem is fully operational.</strong></p></blockquote><p>ä¸ºäº†ç®€åŒ–å¤„ç†ï¼Œé™¤äº† SWC å…¶ä»–çš„è½¯ä»¶åœ¨ DEM å®Œå…¨è¿è¡Œä¹‹åæ‰è¿›è¡Œå¤„ç†</p><blockquote><p><strong>[SRS_BSW_00323] All AUTOSAR Basic Software Modules shall check passed API parameters for validity</strong></p></blockquote><p>æ£€æŸ¥å‚æ•°</p><blockquote><p><strong>[SRS_BSW_00004] All Basic SW Modules shall perform a pre-processor check of the versions of all imported include files</strong></p></blockquote><p>åœ¨åŒ…å«å¤´æ–‡ä»¶æ—¶è¦æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯æ˜¯å¦å…¼å®¹</p><blockquote><p><strong>[SRS_BSW_00409] All production code error ID symbols are defined by the Dem module and shall be retrieved by the other BSW modules from Dem configuration</strong></p></blockquote><p>é”™è¯¯ç åœ¨ DEM ä¸­å®šä¹‰</p><blockquote><p><strong>[SRS_BSW_00385] List possible error notifications</strong></p></blockquote><p>åº”è¯¥åˆ—å‡ºå¯èƒ½çš„é”™è¯¯æé†’</p><blockquote><p><strong>[SRS_BSW_00386] The BSW shall specify the configuration and conditions for detecting an error</strong></p><p><strong>[SRS_BSW_00452] Classification of runtime errors</strong></p><p><strong>[SRS_BSW_00458] Classification of production errors</strong></p><p><strong>[SRS_BSW_00466] Classification of extended production errors</strong></p><p><strong draft="">[SRS_BSW_00488]</strong> <strong>Classification of security events</strong></p><p><strong draft="">[SRS_BSW_00489]</strong> <strong>Reporting of security events</strong></p><p>AUTOSAR Basic Software Modules shall report the configured security events to the IdsM (Intrusion Detection System Manager).</p><p><strong draft="">[SRS_BSW_00490]</strong> <strong>List possible security events</strong></p><p><strong draft="">[SRS_BSW_00491]</strong> <strong>Specification of trigger conditions and context data</strong></p><p><strong draft="">[SRS_BSW_00492]</strong> <strong>Reporting of security events during startup</strong></p><p><strong draft="">[SRS_BSW_00493]</strong> <strong>Definition of security event ID symbols</strong></p><p><strong>[SRS_BSW_00469] Fault detection and healing of production errors and extended production errors</strong></p><p><strong>[SRS_BSW_00470] Execution frequency of production error detection</strong></p><p><strong>[SRS_BSW_00471] Do not cause dead-locks on detection of production errors - the ability to heal from previously detected production errors</strong></p><p><strong>[SRS_BSW_00472] Avoid detection of two production errors with the same root cause</strong></p><p><strong>[SRS_BSW_00473] Classification of transient faults</strong></p></blockquote><h2 id="non-functional-requirements-qualities"><a class="anchor" href="#non-functional-requirements-qualities">#</a> Non-Functional Requirements (Qualities)</h2><h3 id="software-architecture-requirements"><a class="anchor" href="#software-architecture-requirements">#</a> Software Architecture Requirements</h3><blockquote><p><strong>[SRS_BSW_00161] The AUTOSAR Basic Software shall provide a microcontroller abstraction layer which provides a standardized interface to higher software layers</strong></p></blockquote><p>è¦æä¾›æ ‡å‡†çš„ MCAL æ¥å£ç»™ä¸Šå±‚</p><blockquote><p><strong>[SRS_BSW_00162] The AUTOSAR Basic Software shall provide a hardware abstraction layer</strong></p></blockquote><p>è¦æä¾›æ ‡å‡†çš„ç¡¬ä»¶æŠ½è±¡å±‚æ¥å£</p><blockquote><p><strong>[SRS_BSW_00005] Modules of the ÂµC Abstraction Layer (MCAL) may not have hard coded horizontal interfaces</strong></p><p>Necessary interactions (e.g. GPT triggered ADC conversion) shall be implemented by using statically configurable notifications (callbacks).</p></blockquote><p>MCAL ä¸æ¨èç¡¬ç¼–ç ï¼Œå¿…è¦çš„æ¥å£ç”¨å›è°ƒå‡½æ•°å®ç°</p><p><strong>è½¯ç¼–ç </strong>ï¼šç›¸å¯¹åœ°ï¼Œè½¯ç¼–ç å®è·µé¼“åŠ±å°†è¿™äº›å›ºå®šå€¼æŠ½è±¡å‡ºæ¥ï¼Œé€šè¿‡å¤–éƒ¨é…ç½®æ–‡ä»¶ã€æ•°æ®åº“æˆ–ç¯å¢ƒå˜é‡ç­‰æ–¹å¼ç®¡ç†ï¼Œä½¿å¾—ç¨‹åºåœ¨ä¸åŒç¯å¢ƒæˆ–éœ€è¦è°ƒæ•´æ—¶æ›´åŠ çµæ´»ã€‚</p><blockquote><p><strong>[SRS_BSW_00415] Interfaces which are provided exclusively for one module shall be separated into a dedicated header file</strong></p></blockquote><p>ä¸“é—¨ç»™ä¸€ä¸ªæ¨¡å—æä¾›çš„æ¥å£éœ€è¦æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„å¤´æ–‡ä»¶é‡Œ</p><h3 id="software-integration-requirements"><a class="anchor" href="#software-integration-requirements">#</a> Software Integration Requirements</h3><blockquote><p><strong>[SRS_BSW_00164] The Implementation of interrupt service routines shall be done by the Operating System, complex drivers or modules</strong></p></blockquote><blockquote><p><strong>[SRS_BSW_00325] The runtime of interrupt service routines and functions that are running in interrupt context shall be kept short</strong></p></blockquote><p>ä¸­æ–­åº”è¯¥å ç”¨æ—¶é—´çŸ­ï¼Œå¦‚æœç”¨æ—¶è¾ƒé•¿å°±ä½¿ç”¨ OS Task æ¥æ›¿ä»£</p><blockquote><p><strong>[SRS_BSW_00342] It shall be possible to create an AUTOSAR ECU out of modules provided as source code and modules provided as object code, even mixed</strong></p><p>Some simple drivers could be provided as object code. More complex and configurable modules could be provided as source code or even generated code.</p></blockquote><p>å¯ä»¥æ‹†å‡ºé…ç½®ä»£ç </p><blockquote><p><strong>[SRS_BSW_00343] The unit of time for specification and configuration of Basic SW modules shall be preferably in physical time unit</strong></p><p><strong>[SRS_BSW_00160] Configuration files of AUTOSAR Basic SW module shall be readable for human beings</strong></p></blockquote><p>é…ç½®æ–‡ä»¶å› è¯¥å…·æœ‰å¯è¯»æ€§</p><blockquote><p><strong>[SRS_BSW_00453] BSW Modules shall be harmonized</strong></p><p><strong>[SRS_BSW_00456] A Header file shall be defined in order to harmonize BSW Modules</strong></p></blockquote><p>å¦‚æœè¿™ä¸ªç±»å‹å®šä¹‰éœ€è¦è¢«å¤šä¸ªæ¨¡å—å¼•ç”¨</p><p>é‚£éœ€è¦åœ¨ &lt;Module Abbreviation&gt;_GeneralTypes.h å¤´æ–‡ä»¶ä¸­å£°æ˜</p><blockquote><p><strong>[SRS_BSW_00457] Callback functions of Application software components shall be invoked by the Basis SW</strong></p></blockquote><p>ASW çš„å›è°ƒæ˜¯è¢« BSW è°ƒç”¨</p><blockquote><p><strong>[SRS_BSW_00479] Interfaces for handling request from external devices</strong></p></blockquote><p>å¤–éƒ¨è®¾å¤‡åŒæ ·è¦ç¬¦åˆè§„èŒƒ</p><blockquote><p><strong>[SRS_BSW_00483] BSW Modules shall handle buffer alignments internally</strong></p></blockquote><p>BSW æ¨¡å—åº”è¯¥åœ¨å†…éƒ¨å¤„ç† Buffer å¯¹é½</p><h3 id="software-module-design-requirements"><a class="anchor" href="#software-module-design-requirements">#</a> Software Module Design Requirements</h3><blockquote><p><strong>[SRS_BSW_00007] All Basic SW Modules written in C language shall conform to the MISRA C 2012 Standard.</strong></p></blockquote><p>è¦ç¬¦åˆ MISRA C è§„èŒƒï¼Œè¿åè§„èŒƒè¦æ³¨æ˜</p><blockquote><p><strong>[SRS_BSW_00413] An index-based accessing of the instances of BSW modules shall be done</strong></p></blockquote><p>åŸºäºç´¢å¼•çš„ BSW æ¨¡å—</p><blockquote><p><strong>[SRS_BSW_00347] A Naming seperation of different instances of BSW drivers shall be in place</strong></p><p>Driver modules shall be named according to the following rules (only for implementation, not for the software specification):</p><ul><li>First the module name has to be listed: &lt;Module Abbreviation&gt;</li><li>After that the vendor Id defined in the AUTOSAR vendor list has to be given &lt;Vendor Id</li><li>At last a vendor specific name (the vendor API infix) follows &lt;Vendor APIinfix&gt;</li><li>Only for API names, last name shall be &lt;API Service name&gt;</li><li>All parts shall be separated by underscores "_".</li><li>This naming extension applies to the following externally visible elements of the module:<ul><li>File names</li><li>API names</li><li>Published parameters</li><li>Memory allocation keyword</li></ul></li><li>For API names, &lt;Vendor specific name&gt; should be followed by "_" and the &lt;API Service Name&gt;.</li><li>For the creation of file names, no trailing underscore shall be added.</li><li>For Published parameters and Memory allocation keyword names, &lt;Vendor Specific name&gt; shall have a trailing underscores.</li></ul></blockquote><p>Examples:</p><ul><li>EEPROM (LD): Eep_21_LDExtEepDriver.c</li><li>Published parameters: EEP_21_LDEXT_SW_MAJOR_VERSION</li><li>API: Eep_21_LDExt_Init</li></ul><p>ä¸€äº›å‘½åè§„èŒƒå•¦</p><blockquote><p><strong>[SRS_BSW_00441] Naming convention for type, macro and function</strong></p><p>All AUTOSAR Basic Software Modules shall label enumeration literals and</p><p>#defines according to the following scheme:</p><ul><li>Composition: &lt;Module Abbreviation&gt;_&lt;Specific name&gt;</li><li>&lt;Module Abbreviation&gt; shall be written in UPPERCASE</li><li>&lt;Specific name&gt; shall be written in UPPERCAS</li><li>&lt;Module Abbreviation&gt; and &lt;Specific name&gt; shall be separated by underscore</li><li>If &lt;Specific name&gt; consists of several words, they shall be separated by underscore</li></ul><p>The #define E_OK and E_NOT_OK are exceptions to this.</p></blockquote><p>Example #define:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EEP_PARAM_CONFIG</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EEP_SIZE</span></span></pre></td></tr></tbody></table></figure><p>Example enumeration literals:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">enum</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">{</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    EEP_DRA_CONFIG <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    EEP_ARE <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    EEP_EV <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">}</span> Eep_NotificationType<span class="token punctuation">;</span></pre></td></tr></tbody></table></figure><p>ç±»å‹ã€å®ã€å‡½æ•°çš„å‘½åçº¦å®š</p><blockquote><p><strong>[SRS_BSW_00305] Data types naming convention</strong></p><p>All AUTOSAR Basic Software Modules shall label data types according to the following scheme:</p><ul><li>Composition of type: &lt;Module name&gt;_&lt;Type name&gt;Type</li><li>Only one underscore between module name and type name</li><li>&lt; Type name &gt; shall be written in UpperCamelCase.</li></ul></blockquote><p>æ•°æ®ç±»å‹çš„å‘½åçº¦æŸ</p><blockquote><p><strong>[SRS_BSW_00307] Global variables naming convention</strong></p><ul><li>All AUTOSAR Basic Software Modules shall label global variables according to the following scheme:</li><li>Composition of name: &lt;Module name&gt;_&lt;Variable name&gt;</li><li>Only one underscore between module name and variable name</li><li>Spelling of name: First letter of each word upper case, consecutive letters lower case</li></ul></blockquote><p>å…¨å±€å˜é‡å‘½åçº¦å®š</p><blockquote><p><strong>[SRS_BSW_00310] API naming convention</strong></p><p>All AUTOSAR Basic Software Modules shall implement an API based on the following naming rules:</p><ul><li>Composition of API: &lt;Module name&gt;_ServiceName()</li></ul><p>&lt;Mip&gt;_&lt;Sn&gt;</p><ul><li>Where &lt;Mip&gt; is the Module implementation prefix and &lt;Sn&gt; is the API Service name Module name: 2..8 letters, derived from [7]</li><li>Only one underscore between module name and service name</li><li>Spelling of API: First letter of each word upper case, consecutive letter lower case</li></ul></blockquote><p>ä¾‹å­ï¼š</p><ul><li>Can_TransmitFrame()</li><li>Nm_RequestBusCommunication()</li><li>Adc_Init()</li><li>Eep_Write(</li><li>Nvm_GetState()</li></ul><blockquote><p><strong>[SRS_BSW_00494] ServiceInterface argument with a pointer datatype</strong></p><p>A ServiceInterface argument with a pointer datatype (DATA_REFERENCE) shall have a Ptr postfix in its argument type and -name. No other argument type shall use this postfix in its argument type or -name. The argument direction of a pointer datatype is always IN.</p></blockquote><p>æœåŠ¡æ¥å£çš„å‚æ•°æ˜¯ä¸€ä¸ªæŒ‡é’ˆ</p><blockquote><p><strong>[SRS_BSW_00373] The main processing function of each AUTOSAR Basic Software Module shall be named according the defined convention</strong></p><p>The main processing function of each AUTOSAR Basic Software Module shall be named according to the following rule:</p><p>&lt;Module name&gt;_MainFunction_&lt;module specific extension&gt; ()</p><p>Module specific extension shall be used to distinguish between multiple mainprocessing functions of one module (e.g. Cluster index, Rx /Tx <em>. . .</em> ). If only one main processing function exists in one module no module specific extension is required.</p><p>It is responsibility of the modules to either define one main processing function and handle all the processing internally or define multiple main processing functions with appropriate module specific extensions.</p><p>This depends on Module requirements.</p><p>Main processing functions shall have no parameters and no return value.</p><p>Main processing functions shall not be re-entrant.</p></blockquote><p>ç”¨ä¾‹</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>Possible main processing function of EEPROM driver<span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">Eep_MainFunction</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>Possible main processing functions of FlexRay driver<span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">void</span> <span class="token function">Fr_MainFunction_TxClst1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">void</span> <span class="token function">Fr_MainFunction_TxClst2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">void</span> <span class="token function">Fr_MainFunction_RxClst1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">void</span> <span class="token function">Fr_MainFunction_RxClst2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>Please Note<span class="token operator">:</span> The Use <span class="token keyword">case</span> is no recommendation <span class="token keyword">for</span> the particular Module<span class="token punctuation">,</span> it just illustrates Main processing function possibilities<span class="token punctuation">.</span></pre></td></tr></tbody></table></figure><p>ä¸»å¤„ç†å‡½æ•°çš„å‘½å</p><blockquote><p><strong>[SRS_BSW_00327] Error values naming convention</strong></p><p>All AUTOSAR Basic Software Modules shall apply the following naming rules for all error values:</p><ul><li>Error values shall have only CAPITAL LETTERS</li><li>Naming convention: &lt;MODULENAME&gt;<em>E</em>&lt;ERRORNAME&gt;</li><li>If &lt;ERRORNAME&gt; consists of several words, they shall be separated by underscores</li></ul></blockquote><p>ä¾‹å­</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>The EEPROM driver has the following error values<span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>â€¢ EEP_E_BUSY</pre></td></tr><tr><td data-num="3"></td><td><pre>â€¢ EEP_E_PARAM_ADDRESS</pre></td></tr><tr><td data-num="4"></td><td><pre>â€¢ EEP_E_PARAM_LENGTH</pre></td></tr><tr><td data-num="5"></td><td><pre>â€¢ EEP_E_WRITE_FAILED</pre></td></tr></tbody></table></figure><blockquote><p><strong>[SRS_BSW_00335] Status values naming convention</strong></p><p>All AUTOSAR Basic Software Modules shall apply the following naming rules for status values that are visible outside of the module:</p><ul><li>Status values shall have only CAPITAL LETTERS</li><li>If &lt;STATUSNAME&gt; consists of several words, they shall be separated by underscores</li></ul></blockquote><p>ä¾‹å­</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>The Eeprom driver has the following status values<span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>â€¢ EEP_UNINIT</pre></td></tr><tr><td data-num="3"></td><td><pre>â€¢ EEP_IDLE</pre></td></tr><tr><td data-num="4"></td><td><pre>â€¢ EEP_BUSY</pre></td></tr></tbody></table></figure><blockquote><p><strong>[SRS_BSW_00350] All AUTOSAR Basic Software Modules shall allow the enabling/disabling of detection and reporting of development errors.</strong></p></blockquote><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>In Eep<span class="token punctuation">.</span>h<span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EEP_DEV_ERROR_DETECT</span> <span class="token expression">STD_ON </span><span class="token comment">/* detection module</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>wide enabled */</pre></td></tr><tr><td data-num="4"></td><td><pre>In source Eep<span class="token punctuation">.</span>c<span class="token operator">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Eep.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token punctuation">(</span> EEP_DEV_ERROR_DETECT <span class="token operator">==</span> STD_ON <span class="token punctuation">)</span></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span> development errors to be detected</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">/* EEP_DEV_ERROR_DETECT */</span></span></pre></td></tr></tbody></table></figure><p>å¯ä»¥ç”¨ä½¿èƒ½ / ä½¿èƒ½æ£€æµ‹å’ŒæŠ¥å‘Šå¼€å‘é”™è¯¯</p><blockquote><p><strong>[SRS_BSW_00408] All AUTOSAR Basic Software Modules configuration parameters shall be named according to a specific naming rule</strong></p><p>All AUTOSAR Basic Software Modules configuration parameters shall be named according to the following naming rules:</p><ul><li>Naming convention: &lt;Module Abbreviation&gt;&lt;ParameterName&gt;</li></ul><p>&lt; Module Abbreviation &gt; is the prefix derived from [7].</p><p>&lt; ParameterName &gt; may consist of several words which may or may not be separated by underscore.</p><p>The configuration parameter name can either be in UpperCamelCase or Uppercase</p></blockquote><p>Example: CanIfTxConfirmation</p><p>é…ç½®å‚æ•°çš„å‘½åè§„èŒƒ</p><blockquote><p><strong>[SRS_BSW_00410] Compiler switches shall have defined values</strong></p></blockquote><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>Example<span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Do <span class="token operator">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token punctuation">(</span> EEP_DEV_ERROR_DETECT <span class="token operator">==</span> STD_ON <span class="token punctuation">)</span></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre>Donâ€™t<span class="token operator">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">EEP_DEV_ERROR_DETECT</span></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr></tbody></table></figure><p>å®å®šä¹‰è¦æœ‰å€¼</p><blockquote><p><strong>[SRS_BSW_00411] All AUTOSAR Basic Software Modules shall apply a naming rule for enabling/disabling the existence of the API</strong></p></blockquote><p>æ‰€æœ‰ AUTOSAR çš„ API éƒ½åº”è¯¥ç”¨å®å®šä¹‰æ¥å¼€å…³</p><blockquote><p><strong>[SRS_BSW_00463] Naming convention of callout prototypes</strong></p></blockquote><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>Each callout function shall be mapped to its own memory section and memory class<span class="token punctuation">.</span> These memory classes will then be mapped to the actually implemented memory classes at integration time<span class="token punctuation">.</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>The following naming convention shall be used<span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>â€” Start section definition<span class="token operator">:</span> â€”</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>\#define MSN_START_SEC_CBN_CODE</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>â€” Stop section definition<span class="token operator">:</span> â€”</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>\#define MSN_STOP_SEC_CBN_CODE</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>â€” Function prototype definition<span class="token operator">:</span> â€”</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">MSN_Cbn</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>Where<span class="token operator">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>MSN<span class="token operator">:</span> Module Short Name as officially defined in <span class="token function">AUTOSAR</span> <span class="token punctuation">(</span>see supporting material<span class="token punctuation">)</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>CBN<span class="token operator">:</span> Call Back Name<span class="token punctuation">,</span> which shall have the same spelling of the Callback name including module reference but using only capital letters<span class="token punctuation">.</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>Cbn<span class="token operator">:</span> Callback name using the conventional Camel Case notation <span class="token keyword">for</span> API names<span class="token punctuation">.</span></pre></td></tr></tbody></table></figure><p>Callback çš„å‘½åçº¦å®š</p><blockquote><p><strong>[SRS_BSW_00464] File names shall be considered case sensitive regardless of the filesystem in which they are used</strong></p><p><strong>[SRS_BSW_00465] It shall not be allowed to name any two files so that they only differ by the cases of their letters</strong></p></blockquote><p>æ–‡ä»¶åå­—è¦åŒºåˆ†å¤§å°å†™ï¼Œä¸å…è®¸ä¸¤ä¸ªæ–‡ä»¶ååªæœ‰å¤§å°å†™ä¸ä¸€è‡´</p><blockquote><p><strong>[SRS_BSW_00480] Null pointer errors shall follow a naming rule</strong> &lt;MIP&gt;_E_PARAM_POINTER</p></blockquote><p>ç©ºæŒ‡é’ˆé”™è¯¯</p><blockquote><p><strong>[SRS_BSW_00487] Errors for module initialization shall follow a naming rule</strong> &lt;MIP&gt;_E_UNINIT</p></blockquote><p>åˆå§‹åŒ–é”™è¯¯</p><blockquote><p><strong>[SRS_BSW_00481] Invalid configuration set selection errors shall follow a naming rule</strong></p><p><strong>[SRS_BSW_00482] Get version information function shall follow a naming rule</strong></p><p><strong>[SRS_BSW_00346] All AUTOSAR Basic Software Modules shall provide at least a basic set of module files</strong></p><p><strong>[SRS_BSW_00314] All internal driver modules shall separate the interrupt frame definition from the service routine</strong></p><p>All internal driver modules shall separate the interrupt frame definition from the service routine in the following way:</p><ul><li>&lt;Module name&gt;_Irq.c: implementation of interrupt frame</li><li>&lt;Module name&gt;.c: implementation of service routine called from interrupt frame</li></ul></blockquote><p>ä¸­æ–­è¦å•ç‹¬å‡ºä¸€ä¸ªæ–‡ä»¶</p><blockquote><p><strong>[SRS_BSW_00447] Standardizing Include file structure of BSW Modules Implementing Autosar Service</strong></p><p><strong>[SRS_BSW_00348] All AUTOSAR standard types and constants shall be placed and organized in a standard type header file</strong></p><p><strong>[SRS_BSW_00353] All integer type definitions of target and compiler specific scope shall be placed and organized in a single type header</strong></p><p><strong>[SRS_BSW_00301] All AUTOSAR Basic Software Modules shall only import the necessary information</strong></p><p><strong>[SRS_BSW_00302] All AUTOSAR Basic Software Modules shall only export information needed by other modules</strong></p><p><strong>[SRS_BSW_00328] All AUTOSAR Basic Software Modules shall avoid the duplication of code</strong></p></blockquote><p>éƒ½æ˜¯ä¸€äº›å¤´æ–‡ä»¶çš„ç»“æ„å•Šè¯´æ˜å•Šä»€ä¹ˆçš„</p><blockquote><p><strong>[SRS_BSW_00312] Shared code shall be reentrant</strong></p></blockquote><p>ä»£ç å¯é‡å…¥</p><blockquote><p><strong>[SRS_BSW_00006] The source code of software modules above the ÂµC Abstraction Layer (MCAL) shall not be processor and compiler dependent.</strong></p></blockquote><p>ç¡¬ä»¶æŠ½è±¡</p><blockquote><p><strong>[SRS_BSW_00439] Enable BSW modules to handle interrupts</strong></p><p><strong>[SRS_BSW_00448] Module SWS shall not contain requirements from other modules</strong></p></blockquote><p>æ²¡çœ‹æ‡‚</p><blockquote><p><strong>[SRS_BSW_00449] BSW Service APIs used by Autosar Application Software shall return a Std_ReturnType</strong></p><p><strong>[SRS_BSW_00357] For success/failure of an API call a standard return type shall be defined</strong></p><p><strong>[SRS_BSW_00377] A Basic Software Module can return a module specific types</strong></p></blockquote><p>è¦æœ‰è¿”å›å€¼</p><blockquote><p><strong>[SRS_BSW_00304] All AUTOSAR Basic Software Modules shall use only AUTOSAR data types instead of native C data types</strong></p></blockquote><p>è¦ä½¿ç”¨ AUTOSAR å®šä¹‰çš„ç±»å‹æ¥ä»£æ›¿åŸç”Ÿ C æ•°æ®ç±»å‹</p><blockquote><p><strong>[SRS_BSW_00378] AUTOSAR shall provide a boolean type</strong></p></blockquote><p>bool ç±»å‹</p><blockquote><p><strong>[SRS_BSW_00306] AUTOSAR Basic Software Modules shall be compiler and platform independent</strong></p></blockquote><p>è¦ç‹¬ç«‹äºç¼–è¯‘å™¨å’Œå¹³å°</p><blockquote><p><strong>[SRS_BSW_00308] AUTOSAR Basic Software Modules shall not define global data in their header files, but in the C file</strong></p></blockquote><p>ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰å…¨å±€æ•°æ®ï¼Œåœ¨ C æ–‡ä»¶ä¸­å®šä¹‰</p><blockquote><p><strong>[SRS_BSW_00309] All AUTOSAR Basic Software Modules shall indicate all global data with read-only purposes by explicitly assigning the const keyword</strong></p></blockquote><p>åªè¯»çš„è¦åŠ  const</p><blockquote><p><strong>[SRS_BSW_00484] Input parameters of scalar and enum types shall be passed as a value.</strong></p></blockquote><p>æšä¸¾ç±»å‹åº”è¯¥ä½œä¸ºå€¼ä¼ é€’</p><blockquote><p><strong>[SRS_BSW_00485] Input parameters of structure type shall be passed as a reference to a constant structure</strong></p></blockquote><p>ç»“æ„ä½“çš„å‚æ•°è¦ä½¿ç”¨æŒ‡é’ˆæ¥å¼•ç”¨</p><blockquote><p><strong>[SRS_BSW_00486] Input parameters of array type shall be passed as a reference to the constant array base type</strong></p></blockquote><p>æ•°ç»„çš„å‚æ•°è¦ä½œä¸ºä¸€ä¸ªå¸¸æ•°æ•°ç»„æŒ‡é’ˆç±»å‹ä¼ å…¥</p><blockquote><p><strong>[SRS_BSW_00358] The return type of init() functions implemented by AUTOSAR Basic Software Modules shall be void</strong></p></blockquote><p>init å‡½æ•°è¿”å›å€¼ä¸ºç©º</p><blockquote><p><strong>[SRS_BSW_00414] Init functions shall have a pointer to a configuration structure as single parameter</strong></p></blockquote><p>init å‡½æ•°åº”æœ‰å•ä¸€ä¸€ä¸ªæŒ‡å‘é…ç½®çš„æŒ‡é’ˆä¼ å…¥</p><blockquote><p><strong>[SRS_BSW_00359] All AUTOSAR Basic Software Modules callback functions shall avoid return types other than void if possible</strong></p></blockquote><p>å›è°ƒå‡½æ•°çš„è¿”å›å€¼éƒ½æ˜¯ void</p><blockquote><p><strong>[SRS_BSW_00360] AUTOSAR Basic Software Modules callback functions are allowed to have parameters</strong></p></blockquote><p>å…è®¸å›è°ƒå‡½æ•°æœ‰å‚æ•°</p><blockquote><p><strong>[SRS_BSW_00440] The callback function invocation by the BSW module shall follow the signature provided by RTE to invoke servers via</strong> <strong>Rte_Call</strong> <strong>API</strong></p><p><strong>[SRS_BSW_00330] It shall be allowed to use macros instead of functions where source code is used and runtime is critical</strong></p><p>It shall be allowed to use macros instead of functions where source code is used and runtime is critical.</p><p>It shall be allowed to use inline functions for the same purpose. Inline functions have the advantage (compared to macros) that the compiler can do type checking of function parameters and return values.</p></blockquote><p>å¯ä»¥ä½¿ç”¨å®å’Œå†…è”å‡½æ•°</p><blockquote><p><strong>[SRS_BSW_00331] All Basic Software Modules shall strictly separate error and status information</strong></p><p><strong>[SRS_BSW_00462] All Standardized Autosar Interfaces shall have unique requirement Id / number</strong></p><p><strong>[SRS_BSW_00454] An alternative interface without a parameter of category DATA_REFERENCE shall be available.</strong></p><p><strong>[SRS_BSW_00477] The functional interfaces of AUTOSAR BSW modules shall be specified in C99</strong></p><p><strong>[SRS_BSW_00459] It shall be possible to concurrently execute a service offered by a BSW module in different partitions</strong></p><p><strong>[SRS_BSW_00460] Reentrancy Levels</strong></p></blockquote><h3 id="software-documentation-requirements"><a class="anchor" href="#software-documentation-requirements">#</a> Software Documentation Requirements</h3><blockquote><p><strong>[SRS_BSW_00009] All Basic SW Modules shall be documented according to a common standard.</strong></p></blockquote><p>æ‰€æœ‰çš„æ¨¡å—éƒ½åº”è¯¥æ ‡å‡†æ–‡æ¡£åŒ–</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>The module documentation shall contain at least the following items<span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>â€¢ Cover sheet with title<span class="token punctuation">,</span> version number<span class="token punctuation">,</span> date<span class="token punctuation">,</span> author<span class="token punctuation">,</span> document status<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>document name</pre></td></tr><tr><td data-num="4"></td><td><pre>â€¢ Change history with version number<span class="token punctuation">,</span> date<span class="token punctuation">,</span> author<span class="token punctuation">,</span> change description<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>document status</pre></td></tr><tr><td data-num="6"></td><td><pre>â€¢ Table of <span class="token function">contents</span> <span class="token punctuation">(</span>navigable<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>â€¢ Functional overview</pre></td></tr><tr><td data-num="8"></td><td><pre>â€¢ Source file list and description</pre></td></tr><tr><td data-num="9"></td><td><pre>â€¢ Module requirements</pre></td></tr><tr><td data-num="10"></td><td><pre>â€¢ Used <span class="token function">resources</span> <span class="token punctuation">(</span>interrupts<span class="token punctuation">,</span> ÂµC peripherals etc<span class="token punctuation">.</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>â€¢ Integration <span class="token function">description</span> <span class="token punctuation">(</span>OS<span class="token punctuation">,</span> interface to other modules etc<span class="token punctuation">.</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>â€¢ Configuration description with parameter<span class="token punctuation">,</span> description<span class="token punctuation">,</span> unit<span class="token punctuation">,</span> validrange<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">default</span> value<span class="token punctuation">,</span> relation to other parameters</pre></td></tr><tr><td data-num="14"></td><td><pre>The module documentation shall also contain examples <span class="token keyword">for</span></pre></td></tr><tr><td data-num="15"></td><td><pre>â€¢ the correct usage of the API</pre></td></tr><tr><td data-num="16"></td><td><pre>â€¢ the configuration of the module</pre></td></tr></tbody></table></figure><blockquote><p><strong>[SRS_BSW_00401] Documentation of multiple instances of configuration parameters shall be available</strong></p><p><strong>[SRS_BSW_00172] The scheduling strategy that is built inside the Basic Software Modules shall be compatible with the strategy used in the system</strong></p><p><strong>[SRS_BSW_00010] The memory consumption of all Basic SW Modules shall be documented for a defined configuration for all supported platforms.</strong></p></blockquote><p>æ–‡æ¡£è®°å½•å‚æ•°é…ç½®è¿˜æœ‰ ROM/RAM çš„æ¶ˆè€—</p><blockquote><p><strong>[SRS_BSW_00333] For each callback function it shall be specified if it is called from interrupt context or not</strong></p></blockquote><p>åº”è¯¥æŒ‡å‡ºæ˜¯å¦å¯ä»¥åœ¨ä¸­æ–­ä¸­è°ƒç”¨</p><blockquote><p><strong>[SRS_BSW_00374] All Basic Software Modules shall provide a readable module vendor identification</strong></p></blockquote><p>åº”è¯¥å¯è¯»ä¾›åº”å•†æ ‡è¯†</p><blockquote><p><strong>[SRS_BSW_00379] All software modules shall provide a module identifier in the header file and in the module XML description file.</strong></p></blockquote><p>å¤´æ–‡ä»¶ä¸­æœ‰æ¨¡å— ID</p><blockquote><p><strong>[SRS_BSW_00003] All software modules shall provide version and identification information</strong></p></blockquote><p>æä¾›è½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯</p><blockquote><p><strong>[SRS_BSW_00318] Each AUTOSAR Basic Software Module file shall provide version numbers in the header file</strong></p><p><strong>[SRS_BSW_00321] The version numbers of AUTOSAR Basic Software Modules shall be enumerated according specific rules</strong></p></blockquote><p>ä¹Ÿè¦æœ‰è§„èŒƒçš„ç‰ˆæœ¬å·</p><blockquote><p><strong>[SRS_BSW_00341] Module documentation shall contains all needed informations</strong></p><p><strong>[SRS_BSW_00334] All Basic Software Modules shall provide an XML file that contains the meta data</strong></p><p><strong>[SRS_BSW_00351] Encapsulation of compiler specific methods to map objects</strong></p></blockquote><h1 id="errordescription"><a class="anchor" href="#errordescription">#</a> ErrorDescription</h1><h2 id="generic-mechanisms"><a class="anchor" href="#generic-mechanisms">#</a> Generic Mechanisms</h2><h3 id="report-to-the-diagnostic-event-manager-dem"><a class="anchor" href="#report-to-the-diagnostic-event-manager-dem">#</a> Report to the Diagnostic Event Manager (DEM)</h3><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240708171447383.png" alt="image-20240708171447383"></p><h3 id="diagnostic-event-manager"><a class="anchor" href="#diagnostic-event-manager">#</a> Diagnostic Event Manager</h3><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240708172006241.png" alt="image-20240708172006241"></p><h3 id="det"><a class="anchor" href="#det">#</a> DET</h3><blockquote><p>The DET (Default Error Tracer) provides access to the DEM and RTE(SW-C) over integrator specific code. The occurrence of a <em>runtime error</em> (signaled by calling Det_ReportRuntimeError API) or <em>transient fault</em> (signaled by calling the Det_ReportTransientFault API) triggers the execution of a corresponding error handler which may be implemented as callout within the Det by an integrator of a particular ECU and may only include the storage of the corresponding error event to a memory, a call to the module Dem or the execution of short and reasonable actions.</p></blockquote><p>é»˜è®¤é”™è¯¯è¿½è¸ª</p><h3 id="function-inhibition-manager"><a class="anchor" href="#function-inhibition-manager">#</a> Function Inhibition Manager</h3><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240708175232556.png" alt="image-20240708175232556"></p><h3 id="rte"><a class="anchor" href="#rte">#</a> RTE</h3><blockquote><p>The RTE provides access to the DEM and FIM operations for the SWCs. It executes the runnables associated to the DEM monitors (DEM callbacks) when information is required from a SWC or when a SWC must be notified. No specific functionalities are provided for the DEM by the RTE.</p></blockquote><p>RTE ä¸ºä¸Šå±‚ SWC æä¾›äº†è¿™äº›æ¥å£</p><h2 id="communication-related-errors"><a class="anchor" href="#communication-related-errors">#</a> Communication related errors</h2><h3 id="overview"><a class="anchor" href="#overview">#</a> Overview</h3><h4 id="error-handling-mechanisms"><a class="anchor" href="#error-handling-mechanisms">#</a> Error handling mechanisms</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240708175349485.png" alt="image-20240708175349485"></p><h4 id="error-list-for-can-stack"><a class="anchor" href="#error-list-for-can-stack">#</a> Error list for CAN stack</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709105633398.png" alt="image-20240709105633398"></p><h4 id="mappings-of-eh-mechanisms-to-hardware-failure-modes"><a class="anchor" href="#mappings-of-eh-mechanisms-to-hardware-failure-modes">#</a> Mappings of EH mechanisms to hardware failure modes</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709110528161.png" alt="image-20240709110528161"></p><h3 id="loss-of-communication-channel"><a class="anchor" href="#loss-of-communication-channel">#</a> Loss of communication channel</h3><h4 id="can-bus-off"><a class="anchor" href="#can-bus-off">#</a> CAN Bus Off</h4><h5 id="summary"><a class="anchor" href="#summary">#</a> Summary</h5><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709111600994.png" alt="image-20240709111600994"></p><blockquote><p>Note: The AUTOSAR COM module (or other modules like CANNM or CANTP) will react on a BusOff indirectly because of the loss of the communication channel, but it is not aware of the specific kind of error. For this reason, these modules are not considered in this section.</p></blockquote><p>COM æ¨¡å—å°†ä¼šé—´æ¥ååº”åœ¨ BussOffï¼Œå› æ­¤ä¸è€ƒè™‘</p><h5 id="roles-of-the-modules"><a class="anchor" href="#roles-of-the-modules">#</a> Roles of the modules</h5><p><strong>CAN controller (peripheral)</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709112827606.png" alt="image-20240709112827606"></p><p><strong>CAN Driver</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709113051848.png" alt="image-20240709113051848"></p><p><strong>CAN Interface</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709113718130.png" alt="image-20240709113718130"></p><p><strong>CAN State Manager</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709113922514.png" alt="image-20240709113922514"></p><p><strong>Communication Manager</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709113944157.png" alt="image-20240709113944157"></p><p><strong>BSW State Manager</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114004912.png" alt="image-20240709114004912"></p><h4 id="can-controller-hardware-timeout"><a class="anchor" href="#can-controller-hardware-timeout">#</a> CAN Controller Hardware Timeout</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114028472.png" alt="image-20240709114028472"></p><h5 id="roles-of-the-modules-2"><a class="anchor" href="#roles-of-the-modules-2">#</a> Roles of the modules</h5><p><strong>CAN Driver</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114620394.png" alt="image-20240709114620394"></p><p><strong>CAN Interface</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114740065.png" alt="image-20240709114740065"></p><p><strong>CAN State Manager</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114754334.png" alt="image-20240709114754334"></p><p><strong>Communication Manager</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114813484.png" alt="image-20240709114813484"></p><p><strong>BSW State Manager</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114827572.png" alt="image-20240709114827572"></p><h3 id="signal-error"><a class="anchor" href="#signal-error">#</a> Signal error</h3><h4 id="can-transmission-buffer-full"><a class="anchor" href="#can-transmission-buffer-full">#</a> CAN Transmission buffer full</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709114851469.png" alt="image-20240709114851469"></p><h5 id="roles-of-the-modules-3"><a class="anchor" href="#roles-of-the-modules-3">#</a> <strong>Roles of the modules</strong></h5><p><strong>CAN Driver</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709142548459.png" alt="image-20240709142548459"></p><p><strong>CAN Interface</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709142619671.png" alt="image-20240709142619671"></p><blockquote><p>See also the COM TX Deadline Monitoring, which provide a mechanism to detect and react (from SWC) in case of such an error.</p><p>This error may also impact a TP (Transport Protocol) communication; in that case, this will be detected as a CAN Transport Protocol error during transmission.</p></blockquote><h4 id="can-reception-dlc-error"><a class="anchor" href="#can-reception-dlc-error">#</a> CAN Reception DLC error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709143115793.png" alt="image-20240709143115793"></p><blockquote><p>Note: the CAN Reception DLC error can be used in combination with the COM RX Deadline Monitoring mechanism.</p><p>Also, the reception of a wrong DLC does not necessarily indicate a malfunction in the ECU, but can be caused by the ECUâ€™s environment.</p></blockquote><h5 id="roles-of-the-modules-4"><a class="anchor" href="#roles-of-the-modules-4">#</a> Roles of the modules</h5><p><strong>CAN Interface</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709143234463.png" alt="image-20240709143234463"></p><blockquote><p>See also theCOM RX Deadline Monitoring, which provide a mechanism to detect and react (from SWC) in case of such an error.</p><p>This error may also affect the CAN Transport or Network Management protocols; in these cases, the error will also be detected by the CAN Transport Protocol error during reception mechanism or by the Network Management protocol.</p></blockquote><h4 id="com-rx-deadline-monitoring"><a class="anchor" href="#com-rx-deadline-monitoring">#</a> COM RX Deadline Monitoring</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709143544239.png" alt="image-20240709143544239"></p><h5 id="roles-of-the-modules-5"><a class="anchor" href="#roles-of-the-modules-5">#</a> Roles of the modules</h5><p><strong>AUTOSAR COM</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709143617818.png" alt="image-20240709143617818"></p><p><strong>RTE</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709143729548.png" alt="image-20240709143729548"></p><p><strong>SWC</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709143748345.png" alt="image-20240709143748345"></p><p><strong>COM TX Deadline Monitoring</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709151329006.png" alt="image-20240709151329006"></p><h4 id="can-transport-protocol-error-during-transmission"><a class="anchor" href="#can-transport-protocol-error-during-transmission">#</a> CAN Transport Protocol error during transmission</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709153700257.png" alt="image-20240709153700257"></p><blockquote><p>Note: In the figure above, the DCM represents the CANTP user. Other users of CANTP should react similarly (they will receive the indication of failures, and are responsible for initiating a recovery). Another user could be a SWC, with the communication routed to AUTOSAR COM by the PDU Router, or a Complex Driver.</p></blockquote><h4 id="can-transport-protocol-error-during-reception"><a class="anchor" href="#can-transport-protocol-error-during-reception">#</a> <strong>CAN Transport Protocol error during reception</strong></h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709153943504.png" alt="image-20240709153943504"></p><blockquote><p>Note: In the figure above, the DCM represent the CANTP user. Other users of CANTP should react similarly (they will receive the indication of failures, and are responsible for initiating a recovery). Another user could be a SWC, with the communication routed to AUTOSAR COM by the PDU Router, or a Complex Driver.</p></blockquote><h4 id="client-server-timeout"><a class="anchor" href="#client-server-timeout">#</a> Client / Server timeout</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709154019944.png" alt="image-20240709154019944"></p><h2 id="nvram-related-errors"><a class="anchor" href="#nvram-related-errors">#</a> NVRAM related errors</h2><h3 id="overview-2"><a class="anchor" href="#overview-2">#</a> Overview</h3><h4 id="error-handling-mechanisms-2"><a class="anchor" href="#error-handling-mechanisms-2">#</a> Error handling mechanisms</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709154103080.png" alt="image-20240709154103080"></p><blockquote><p>On the lower levels of the NVRAM stack, mechanisms are implemented in the drivers to detect hardware access problems. Detection mechanisms are harmonized between EEPROM and Flash drivers.</p></blockquote><p>åœ¨ NVRAM ä¸­é©±åŠ¨å®ç°äº†æ£€æµ‹ç¡¬ä»¶çš„æœºåˆ¶</p><blockquote><p>On the upper layers of the NVRAM stack (mainly in the NVRAM manager), mechanisms are implemented to detect data corruption, memory address corruption and loss of redundancy. All the recovery mechanisms for the detected errors in the NVRAM stack are handled by the NVRAM Manager.</p></blockquote><p>åœ¨ NVRAM å †æ ˆçš„ä¸Šå±‚ (ä¸»è¦åœ¨ NVRAM ç®¡ç†å™¨ä¸­)ï¼Œå®ç°äº†æ£€æµ‹æ•°æ®æŸåã€å†…å­˜åœ°å€æŸåå’Œå†—ä½™ä¸¢å¤±çš„æœºåˆ¶ã€‚NVRAM å †æ ˆä¸­æ£€æµ‹åˆ°çš„æ‰€æœ‰é”™è¯¯æ¢å¤æœºåˆ¶éƒ½ç”± NVRAM ç®¡ç†å™¨å¤„ç†ã€‚</p><blockquote><p>The error can be reported in polling or interrupt mode. The whole memory stack must be configured consistently with the usage done by SWC and BSW users.</p></blockquote><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709154729849.png" alt="image-20240709154729849"></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709154844126.png" alt="image-20240709154844126"></p><h3 id="driver-level-errors"><a class="anchor" href="#driver-level-errors">#</a> Driver level errors</h3><h4 id="flash-write-job-error"><a class="anchor" href="#flash-write-job-error">#</a> Flash write job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709155019883.png" alt="image-20240709155019883"></p><blockquote><p>Write job error is detected by HW (1). Flash Driver is the first SW module involved, and is responsible for the report to the DEM and to upper layers (2). Upper layers have to reset some internal states in order to accept new requests. A recovery mechanism is present in the NVM module which permits to retry a write job in case of failure (3). If the recovery also fails (4), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NOK (5), see NVM API request failure.</p></blockquote><h4 id="flash-erase-job-error"><a class="anchor" href="#flash-erase-job-error">#</a> Flash erase job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709155141400.png" alt="image-20240709155141400"></p><blockquote><p>Erase job error is detected by HW (1). Flash Driver is the first SW module involved, and is responsible for the report to the DEM and to upper layers (2). Upper layers have to reset some internal states in order to accept new requests. If the erase driver job is part of a write operation, write retries are initiated by the NVRAM manager (3) as soon as the error is reported to this layer. If the recovery also fails (4), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NOK (5), see NVM API request failure.</p></blockquote><h4 id="flash-read-job-error"><a class="anchor" href="#flash-read-job-error">#</a> Flash read job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709160921979.png" alt="image-20240709160921979"></p><blockquote><p>Read job error is detected by HW (1). Flash Driver is the first SW module involved, and is responsible for the report to the DEM and to upper layers (2). Upper layers have to reset some internal states in order to accept new requests. Recovery is initiated by the NVRAM manager (3): one or more read attempts shall be made before continuing to read the redundant block or ROM data. If recovery actions imply a loss of redundancy or the use of ROM data, the NVRAM manager reports the loss of data quality via the job result. A DEM error is reported for the loss of redundancy (see Loss of redundancy). If the recovery also fails (4), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NOK (5), see NVM API request failure.</p></blockquote><h4 id="flash-compare-job-error"><a class="anchor" href="#flash-compare-job-error">#</a> Flash compare job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161131748.png" alt="image-20240709161131748"></p><blockquote><p>Note: Flash compare function is an internal mechanism for the Flash EEPROM Emulation to determine whether erasing / writing is needed or not. Compare job error is detected by HW (1). Flash Driver is the first SW module involved, and is responsible for the report to the DEM and to the Flash EEPROM Emulation (2) which have to reset some internal states in order to accept new requests.</p></blockquote><h4 id="external-flash-hardware-id-mismatch"><a class="anchor" href="#external-flash-hardware-id-mismatch">#</a> External Flash Hardware ID Mismatch</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161326087.png" alt="image-20240709161326087"></p><blockquote><p>During the initialization of the external flash driver, the FLS module checks if there is a mismatch between the hardware ID of the external flash device and the corresponding published parameter (1). If there is a mismatch, the module stays uninitialized. An error is reported to the DEM and error status can also be forwarded to upper layers via<br>polling (2). No further reaction is described (error not taken into account at the NVRAM manager level). There is no recovery action.</p></blockquote><h4 id="eeprom-write-job-error"><a class="anchor" href="#eeprom-write-job-error">#</a> EEPROM write job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161445243.png" alt="image-20240709161445243"></p><blockquote><p>Write job error is detected by HW (1). EEPROM Driver is the first SW module involved, and is responsible for the report to the DEM and to upper layers (2). Upper layers have to reset some internal states in order to accept new requests. A recovery mechanism is present in the NVM module which permits to retry a write job in case of failure (3). If the recovery also fails (4), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NOK (5), see NVM API request failure.</p></blockquote><h4 id="eeprom-erase-job-error"><a class="anchor" href="#eeprom-erase-job-error">#</a> EEPROM erase job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161521402.png" alt="image-20240709161521402"></p><blockquote><p>Erase job error is detected by HW (1). EEPROM Driver is the first SW module involved, and is responsible for the report to the DEM and to upper layers (2). Upper layers have to reset some internal states in order to accept new requests. If the erase driver job is part of a write operation, write retries are initiated by the NVRAM manager (3) as soon as the error is reported to this layer. If the recovery also fails (4), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NOK (5),see NVM API request failure.</p></blockquote><h4 id="eeprom-read-job-error"><a class="anchor" href="#eeprom-read-job-error">#</a> EEPROM read job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161616149.png" alt="image-20240709161616149"></p><blockquote><p>Read job error is detected by HW (1). EEPROM Driver is the first SW module involved, and is responsible for the report to the DEM and to upper layers (2). Upper layers have to reset some internal states in order to accept new requests. Recovery is initiated by the NVRAM manager (3): one or more read attempts shall be made before continuing to read the redundant block or ROM data. If recovery actions imply a loss of redundancy or the use of ROM data, the NVRAM manager reports the loss of data quality via the job result. A DEM error is reported for the loss of redundancy (see Loss of redundancy). If the recovery also fails (4), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NOK (5), see NVM API request failure.</p></blockquote><h4 id="eeprom-compare-job-error"><a class="anchor" href="#eeprom-compare-job-error">#</a> EEPROM compare job error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161716795.png" alt="image-20240709161716795"></p><blockquote><p>Note: EEPROM compare function is an internal mechanism for the EEPROM Abstrac tion to determine whether erasing / writing is needed or not. Compare job error is detected by HW (1). EEPROM Driver is the first SW module involved, and is responsible for the report to the DEM and to the Flash EEPROM Emulation (2) which have to reset some internal states in order to accept new requests.</p></blockquote><h3 id="eeprom-abstraction-flash-emulation-level-errors"><a class="anchor" href="#eeprom-abstraction-flash-emulation-level-errors">#</a> EEPROM Abstraction / Flash Emulation level errors</h3><h4 id="fee-consistency-check-error"><a class="anchor" href="#fee-consistency-check-error">#</a> FEE consistency check error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161752371.png" alt="image-20240709161752371"></p><blockquote><p>The Flash EEPROM Emulation checks the consistency of the read data (1). If a con sistency error is detected, error status is forwarded to the NVRAM manager (2). The NVRAM manager reports NVM_E_INTEGRITY_FAILED to the DEM (3). Recovery is also initiated: "read retry", "read redundant block" and "read ROM block", if configured (4).If recovery actions imply a loss of redundancy or the use of ROM data, the NVRAM manager reports the loss of data quality via the job result. A DEM error is reported for the loss of redundancy (see Loss of redundancy). If the recovery fails (5), the job result is set to NVM_REQ_INTEGRITY_FAILED (6).</p></blockquote><h4 id="ea-consistency-check-error"><a class="anchor" href="#ea-consistency-check-error">#</a> EA consistency check error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709161856490.png" alt="image-20240709161856490"></p><blockquote><p>The EEPROM Abstraction checks the consistency of the read data (1). If a consistency error is detected, error status is forwarded to the NVRAM manager (2). The NVRAM manager reports NVM_E_INTEGRITY_FAILED to the DEM and recovery is initiated: "read retry", "read redundant block" and "read ROM block", if configured (3). If recovery actions imply a loss of redundancy or the use of ROM data, the NVRAM manager reports the loss of data quality via the job result. A DEM error is reported for the loss of redundancy (see Loss of redundancy). If the recovery fails (4), the job result is set to NVM_REQ_INTEGRITY_FAILED (5).</p></blockquote><h3 id="nvram-manager-level-errors"><a class="anchor" href="#nvram-manager-level-errors">#</a> NVRAM manager level errors</h3><h4 id="nvm-crc-check"><a class="anchor" href="#nvm-crc-check">#</a> NVM CRC check</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709162106034.png" alt="image-20240709162106034"></p><blockquote><p>If the NV block is configured with CRC, the NVRAM Manager checks if there is a CRC mismatch on the RAM block at the end of the reading operation (1). If so, NVM_E_INTEGRITY_FAILED error is reported to the DEM. Recovery is also initiated: "read retry", "read redundant block" and "read ROM block", if configured (2). If recovery actions imply a loss of redundancy or the use of ROM data, the NVRAM manager reports the loss of data quality via the job result. A DEM error is reported for the loss of redundancy (see Loss of redundancy). If the recovery fails (3), the job result is set to NVM_REQ_INTEGRITY_FAILED (4).</p></blockquote><h4 id="nvm-write-verification-error"><a class="anchor" href="#nvm-write-verification-error">#</a> NVM write verification error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709162221726.png" alt="image-20240709162221726"></p><blockquote><p>The NVRAM Block written to NV memory is immediately read back and compared with the original content in RAM (1). If the verification fails, NVM_E_VERIFY_FAILED error is reported to the DEM, and recovery is initiated with write retries if configured (2). If the recovery fails (3), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NVM_REQ_NOT_OK (4), see NVM API request failure.</p></blockquote><h4 id="static-block-check-error"><a class="anchor" href="#static-block-check-error">#</a> Static block check error</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709162351197.png" alt="image-20240709162351197"></p><blockquote><p>The Static Block ID check mechanism located in the NVRAM manager provides means to detect if the wrong block has been read from the NV memory due to an addressing problem. The NVRAM Manager stores the NV Block Header including the Static Block ID in the NV Block each time the block is written to NV memory. During read operation, the NV header is compared to the requested block ID (1). If the static block ID check fails then the failure NVM_E_WRONG_BLOCK_ID is reported to DEM and read recovery is initiated ("read retry", "read redundant block" and "read ROM block" if configured) (1). If recovery actions imply a loss of redundancy or the use of ROM data, the NVRAM manager reports the loss of data quality via the job result. A DEM error is reported for the loss of redundancy (see Loss of redundancy). If the recovery also fails (3), the NVRAM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NVM_REQ_NOT_OK (4), see NVM API request failure.</p></blockquote><h4 id="loss-of-redundancy"><a class="anchor" href="#loss-of-redundancy">#</a> Loss of redundancy</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709162418482.png" alt="image-20240709162418482"></p><blockquote><p>In case one redundant block is invalid during read or write (1), an attempt is made by the NVRAM manager to immediately recover the NV Block using data from the incorrupt NV Block (2). If the recovery fails (3), the error code NVM_E_LOSS_OF_REDUNDANCY is reported to the DEM and the NVRAM manager sets the job result to NVM_REQ_REDUNDANCY_FAILED (4).</p></blockquote><h4 id="nvm-api-request-failure"><a class="anchor" href="#nvm-api-request-failure">#</a> NVM API request failure</h4><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240709162822350.png" alt="image-20240709162822350"></p><blockquote><p>The NVRAM manager is notified of an error detected by the subsequent layers during the process of a NVM function or by an internal detection mechanism, write verification static block check, or config ID mismatch (1). Different recovery mechanisms are available at the NVRAM manager level de pending on the type of function involved, writing or reading (2). If the available recovery mechanisms fail (3), the NVM manager reports NVM_E_REQ_FAILED error to the DEM and sets the job result to NVM_REQ_NOT_OK (4).</p></blockquote><h1 id="applicationlevelerrorhandling"><a class="anchor" href="#applicationlevelerrorhandling">#</a> ApplicationLevelErrorHandling</h1><h2 id="error-model"><a class="anchor" href="#error-model">#</a> Error model</h2><blockquote><p>Design of dependable systems is based on a systematic analysis of potential faults (<em>fault models</em>) i.e., a set of postulated faults, derived from the operating environment of the system, which helps the designer or user to predict the consequences of these fault and define mechanisms for handling (detect, recover from etc.) those particular faults.</p></blockquote><p>å¯é æ€§ç³»ç»Ÿçš„è®¾è®¡ï¼Œå‡å®šä¸€äº›å¯èƒ½å‡ºç°çš„é”™è¯¯å¹¶å®ç°é”™è¯¯å¤„ç†ã€‚</p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240612161909400.png" alt="image-20240612161909400"></p><h2 id="error-handling-mechanisms-3"><a class="anchor" href="#error-handling-mechanisms-3">#</a> Error handling mechanisms</h2><ul><li>Plausibility checks<ul><li>åˆç†æ€§æ£€æŸ¥ï¼Œå˜é‡çš„å€¼çš„åˆç†æ€§</li></ul></li><li>Substitute Values<ul><li>æ›¿ä»£å€¼</li></ul></li><li>Voting<ul><li>æ„å»ºå†—ä½™ï¼Œå» 3 é€‰ 2</li></ul></li><li>Agreement<ul><li>The difference between agreement and voting mechanisms is that when using agreement components interact to reach a decision, whereas in voting it is left to the voter to decide. Agreement protocols could be compared with closed loop systems, where the feedback consists of the sent messages received by all other parties.</li><li>é—­ç¯æœ‰ feedback</li><li>Voting å¼€ç¯</li></ul></li><li>Checksums/Codes<ul><li>æ ¡éªŒå’Œ</li></ul></li><li>Execution sequence monitoring<ul><li>æ‰§è¡Œé¡ºåºç›‘æ§</li></ul></li><li>Aliveness monitoring<ul><li>æ´»åŠ›ç›‘æµ‹</li></ul></li><li>Status and Mode Management<ul><li>çŠ¶æ€å’Œæ¨¡å¼ç®¡ç†</li><li>Status and mode management deals with meta information for signals, applications, devices, etc. This meta information can be used to analyse the state of the system in order to isolate a faulty subsystem/component and modify its behaviour accordingly.</li><li>çŠ¶æ€å’Œæ¨¡å¼ç®¡ç†ç”¨æ¥å¤„ç†ä¿¡å·ã€åº”ç”¨ã€è®¾å¤‡ç­‰çš„å…ƒä¿¡æ¯ã€‚</li><li><strong>Signal status</strong>: In addition to the value, a signal may have meta information as sociated with it, such as<ul><li><strong>Signal quality</strong>: This indicates the quality of the value, such as <em>nominal value</em>, <em>modelled value</em>, <em>replacement value</em>, and <em>default value</em>. The receiver of the signal may react differently depending on the quality of the signal.</li><li><strong>Signal timestamp</strong>: This indicates when the value was created and can be used to check the age of a signal. If a calculation uses several input signals, one can check that all input signals are created within a tolerable time window.</li><li><strong>Signal sequence number</strong>: It may be of interest to check that signal values are received in a certain order, and that no values or lost between reads. Also, sequence numbers can be used in a similar fashion as timestamps in that they allow a check that all values in a group are from a particular creation window (same sequence number, or with a minimum/maximum deviation).</li><li><strong>Update information</strong>: A consumer of a signal may want to know whether a signal has been updated since the last read or not.</li></ul></li><li><strong>Device status</strong>: An application may want to know the status of the devices it uses, such as sensors and actuators. If a device is not in normal operation, applications may want to choose to deliver some form of degraded service.</li><li><strong>Application status/mode</strong>: An application can also have a status, or a mode, which indicates the overall health or operating situation of the application. This status/mode can be used for recovery purposes, both internally in the said application and externally by other application.</li><li><strong>Vehicle mode</strong>: A vehicle may be in a number of different modes (e.g. normal operation, parked, limp-home) and the applications will have to behave accordingly.</li><li><strong>ECU Mode</strong>: An ECU may be in different states, such as sleeping, running, powered down, and transitional states between such states.</li><li>ä¿¡å·çŠ¶æ€<ul><li>ä¿¡å·è´¨é‡</li><li>ä¿¡å·æ—¶é—´æˆ³</li><li>ä¿¡å·åºåˆ—å·</li><li>æ›´æ–°ä¿¡æ¯</li></ul></li><li>è®¾å¤‡çŠ¶æ€</li><li>åº”ç”¨çŠ¶æ€ / æ¨¡å¼</li><li>è½¦è¾†æ¨¡å¼</li><li>ECU æ¨¡å¼</li></ul></li><li>Reconfiguration<ul><li>A technique for building fault-tolerant systems is to detect and isolate faults and then reconfigure the system to no longer use the faulty component, or to reconfigure to provide only a degraded set of services (or level of service).</li></ul></li><li>Reset</li><li>Error Filtering</li><li>Memory Protection<ul><li>Memory protection is used to protect against errors propagating from one protection domain (partition) to another.</li><li>å†…å­˜ä¿æŠ¤é˜²æ­¢äº†ä»ä¸€ä¸ªå†…å­˜ä¿æŠ¤åŒºä¼ æ’­åˆ°å¦ä¸€ä¸ªå†…å­˜ä¿æŠ¤åŒºã€‚ä¸åŒçš„åŠŸèƒ½æœ‰ä¸åŒä¸å†…å­˜ï¼Œä¸èƒ½ä½¿ç”¨ä¸æ˜¯æœ¬åŠŸèƒ½çš„å†…å­˜ã€‚</li></ul></li><li>Timing Protection<ul><li>Timing protection refers to protecting the system against activities requiring too much time to complete, such as an executing component taking too much execution time on the processor and thereby hindering the execution of other components, communication delays, peripheral units not responding in time, etc.</li><li>For activities, one may define time budgets providing an upper limit on how much time a given acitivy may use. For example, one may choose to set execution time budgets for components, or a maximum response times for communication.</li><li>å¯¹äºæ´»è·ƒçš„ä»»åŠ¡ï¼Œè®¾å®šæ—¶é—´é¢„ç®—ã€‚</li></ul></li></ul><h2 id="terminating-and-restarting-partitions"><a class="anchor" href="#terminating-and-restarting-partitions">#</a> Terminating and restarting partitions</h2><blockquote><p>The main focus is on handling faults which lead to one of the following:</p><ul><li>Protection violation caused by erroneous memory access. This is detected by the OS (with support from an MMU).</li><li>Protection violation caused by exceeding of allocated execution time budget. This is detected by the OS.</li><li>Detection of application states which do not trigger a protection violation but require termination or restart of a partition.</li></ul></blockquote><p>ä¸»è¦èšç„¦å¤„ç†ä¸‹é¢å‡ ç§é”™è¯¯</p><ul><li>å†…å­˜è®¿é—®é”™è¯¯</li><li>è¶…å‡ºæ—¶é—´é¢„ç®—</li><li>æ£€æµ‹ä¸è§¦å‘ä¿æŠ¤ä½†éœ€è¦ç»ˆæ­¢æˆ–é‡å¯çš„å†²çª</li></ul><h3 id="rationale-use-cases"><a class="anchor" href="#rationale-use-cases">#</a> Rationale - Use Cases</h3><blockquote><p>Terminating and restarting an application is a basic approach to minimizing error propagation and performing error recovery (mainly the restart functionality). Two main usecases have been identified for AUTOSAR error handling and are presented in this section.</p></blockquote><p>ç»ˆæ­¢å’Œé‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶å‡å°‘é”™è¯¯ä¼ æ’­çš„åŸºæœ¬åŸç†</p><h4 id="use-case-1-software-partitioning-uc1"><a class="anchor" href="#use-case-1-software-partitioning-uc1">#</a> Use Case 1: Software Partitioning [UC1]</h4><p>è½¯ä»¶åˆ†åŒº</p><h4 id="use-case-2-application-level-error-handling-uc2"><a class="anchor" href="#use-case-2-application-level-error-handling-uc2">#</a> Use Case 2: Application-level Error Handling [UC2]</h4><p>åº”ç”¨çº§åˆ«é”™è¯¯å¤„ç†</p><h5 id="error-handling-of-distributed-automotive-applications"><a class="anchor" href="#error-handling-of-distributed-automotive-applications">#</a> Error handling of distributed automotive applications</h5><p>An application-level error manager (ALEM) would deal with issues that arise from such distribution. For example, if the termination of a partition leads to a need to terminate other partitions (not necessarily on the same ECU), this would be triggered by the ALEM.</p><h5 id="oem-specific-error-handling"><a class="anchor" href="#oem-specific-error-handling">#</a> OEM-specific error handling</h5><p>åŸå‚æè¿°çš„é”™è¯¯çŠ¶æ€å¤„ç†</p><h5 id="application-level-error-managers"><a class="anchor" href="#application-level-error-managers">#</a> Application-level Error Managers</h5><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240626145815627.png" alt="image-20240626145815627"></p><h3 id="approach-for-terminating-and-restarting-partitions"><a class="anchor" href="#approach-for-terminating-and-restarting-partitions">#</a> Approach for Terminating and Restarting Partitions</h3><blockquote><p>In the subsequent sections, the text describes the support in AUTOSAR OS, BSW and RTE.</p></blockquote><p>å°±æ˜¯ä»‹ç»é‡åˆ°é”™è¯¯æ—¶çš„ç»ˆæ­¢å’Œé‡å¯çš„æœºåˆ¶</p><h4 id="os-features"><a class="anchor" href="#os-features">#</a> OS features</h4><blockquote><p>An OS Application is a set of OS objects, such as</p><ul><li>tasks,</li><li>interrupt service routines,</li><li>alarms,</li><li>schedule tables</li></ul><p>For instance application specific hook functions can be defined, such as startup and shutdown hook functions.</p></blockquote><p>å¯ä»¥å®šä¹‰ startup æˆ– shutdown çš„é’©å­å‡½æ•°</p><blockquote><p>For OS controlled objects, there are a number of protection mechanisms available (see[14]). The mechanisms relevant for the termination/restart approach are memory protection and timing protection.</p><p>Memory protection covers stack and data and, optionally,code of OS-Applications.</p><p>Timing protection is based on execution time budgets and arrival rates.</p></blockquote><p>å¯¹äº OS æ§åˆ¶çš„å¯¹è±¡</p><table><thead><tr><th>ä¿æŠ¤ç±»å‹</th><th>ä¿æŠ¤å†…å®¹</th></tr></thead><tbody><tr><td>å†…å­˜ä¿æŠ¤</td><td>æ ˆï¼Œæ•°æ®ï¼Œä»£ç ï¼ˆå¯é€‰ï¼‰</td></tr><tr><td>æ—¶é—´ä¿æŠ¤</td><td>æ—¶é—´é¢„ç®—ï¼Œåˆ°è¾¾ç‡</td></tr></tbody></table><blockquote><p>OS-Applications are divided into i) trusted OS-Applications and ii) non-trusted OSApplications (see [14]).</p></blockquote><table><thead><tr><th>OS App</th><th>ç±»å‹</th><th></th></tr></thead><tbody><tr><td>Trusted OS-Applications</td><td>ä¿¡ä»»</td><td>ç‰¹æƒæ¨¡å¼ï¼ˆä¸å—ç›‘æ§ï¼‰</td></tr><tr><td>Non-trusted OS-Applications</td><td>ä¸ä¿¡ä»»</td><td>éç‰¹æƒæ¨¡å¼ï¼ˆè¢«å†…å­˜ä¿æŠ¤å’Œæ—¶é—´ä¿æŠ¤ç›‘æ§ï¼‰</td></tr></tbody></table><p><strong>Protection Hook</strong></p><blockquote><p>The system has a single global <em>Protection Hook</em>.</p></blockquote><ul><li>è¿™ä¸ªé’©å­å¦‚æœæ²¡æœ‰é…ç½®å°± ShutdownOS ();</li><li>é…ç½®äº†çš„è¯æ ¹æ®è¿”å›å€¼æ¥å¤„ç†ï¼ˆå‡½æ•°çš„å®ç°æ˜¯å¯è‡ªè¡Œå†³å®šå¦‚ä½•å¤„ç†çš„ï¼‰<ul><li>PRO_IGNORE: Do nothing</li><li>PRO_TERMINATETASK: Forcibly terminate the faulty Task/Category 2 OsIsr</li><li>PRO_TERMINATEAPPL: Forcibly terminate the faulty OS-Application</li><li>PRO_TERMINATEAPPL_RESTART: Forcibly terminate the faulty OS-Application and trigger the execution of the OSRestartTask.</li><li>PRO_SHUTDOWN: Call ShutdownOS().</li></ul></li></ul><p><strong>TerminateApplication() API</strong></p><p>æœ‰è¿™ä¹ˆä¸€ä¸ªå‡½æ•°å¯ä»¥ç»ˆæ­¢ OS-Application</p><p>ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°å»é‡å¯</p><p><strong>OSRestartTask</strong></p><p>è¿™ä¸ªå‡½æ•°æ‰§è¡Œæ—¶ä»–ä¼šæ˜¯å½“å‰åˆ†åŒºçš„å”¯ä¸€ä»»åŠ¡ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå†³ç­–å†³å®šç»ˆæ­¢ / é‡å¯ OS-Application</p><p><strong>OS-Application state machine</strong></p><ul><li><strong>APPLICATION_ACCESSIBLE</strong></li><li><strong>APPLICATION_RESTARTING</strong></li><li><strong>APPLICATION_TERMINATED</strong></li></ul><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240626153321549.png" alt="image-20240626153321549"></p><p><strong>Partition state machine</strong></p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240626153827097.png" alt="image-20240626153827097"></p><p><strong>Error handling strategy in the Protection Hook</strong></p><p>å½“ OS å‘ç°è¿åä¿æŠ¤æ—¶ï¼Œä¸€ä¸‹ä¿¡æ¯éœ€è¦è¦æ”¶é›†</p><ul><li><strong>Partition ID</strong></li><li><strong>Error type</strong></li><li><strong>Partition restart counter</strong></li><li><strong>OS-Application State</strong></li></ul><p>Based on the input the Protection Hook needs to decide what to do:</p><ul><li><strong>Do nothing</strong></li><li><strong>Restart the partition</strong></li><li><strong>Terminate the partition</strong></li><li><strong>Shutdown OS/ECU</strong></li></ul><p><strong>Clean-up activities in the OSRestartTask</strong></p><p>å½“å‘ç”Ÿ OSRestartTask æ—¶ï¼Œå„ä¸ªæ¨¡å—æœ‰ä¸€äº›å¿…è¦çš„å¤„ç†ã€‚</p><p>ã€AUTOSAR_CP_EXP_ApplicationLevelErrorHandling.pdfã€‘P61 é¡µ</p><h4 id="support-for-use-cases"><a class="anchor" href="#support-for-use-cases">#</a> Support for Use Cases</h4><p>UC1: SW Partitioning</p><blockquote><p>By placing each application requiring protection in an OS-Application, partitioning between applications is achieved. Possible reactions to errors include terminating and restarting of the affected partition. UC1 is therefore fully covered.</p></blockquote><p>æŠŠ SW æ”¾åœ¨ä¸åŒçš„ OS-Application å¯ä»¥å®ç°è½¯ä»¶åˆ†åŒº</p><h2 id="integrator-responsibility"><a class="anchor" href="#integrator-responsibility">#</a> Integrator Responsibility</h2><p>å¤§ç™½è¯å°±æ˜¯æ‹†åˆ† sw-c åˆ†ä¸åŒçš„åŒºï¼Œè®¾å®šå¥½ä¿æŠ¤çš„è§„åˆ™å’Œé’©å­ï¼Œè®¾å®šå¥½ cleanup çš„è¡Œä¸ºã€‚</p><h1 id="cdddesignandintegrationguideline"><a class="anchor" href="#cdddesignandintegrationguideline">#</a> CDDDesignAndIntegrationGuideline</h1><h2 id="introduction-to-cdd"><a class="anchor" href="#introduction-to-cdd">#</a> Introduction to CDD</h2><ul><li>A CDD may need to interface to modules of the layered software architecture</li><li>A module of the layered software architecture may need to interface to a CDD</li><li>A CDD may need to interface SW-Cs via Rte</li><li>éƒ½æ˜¯ç®€å•çš„å•è¯ï¼Œå¾ˆå¥½ç†è§£ï¼Œæˆ‘å°±æ‡’å¾—ç¿»è¯‘äº†ç•¥ç•¥ç•¥</li></ul><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240708161654767.png" alt="image-20240708161654767"></p><h2 id="cdd-design-recommendations"><a class="anchor" href="#cdd-design-recommendations">#</a> CDD design recommendations</h2><p>CDD çš„è®¾è®¡å»ºè®®</p><h3 id="documentations"><a class="anchor" href="#documentations">#</a> Documentations</h3><p><strong>Userâ€™s Manual</strong></p><p>CDD designer shall provide a Userâ€™s Manual to ease the integration and provide information to customers:</p><p>è¦æä¾›æ‰‹å†Œï¼Œæ‰‹å†Œé‡Œè¦æœ‰è¿™äº›å†…å®¹å“¦</p><ul><li>CDD introduction and overviewCDD<ul><li>ç®€ä»‹å’Œæ¦‚è¿°</li></ul></li><li>Description of the functional operations (initialisation, normal, shutdown, fault operation...)<ul><li>åŠŸèƒ½æ“ä½œæè¿°</li></ul></li><li>Description of the relationship with and need from other BSW Modules, SchM and Rte; e.g. memory blocks from NvM, critical sections to configure.<ul><li>æè¿°ä¸å…¶ä»– BSW æ¨¡å—ã€SchM å’Œ Rte çš„å…³ç³»</li></ul></li><li>Files structure and dependencies<ul><li>æ–‡ä»¶ç»“æ„å’Œä¾èµ–å…³ç³»</li></ul></li><li>Description of the interfaces (including services): name, description, re-entrancy, parameters (names, types, ranges, values), return value (name, type, range, values), configuration class.</li><li>Description of the non-functional requirements: timing and behaviour requirements, resource usage, behaviour with other BSW modules or SW-C...<ul><li>æè¿°æ—¶é—´å•Šè¡Œä¸ºçš„è¦æ±‚ã€èµ„æºä½¿ç”¨æƒ…å†µã€ä¸å…¶ä»– BSW æ¨¡å—æˆ– SWC çš„è¡Œä¸º</li></ul></li><li>Description of the Dem errors, optionally Det errors, debug variables<ul><li>æè¿° Dem é”™è¯¯</li></ul></li><li>Description of the configuration parameters (names, types, ranges, values).<ul><li>é…ç½®å‚æ•°çš„æè¿°</li></ul></li><li>Description of the memory mapping needs (Flash, RAM)<ul><li>æè¿°å†…å­˜æ˜ å°„éœ€æ±‚</li></ul></li><li>Usage limitations and open issues<ul><li>ä½¿ç”¨é™åˆ¶å’Œæœªè§£å†³çš„é—®é¢˜</li></ul></li><li>Integration constraints and requirements to other modules<ul><li>é›†æˆçš„åˆ¶çº¦å› ç´ å’Œå¯¹å…¶ä»–æ¨¡å—çš„è¦æ±‚</li></ul></li><li>Examples<ul><li>ä¾‹å­</li></ul></li></ul><p><strong>Module ID</strong></p><h3 id="implementation"><a class="anchor" href="#implementation">#</a> Implementation</h3><ul><li>CDD shall respect the input specifications [2], [3], [5], [6], [7], [8], [9], [10].</li><li>CDD shall protect its critical resources defining critical sections which can be handled by SchM or OS mechanisms.<ul><li>CDD åº”ä¿æŠ¤å…¶å…³é”®èµ„æºï¼Œç•Œå®šå¯ç”± SchM æˆ– OS æœºåˆ¶å¤„ç†çš„å…³é”®éƒ¨åˆ†ã€‚</li></ul></li><li>CDD mode may be manageable by EcuM and BswM modules.<ul><li>CDD æ¨¡å¼å¯é€šè¿‡ EcuM å’Œ BswM æ¨¡å—è¿›è¡Œç®¡ç†</li></ul></li><li>CDD may handle its memory sections using the memory mapping mechanisms.<ul><li>CDD å¯ä»¥ä½¿ç”¨å†…å­˜æ˜ å°„æœºåˆ¶æ¥å¤„ç†å…¶å†…å­˜éƒ¨åˆ†</li></ul></li><li>CDD may report its errors using Det or Dem modules.<ul><li>CDD å¯ä½¿ç”¨ Det æˆ– Dem æ¨¡å—æŠ¥å‘Šå…¶é”™è¯¯</li></ul></li></ul><h3 id="cdd-files"><a class="anchor" href="#cdd-files">#</a> CDD Files</h3><p><strong>Code file(s)</strong></p><ul><li>CDD_&lt;MODULENAME&gt;.c</li><li>CDD_&lt;MODULENAME&gt;_Irq.c</li><li>CDD_&lt;MODULENAME&gt;_Callout.c</li><li>CDD_&lt;MODULENAME&gt;_Lcfg.c</li><li>CDD_&lt;MODULENAME&gt;_PBcfg.c</li></ul><p><strong>Header file(s)</strong></p><ul><li>CDD_&lt;MODULENAME&gt;.h</li><li>CDD_&lt;MODULENAME&gt;_Cbk.h</li><li>CDD_&lt;MODULENAME&gt;_Cfg.h</li><li>CDD_&lt;MODULENAME&gt;_PBcfg.h</li><li>CDD_&lt;MODULENAME&gt;_Lcfg.h</li></ul><blockquote><p>CDD module may include <strong>Det.h</strong> and/or <strong>Dem.h</strong> header files to report errors.</p><p>CDD module may include <strong>&lt;Mip&gt;_MemMap.h</strong> header file if some memory mapping area have to be defined where &lt;Mip&gt; is the Module Implementation Prefix.</p><p>CDD module may include <strong>Rte_CDD_&lt;MODULENAME&gt;.h</strong> header file if interfaces to the Rte are configured.</p></blockquote><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240708162709924.png" alt="image-20240708162709924"></p><p>æ–‡ä»¶ç»“æ„</p><h3 id="behaviour-and-interfaces-description"><a class="anchor" href="#behaviour-and-interfaces-description">#</a> Behaviour and Interfaces description</h3><blockquote><p>Some CDD not only have interfaces to other BSW modules or clusters, but have also more abstract interfaces accessed from application SW-Cs via the Rte.</p></blockquote><p>ä¸€äº› CDD ä¸ä»…å…·æœ‰ä¸å…¶ä»– BSW æ¨¡å—æˆ–é›†ç¾¤çš„æ¥å£ï¼Œè€Œä¸”è¿˜å…·æœ‰é€šè¿‡ Rte ä»åº”ç”¨ç¨‹åº SWC è®¿é—®çš„æ›´æŠ½è±¡çš„æ¥å£ã€‚</p><ul><li>Description of the CDD services</li><li>Types and ports interfaces</li><li>Description of internal behaviour and runnable Entities</li><li>Description of the required triggered events of runnable Entities</li><li>Description of exclusive Areas for shared resources protection</li><li>Memory mapping</li></ul><h2 id="interfacing-to-other-modules"><a class="anchor" href="#interfacing-to-other-modules">#</a> Interfacing to other modules</h2><ul><li>Interfacing to Rte and SW-C</li><li>Interfacing to libraries</li><li>Interfacing to standard BSW modules<ul><li>CDD shall provide all configuration parameters which are necessary to satisfy other AUTOSAR modules which rely on the information,</li><li>ä¾èµ–æ³¨å…¥</li></ul></li></ul><h3 id="interfacing-to-standard-bsw-modules"><a class="anchor" href="#interfacing-to-standard-bsw-modules">#</a> Interfacing to standard BSW modules</h3><p><strong>Interfacing with BSW Mode Manager &amp; ECU State Manager</strong></p><p>ECU State Manager should be used for:</p><ul><li>Init and De-Init functions shall be exclusively called by the EcuM and/or the BswM modules.</li><li>If a CDD handles a wakeup source, it must follow the protocol for handling wakeup events specified in the document [11] <em>Specification of ECU State Manager</em>.</li></ul><p>BSW Mode Manager should be used for:</p><ul><li>CDD modes changed management</li></ul><p><strong>Interfacing with Memory Stack</strong></p><p><strong>Interfacing with Watchdog Stack</strong></p><p><strong>Interfacing with Communication Stack</strong></p><p>Several access points are possible:</p><ul><li>It is possible to interface to the PDU Router module to handle IPDU.</li><li>It is possible to interface to the &lt;Bus&gt; Interface.</li><li>It is possible to interface to the NM module.</li><li>It is possible to interface the TcpIp module.</li><li>It is possible to directly interface to Com module as it is possible to have signal interface.</li></ul><p><strong>Interfacing with XCP module</strong></p><p><strong>Interfacing with Diagnostic Log and Trace</strong></p><p><strong>Interfacing with Default Error Tracer and Diagnostic Event Manager</strong></p><p><strong>Interfacing with OS</strong></p><p><strong>Interfacing with StbM module</strong></p><p><strong>CDD in multi-cores system</strong></p><p><strong>CDD module of the MCAL</strong></p><h1 id="standardtypes"><a class="anchor" href="#standardtypes">#</a> StandardTypes</h1><p>Type definitions</p><p><strong>Std_ReturnType</strong></p><p><strong>[SWS_Std_00005] Definition of datatype Std_ReturnType</strong></p><blockquote><p>Layout of the Std_ReturnType shall be as stated in the RTE specification. Bit 7 and Bit 8 are reserved and defined by the RTE specification.</p></blockquote><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240719145428961.png" alt="image-20240719145428961"></p><p>è¿”å›å€¼ç±»å‹ Std_ReturnType</p><p>ä¹Ÿå°±æ˜¯è¯´è¿™ä¸¤ä¸ªæ˜¯ RTE çš„å“¦</p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240803232835895.png" alt="image-20240803232835895"></p><h1 id="platformtypes"><a class="anchor" href="#platformtypes">#</a> PlatformTypes</h1><p><strong>Byte Ordering (Memory)</strong></p><p>Big Endian byte ordering å¤§ç«¯</p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240719141259118.png" alt="image-20240719141259118"></p><p>Little Endian byte ordering å°ç«¯</p><p><img data-src="../../../img.assets/24-07-14%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6%E4%B9%A0AutoSar%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%87%EF%BC%882%EF%BC%89BSWGeneral/image-20240719141331302.png" alt="image-20240719141331302"></p><h1 id="communicationstacktypes"><a class="anchor" href="#communicationstacktypes">#</a> CommunicationStackTypes</h1><h2 id="api-specification-type-definitions"><a class="anchor" href="#api-specification-type-definitions">#</a> API specification Type definitions</h2><ul><li><p>PduIdType</p><ul><li><strong>[SWS_COMTYPE_00005] Definition of datatype PduIdType</strong></li><li>This type is used within the entire AUTOSAR Com Stack except for bus drivers.</li></ul></li><li><p>PduLengthType</p><ul><li><strong>[SWS_COMTYPE_00008] Definition of datatype PduLengthType</strong></li><li>This type shall be used within the entire AUTOSAR Com Stack of an ECU except for bus drivers.</li></ul></li><li><p>PduInfoType</p><ul><li><strong>[SWS_COMTYPE_00011] Definition of datatype PduInfoType</strong></li><li>Variables of this type shall be used to store the basic information about a PDU of any type, namely a pointer variable pointing to its SDU (payload), a pointer to Meta Data of the PDU, and the corresponding length of the SDU in bytes.</li></ul></li><li><p>PNCHandleType</p><ul><li><strong>[SWS_COMTYPE_00036] Definition of datatype PNCHandleType</strong></li><li>Used to store the identifier of a partial network cluster.</li></ul></li><li><p>TPParameterType</p><ul><li><strong>[SWS_COMTYPE_00031] Definition of datatype TPParameterType</strong></li><li>Specify the parameter to which the value has to be changed (BS or STmin).</li></ul></li><li><p>BufReq_ReturnType</p><ul><li><strong>[SWS_COMTYPE_00012] Definition of datatype BufReq_ReturnType</strong></li><li>Variables of this type shall be used to store the result of a buffer request.</li></ul></li><li><p>TpDataStateType</p><ul><li><strong>[SWS_COMTYPE_00027] Definition of datatype TpDataStateType</strong></li><li>Variables of this type shall be used to store the state of TP buffer</li></ul></li><li><p>RetryInfoType</p><ul><li><strong>[SWS_COMTYPE_00037] Definition of datatype RetryInfoType</strong></li><li>Variables of this type shall be used to store the information about Tp buffer handling.</li></ul></li><li><p>NetworkHandleType</p><ul><li><strong>[SWS_COMTYPE_00037] Definition of datatype RetryInfoType</strong></li><li>Variables of this type shall be used to store the information about Tp buffer handling.</li></ul></li><li><p>CbkHandleIdType</p><ul><li><strong draft="">[SWS_COMTYPE_91001]</strong> <strong>Definition of datatype CbkHandleIdType</strong></li><li>Used for the handle Ids of Com and LdCom user callbacks.</li></ul></li><li><p>TimeTupleType</p><ul><li><p><strong draft="">[SWS_COMTYPE_91002]</strong> <strong>Definition of datatype TimeTupleType</strong></p></li><li><p>The Time Tuple represents the clock values of two related HW clocks</p><ul><li>the value of the clock used for timestamping of frame</li><li>and the corresponding value of the adjustable HW clock, derived by cross-timestamping</li></ul></li></ul></li><li><p>TimeStampType</p><ul><li><strong draft="">[SWS_COMTYPE_91003]</strong> <strong>Definition of datatype TimeStampType</strong></li></ul></li><li><p>TimeStampQualType</p><ul><li><strong draft="">[SWS_COMTYPE_91004]</strong> <strong>Definition of datatype TimeStampQualType</strong></li><li>Depending on the HW, quality information regarding the evaluated timestamp might be supported. If not supported, the value shall be always Valid. For Uncertain and Invalid values, the upper layer shall discard the time stamp.</li></ul></li><li><p>ListElemStructType</p><ul><li><strong draft="">[SWS_COMTYPE_91005]</strong> <strong>Definition of datatype ListElemStructType</strong></li></ul><p>åæ­£æ˜¯å¾ˆå¤šç±»å‹å“ˆå“ˆå“ˆ</p><p>ç»“æŸå•¦å®ï¼ç¡è§‰ğŸ›ï¸</p></li></ul><div class="tags"><a href="/tags/AUTOSAR/" rel="tag"><i class="ic i-tag"></i> AUTOSAR</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2024-09-22 10:34:00" itemprop="dateModified" datetime="2024-09-22T10:34:00+08:00">2024-09-22</time> </span><span id="archives/db4ff6ff.html" class="item leancloud_visitors" data-flag-title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral" title="é˜…è¯»æ¬¡æ•°"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">é˜…è¯»æ¬¡æ•°</span> <span class="leancloud-visitors-count"></span> <span class="text">æ¬¡</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="flechazo å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="flechazo æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt="flechazo è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>flechazo <i class="ic i-at"><em>@</em></i>æˆ‘åœ¨äººé—´è´©å–é»„æ˜ï¼Œåªä¸ºæ”¶é›†ä¸–é—´æ¸©æŸ”é‡è§ä½ .</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://flechazoclf.github.io/FlechazoCLF.github.io/archives/db4ff6ff.html" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral">https://flechazoclf.github.io/FlechazoCLF.github.io/archives/db4ff6ff.html</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/archives/962e9003.html" itemprop="url" rel="prev" data-background-image="/archives/962e9003.html../../../wallpaper/8.png" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ1ï¼‰General"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> AUTOSAR</span><h3>å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ1ï¼‰General</h3></a></div><div class="item right"><a href="/archives/38a44ca9.html" itemprop="url" rel="next" data-background-image="/archives/38a44ca9.html../../../wallpaper/6.png" title="åŒ»é™¢æ£€æŸ¥èº«ä½“å•å­è®°å½•"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> è‡ªæˆ‘æå‡</span><h3>åŒ»é™¢æ£€æŸ¥èº«ä½“å•å­è®°å½•</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E6%9F%B4%E5%B8%A6%E4%BD%A0%E5%AD%A6autosar%E7%B3%BB%E5%88%97%E4%B8%89-%E6%A0%87%E5%87%86%E5%92%8C%E8%A7%84%E8%8C%83%E7%AF%872bswgeneral"><span class="toc-number">1.</span> <span class="toc-text">å°æŸ´å¸¦ä½ å­¦ AutoSar ç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bswdistributionguide"><span class="toc-number">2.</span> <span class="toc-text">BSWDistributionGuide</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#bsw%E5%9C%A8autosar%E6%9E%B6%E6%9E%84%E4%B8%AD%E7%9A%84%E8%BF%99%E9%87%8C%E5%93%A6"><span class="toc-number">2.1.</span> <span class="toc-text">BSW åœ¨ AUTOSAR æ¶æ„ä¸­çš„è¿™é‡Œå“¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bsw-distribution-in-multi-core-systems"><span class="toc-number">2.2.</span> <span class="toc-text">BSW Distribution in Multi-Core Systems</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#parallel-execution-of-bsw-modules"><span class="toc-number">2.3.</span> <span class="toc-text">Parallel Execution of BSW modules</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#core-dependent-branching"><span class="toc-number">2.3.1.</span> <span class="toc-text">Core-Dependent Branching</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#using-shared-buffers-in-systems-without-memory-protection"><span class="toc-number">2.3.2.</span> <span class="toc-text">Using Shared Buffers (in systems without memory protection)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#concurrency-safe-implementation-of-modules"><span class="toc-number">2.3.3.</span> <span class="toc-text">Concurrency safe implementation of modules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kernel-based-master-satellite-realization"><span class="toc-number">2.3.4.</span> <span class="toc-text">Kernel based Master-Satellite Realization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#atomic-operations-library"><span class="toc-number">2.3.5.</span> <span class="toc-text">Atomic Operations Library</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#schm-interfaces-for-parallel-bsw-execution"><span class="toc-number">2.4.</span> <span class="toc-text">SchM Interfaces for Parallel BSW execution</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#configuration-of-basic-software-in-partitioned-systems"><span class="toc-number">2.5.</span> <span class="toc-text">Configuration of Basic Software in Partitioned Systems</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#task-mapping"><span class="toc-number">2.5.1.</span> <span class="toc-text">Task Mapping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#general-configuration-of-master-and-satellites"><span class="toc-number">2.5.2.</span> <span class="toc-text">General Configuration of Master and Satellites</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#configuring-the-bswm-per-partition"><span class="toc-number">2.5.3.</span> <span class="toc-text">Configuring the BswM (per Partition)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#configuring-the-ecum-per-core"><span class="toc-number">2.5.4.</span> <span class="toc-text">Configuring the EcuM (per Core)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mcal-distribution"><span class="toc-number">2.6.</span> <span class="toc-text">MCAL Distribution</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#introduction"><span class="toc-number">2.6.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#criteria"><span class="toc-number">2.6.2.</span> <span class="toc-text">Criteria</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#com-stack-distribution"><span class="toc-number">2.7.</span> <span class="toc-text">Com-Stack Distribution</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bsw-distribution-in-safety-systems"><span class="toc-number">2.8.</span> <span class="toc-text">BSW Distribution in Safety Systems</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bswgeneral"><span class="toc-number">3.</span> <span class="toc-text">BSWGeneral</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#requirements-specification"><span class="toc-number">3.1.</span> <span class="toc-text">Requirements Specification</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#functional-overview"><span class="toc-number">3.2.</span> <span class="toc-text">Functional Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#functional-requirements"><span class="toc-number">3.3.</span> <span class="toc-text">Functional Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#configuration"><span class="toc-number">3.3.1.</span> <span class="toc-text">Configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wake-up"><span class="toc-number">3.3.2.</span> <span class="toc-text">Wake-Up</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#initialization"><span class="toc-number">3.3.3.</span> <span class="toc-text">Initialization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#normal-operation"><span class="toc-number">3.3.4.</span> <span class="toc-text">Normal Operation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shutdown-operation"><span class="toc-number">3.3.5.</span> <span class="toc-text">Shutdown Operation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fault-operation-and-error-detection"><span class="toc-number">3.3.6.</span> <span class="toc-text">Fault Operation and Error Detection</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#non-functional-requirements-qualities"><span class="toc-number">3.4.</span> <span class="toc-text">Non-Functional Requirements (Qualities)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#software-architecture-requirements"><span class="toc-number">3.4.1.</span> <span class="toc-text">Software Architecture Requirements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#software-integration-requirements"><span class="toc-number">3.4.2.</span> <span class="toc-text">Software Integration Requirements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#software-module-design-requirements"><span class="toc-number">3.4.3.</span> <span class="toc-text">Software Module Design Requirements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#software-documentation-requirements"><span class="toc-number">3.4.4.</span> <span class="toc-text">Software Documentation Requirements</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#errordescription"><span class="toc-number">4.</span> <span class="toc-text">ErrorDescription</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#generic-mechanisms"><span class="toc-number">4.1.</span> <span class="toc-text">Generic Mechanisms</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#report-to-the-diagnostic-event-manager-dem"><span class="toc-number">4.1.1.</span> <span class="toc-text">Report to the Diagnostic Event Manager (DEM)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diagnostic-event-manager"><span class="toc-number">4.1.2.</span> <span class="toc-text">Diagnostic Event Manager</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#det"><span class="toc-number">4.1.3.</span> <span class="toc-text">DET</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#function-inhibition-manager"><span class="toc-number">4.1.4.</span> <span class="toc-text">Function Inhibition Manager</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rte"><span class="toc-number">4.1.5.</span> <span class="toc-text">RTE</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#communication-related-errors"><span class="toc-number">4.2.</span> <span class="toc-text">Communication related errors</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#overview"><span class="toc-number">4.2.1.</span> <span class="toc-text">Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#error-handling-mechanisms"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">Error handling mechanisms</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#error-list-for-can-stack"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">Error list for CAN stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mappings-of-eh-mechanisms-to-hardware-failure-modes"><span class="toc-number">4.2.1.3.</span> <span class="toc-text">Mappings of EH mechanisms to hardware failure modes</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#loss-of-communication-channel"><span class="toc-number">4.2.2.</span> <span class="toc-text">Loss of communication channel</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#can-bus-off"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">CAN Bus Off</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#summary"><span class="toc-number">4.2.2.1.1.</span> <span class="toc-text">Summary</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#roles-of-the-modules"><span class="toc-number">4.2.2.1.2.</span> <span class="toc-text">Roles of the modules</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#can-controller-hardware-timeout"><span class="toc-number">4.2.2.2.</span> <span class="toc-text">CAN Controller Hardware Timeout</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#roles-of-the-modules-2"><span class="toc-number">4.2.2.2.1.</span> <span class="toc-text">Roles of the modules</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#signal-error"><span class="toc-number">4.2.3.</span> <span class="toc-text">Signal error</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#can-transmission-buffer-full"><span class="toc-number">4.2.3.1.</span> <span class="toc-text">CAN Transmission buffer full</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#roles-of-the-modules-3"><span class="toc-number">4.2.3.1.1.</span> <span class="toc-text">Roles of the modules</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#can-reception-dlc-error"><span class="toc-number">4.2.3.2.</span> <span class="toc-text">CAN Reception DLC error</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#roles-of-the-modules-4"><span class="toc-number">4.2.3.2.1.</span> <span class="toc-text">Roles of the modules</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#com-rx-deadline-monitoring"><span class="toc-number">4.2.3.3.</span> <span class="toc-text">COM RX Deadline Monitoring</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#roles-of-the-modules-5"><span class="toc-number">4.2.3.3.1.</span> <span class="toc-text">Roles of the modules</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#can-transport-protocol-error-during-transmission"><span class="toc-number">4.2.3.4.</span> <span class="toc-text">CAN Transport Protocol error during transmission</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#can-transport-protocol-error-during-reception"><span class="toc-number">4.2.3.5.</span> <span class="toc-text">CAN Transport Protocol error during reception</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#client-server-timeout"><span class="toc-number">4.2.3.6.</span> <span class="toc-text">Client / Server timeout</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nvram-related-errors"><span class="toc-number">4.3.</span> <span class="toc-text">NVRAM related errors</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#overview-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#error-handling-mechanisms-2"><span class="toc-number">4.3.1.1.</span> <span class="toc-text">Error handling mechanisms</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#driver-level-errors"><span class="toc-number">4.3.2.</span> <span class="toc-text">Driver level errors</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#flash-write-job-error"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">Flash write job error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#flash-erase-job-error"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">Flash erase job error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#flash-read-job-error"><span class="toc-number">4.3.2.3.</span> <span class="toc-text">Flash read job error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#flash-compare-job-error"><span class="toc-number">4.3.2.4.</span> <span class="toc-text">Flash compare job error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#external-flash-hardware-id-mismatch"><span class="toc-number">4.3.2.5.</span> <span class="toc-text">External Flash Hardware ID Mismatch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#eeprom-write-job-error"><span class="toc-number">4.3.2.6.</span> <span class="toc-text">EEPROM write job error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#eeprom-erase-job-error"><span class="toc-number">4.3.2.7.</span> <span class="toc-text">EEPROM erase job error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#eeprom-read-job-error"><span class="toc-number">4.3.2.8.</span> <span class="toc-text">EEPROM read job error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#eeprom-compare-job-error"><span class="toc-number">4.3.2.9.</span> <span class="toc-text">EEPROM compare job error</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eeprom-abstraction-flash-emulation-level-errors"><span class="toc-number">4.3.3.</span> <span class="toc-text">EEPROM Abstraction / Flash Emulation level errors</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#fee-consistency-check-error"><span class="toc-number">4.3.3.1.</span> <span class="toc-text">FEE consistency check error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ea-consistency-check-error"><span class="toc-number">4.3.3.2.</span> <span class="toc-text">EA consistency check error</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nvram-manager-level-errors"><span class="toc-number">4.3.4.</span> <span class="toc-text">NVRAM manager level errors</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nvm-crc-check"><span class="toc-number">4.3.4.1.</span> <span class="toc-text">NVM CRC check</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nvm-write-verification-error"><span class="toc-number">4.3.4.2.</span> <span class="toc-text">NVM write verification error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#static-block-check-error"><span class="toc-number">4.3.4.3.</span> <span class="toc-text">Static block check error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#loss-of-redundancy"><span class="toc-number">4.3.4.4.</span> <span class="toc-text">Loss of redundancy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nvm-api-request-failure"><span class="toc-number">4.3.4.5.</span> <span class="toc-text">NVM API request failure</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#applicationlevelerrorhandling"><span class="toc-number">5.</span> <span class="toc-text">ApplicationLevelErrorHandling</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#error-model"><span class="toc-number">5.1.</span> <span class="toc-text">Error model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#error-handling-mechanisms-3"><span class="toc-number">5.2.</span> <span class="toc-text">Error handling mechanisms</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#terminating-and-restarting-partitions"><span class="toc-number">5.3.</span> <span class="toc-text">Terminating and restarting partitions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rationale-use-cases"><span class="toc-number">5.3.1.</span> <span class="toc-text">Rationale - Use Cases</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#use-case-1-software-partitioning-uc1"><span class="toc-number">5.3.1.1.</span> <span class="toc-text">Use Case 1: Software Partitioning [UC1]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#use-case-2-application-level-error-handling-uc2"><span class="toc-number">5.3.1.2.</span> <span class="toc-text">Use Case 2: Application-level Error Handling [UC2]</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#error-handling-of-distributed-automotive-applications"><span class="toc-number">5.3.1.2.1.</span> <span class="toc-text">Error handling of distributed automotive applications</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#oem-specific-error-handling"><span class="toc-number">5.3.1.2.2.</span> <span class="toc-text">OEM-specific error handling</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#application-level-error-managers"><span class="toc-number">5.3.1.2.3.</span> <span class="toc-text">Application-level Error Managers</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#approach-for-terminating-and-restarting-partitions"><span class="toc-number">5.3.2.</span> <span class="toc-text">Approach for Terminating and Restarting Partitions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#os-features"><span class="toc-number">5.3.2.1.</span> <span class="toc-text">OS features</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#support-for-use-cases"><span class="toc-number">5.3.2.2.</span> <span class="toc-text">Support for Use Cases</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#integrator-responsibility"><span class="toc-number">5.4.</span> <span class="toc-text">Integrator Responsibility</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cdddesignandintegrationguideline"><span class="toc-number">6.</span> <span class="toc-text">CDDDesignAndIntegrationGuideline</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#introduction-to-cdd"><span class="toc-number">6.1.</span> <span class="toc-text">Introduction to CDD</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cdd-design-recommendations"><span class="toc-number">6.2.</span> <span class="toc-text">CDD design recommendations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#documentations"><span class="toc-number">6.2.1.</span> <span class="toc-text">Documentations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#implementation"><span class="toc-number">6.2.2.</span> <span class="toc-text">Implementation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cdd-files"><span class="toc-number">6.2.3.</span> <span class="toc-text">CDD Files</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#behaviour-and-interfaces-description"><span class="toc-number">6.2.4.</span> <span class="toc-text">Behaviour and Interfaces description</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#interfacing-to-other-modules"><span class="toc-number">6.3.</span> <span class="toc-text">Interfacing to other modules</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#interfacing-to-standard-bsw-modules"><span class="toc-number">6.3.1.</span> <span class="toc-text">Interfacing to standard BSW modules</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#standardtypes"><span class="toc-number">7.</span> <span class="toc-text">StandardTypes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#platformtypes"><span class="toc-number">8.</span> <span class="toc-text">PlatformTypes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#communicationstacktypes"><span class="toc-number">9.</span> <span class="toc-text">CommunicationStackTypes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#api-specification-type-definitions"><span class="toc-number">9.1.</span> <span class="toc-text">API specification Type definitions</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/archives/dfcb5141.html" rel="bookmark" title="LDæ–‡ä»¶åœ¨AUTOSARå·¥ç¨‹ä¸­çš„ä½œç”¨å’Œè¯­æ³•è§£æ">LDæ–‡ä»¶åœ¨AUTOSARå·¥ç¨‹ä¸­çš„ä½œç”¨å’Œè¯­æ³•è§£æ</a></li><li><a href="/archives/cbed58a6.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•">å°æŸ´å¸¦ä½ å­¦AutoSaræ€»ç›®å½•</a></li><li><a href="/archives/b20010d9.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ1ï¼‰æ¦‚å¿µå’Œç›®æ ‡">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ1ï¼‰æ¦‚å¿µå’Œç›®æ ‡</a></li><li><a href="/archives/e0c2534f.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ5ï¼‰CommunicationManagement</a></li><li><a href="/archives/e8a5cc27.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ2ï¼‰AutoSaræ¶æ„">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ2ï¼‰AutoSaræ¶æ„</a></li><li><a href="/archives/e8bc299.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ5ï¼‰makefileåŸºç¡€">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ5ï¼‰makefileåŸºç¡€</a></li><li><a href="/archives/5e71c9a6.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ3ï¼‰Cè¯­è¨€åŸºç¡€">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ3ï¼‰Cè¯­è¨€åŸºç¡€</a></li><li><a href="/archives/7cac95ec.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ4ï¼‰ç¼–è¯‘">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ4ï¼‰ç¼–è¯‘</a></li><li><a href="/archives/3c7f112.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ6ï¼‰è½¦è§„çº§MCUå…¥é—¨RH850">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ6ï¼‰è½¦è§„çº§MCUå…¥é—¨RH850</a></li><li><a href="/archives/3f4a19e2.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ7ï¼‰æœ¯è¯­">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸€ã€åŸºç¡€çŸ¥è¯†ç¯‡ï¼ˆ7ï¼‰æœ¯è¯­</a></li><li><a href="/archives/962e9003.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ1ï¼‰General">å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ1ï¼‰General</a></li><li class="active"><a href="/archives/db4ff6ff.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral">å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ2ï¼‰BSWGeneral</a></li><li><a href="/archives/c9ca48bd.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ3ï¼‰ModeManagement">å°æŸ´å¸¦ä½ å­¦ä¹ AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ3ï¼‰ModeManagement</a></li><li><a href="/archives/fd244a42.html" rel="bookmark" title="å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ4ï¼‰RTE">å°æŸ´å¸¦ä½ å­¦AutoSarç³»åˆ—ä¸‰ã€æ ‡å‡†å’Œè§„èŒƒç¯‡ï¼ˆ4ï¼‰RTE</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="flechazo" data-src="/images/avatar.jpg"><p class="name" itemprop="name">flechazo</p><div class="description" itemprop="description">æˆ‘åœ¨äººé—´è´©å–æ˜Ÿå…‰</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">192</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">44</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">41</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0Fnb25pMzdD" title="https://github.com/Agoni37C"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9qaXVfc2hlbmc=" title="https://www.zhihu.com/people/jiu_sheng"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvcGxheWxpc3Q/aWQ9NzE3NTI4NzIwNQ==" title="https://music.163.com/#/playlist?id=7175287205"><i class="ic i-cloud-music"></i></span> <span class="exturl item weixin" data-url="aHR0cDovL21wLndlaXhpbi5xcS5jb20vbXAvaG9tZXBhZ2U/X19iaXo9TXpBeE9ETTJOVFEwTnc9PSZoaWQ9MiZzbj05ZThkZGVkOGU3MTgxYTA4YTA1MjFiOTQ2MjIyY2Q3MiZzY2VuZT0xOCN3ZWNoYXRfcmVkaXJlY3Q=" title="http://mp.weixin.qq.com/mp/homepage?__biz=MzAxODM2NTQ0Nw==&amp;hid=2&amp;sn=9e8dded8e7181a08a0521b946222cd72&amp;scene=18#wechat_redirect"><i class="ic i-address-card"></i></span> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vNDQxODc1ODQ0P3NwbV9pZF9mcm9tPTMzMy4xMDA3LjAuMA==" title="https://space.bilibili.com/441875844?spm_id_from=333.1007.0.0"><i class="ic i-bilibili"></i></span></div><ul class="menu"><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAwLw=="><i class="ic i-home"></i>é¦–é¡µ</span></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å°ä¼™ä¼´ä»¬</a></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAxLw=="><i class="ic i-magic"></i>å¯¼èˆªé¡µğŸš€</span></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>å°å¤©åœ°ğŸ¼</a><ul class="submenu"><li class="item"><a href="/broken-thoughts/" rel="section"><i class="ic i-heart"></i>ç¢ç¢å¿µ</a></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAyLw=="><i class="ic i-heart"></i>äº‘å°ğŸªç›˜</span></li><li class="item"><a href="/mypages/Videoparse/" rel="section"><i class="ic i-heart"></i>è§†é¢‘è§£æ</a></li><li class="item"><a href="/movies/" rel="section"><i class="ic i-heart"></i>å½±é›†</a></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDA5Lw=="><i class="ic i-heart"></i>æ¸¸æˆğŸ®å°ç«™</span></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDA2Lw=="><i class="ic i-heart"></i>åŠ¨æ„Ÿå¤©åœ°ğŸ¶</span></li><li class="item"><span class="exturl" data-url="aHR0cDovLzEyMS4zNy4xNi4zMDo4MDAzLw=="><i class="ic i-heart"></i>4kå£çº¸â„</span></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æœ‰è¶£å•é¡µ</a><ul class="submenu"><li class="item"><a href="/mypageslayout/barrage/" rel="section"><i class="ic i-list-alt"></i>å¼¹å¹•å¢™</a></li><li class="item"><a href="/mypages/crossing-the-cliff/" rel="section"><i class="ic i-th"></i>åœ£è¯è€äººè¿‡æ¡¥</a></li><li class="item"><a href="/mypages/eat/" rel="section"><i class="ic i-tags"></i>ä»Šå¤©åƒä»€ä¹ˆ</a></li><li class="item"><a href="/mypages/clock/" rel="section"><i class="ic i-list-alt"></i>å¥½çœ‹çš„é—¹é’Ÿ</a></li><li class="item"><a href="/mypages/QQpage/" rel="section"><i class="ic i-list-alt"></i>QQå±•ç¤ºé¡µ</a></li><li class="item"><a href="/mypages/jianli/" rel="section"><i class="ic i-th"></i>ç®€å†</a></li><li class="item"><a href="/mypages/love/" rel="section"><i class="ic i-tags"></i>æ‰§å­ä¹‹æ‰‹</a></li><li class="item"><a href="/mypages/tiangou/" rel="section"><i class="ic i-list-alt"></i>èˆ”ç‹—è¯­å½•</a></li><li class="item"><a href="/mypages/washing/" rel="section"><i class="ic i-th"></i>æ´—è¡£æœº</a></li><li class="item"><a href="/mypages/todolist/" rel="section"><i class="ic i-tags"></i>è¡ŒåŠ¨æ¸…å•</a></li><li class="item"><a href="/mypages/yindao2/" rel="section"><i class="ic i-list-alt"></i>å¼•å¯¼é¡µ</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/archives/962e9003.html" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/archives/38a44ca9.html" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/tools/" title="åˆ†ç±»äº å®ç”¨å°å·¥å…·">å®ç”¨å°å·¥å…·</a></div><span><a href="/archives/cf625652.html" title="â›„å¸¸ç”¨çš„è¶…çº§æ–¹ä¾¿çš„å·¥å…·â˜ƒ">â›„å¸¸ç”¨çš„è¶…çº§æ–¹ä¾¿çš„å·¥å…·â˜ƒ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/" title="åˆ†ç±»äº åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ">åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ</a></div><span><a href="/archives/c3251f5b.html" title="å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†">å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/" title="åˆ†ç±»äº åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ">åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ</a></div><span><a href="/archives/fb6a2cb8.html" title="å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—äºŒã€åµŒå…¥å¼ç³»ç»Ÿç¡¬ä»¶åŸºç¡€çŸ¥è¯†ï¼ˆ7ï¼‰åµŒå…¥å¼Soc">å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—äºŒã€åµŒå…¥å¼ç³»ç»Ÿç¡¬ä»¶åŸºç¡€çŸ¥è¯†ï¼ˆ7ï¼‰åµŒå…¥å¼Soc</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/QT/" title="åˆ†ç±»äº QT">QT</a></div><span><a href="/archives/85c52c40.html" title="ä¸²å£é€šä¿¡ä¸­çš„æ¥æ”¶ä¸å‘é€é˜Ÿåˆ—å¤„ç†å¤§æ•°æ®">ä¸²å£é€šä¿¡ä¸­çš„æ¥æ”¶ä¸å‘é€é˜Ÿåˆ—å¤„ç†å¤§æ•°æ®</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/blog/" title="åˆ†ç±»äº blogğŸŒ®">blogğŸŒ®</a> <i class="ic i-angle-right"></i> <a href="/categories/blog/hexo/" title="åˆ†ç±»äº hexo">hexo</a></div><span><a href="/archives/dfd13216.html" title="ğŸ¥šmarkdowné¡µå†…è·³è½¬ğŸ¥š">ğŸ¥šmarkdowné¡µå†…è·³è½¬ğŸ¥š</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/" title="åˆ†ç±»äº åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ">åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ</a></div><span><a href="/archives/ea275efd.html" title="å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸€ã€è®¡ç®—æœºç³»ç»ŸåŸºç¡€çŸ¥è¯†ï¼ˆ5ï¼‰è®¡ç®—æœºä½“ç³»ç»“æ„">å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸€ã€è®¡ç®—æœºç³»ç»ŸåŸºç¡€çŸ¥è¯†ï¼ˆ5ï¼‰è®¡ç®—æœºä½“ç³»ç»“æ„</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/" title="åˆ†ç±»äº åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ">åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆ</a></div><span><a href="/archives/c3251f5b.html" title="å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†">å°æŸ´å†²åˆºè½¯è€ƒä¸­çº§åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡å¸ˆç³»åˆ—ä¸‰ã€åµŒå…¥å¼ç¡¬ä»¶è®¾è®¡ï¼ˆ1ï¼‰åµŒå…¥å¼ç³»ç»Ÿç”µæºç®¡ç†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/english/" title="åˆ†ç±»äº english">english</a> <i class="ic i-angle-right"></i> <a href="/categories/english/%E6%81%8B%E6%81%8B%E6%9C%89%E8%AF%8D/" title="åˆ†ç±»äº æ‹æ‹æœ‰è¯">æ‹æ‹æœ‰è¯</a></div><span><a href="/archives/6b9688b3.html" title="ğŸ¥©æ‹æ‹æœ‰è¯-é«˜é¢‘æ ¸å¿ƒè¯-unit01">ğŸ¥©æ‹æ‹æœ‰è¯-é«˜é¢‘æ ¸å¿ƒè¯-unit01</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/GD32/" title="åˆ†ç±»äº GD32">GD32</a></div><span><a href="/archives/9b195eb4.html" title="ä¸€ä¸ªLedå‘¼å¸ç¯é©±åŠ¨">ä¸€ä¸ªLedå‘¼å¸ç¯é©±åŠ¨</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technique/" title="åˆ†ç±»äº æŠ€æœ¯æ•™ç¨‹ğŸƒ">æŠ€æœ¯æ•™ç¨‹ğŸƒ</a> <i class="ic i-angle-right"></i> <a href="/categories/technique/QT/" title="åˆ†ç±»äº QT">QT</a></div><span><a href="/archives/cd721bd1.html" title="QTsocketè¿æ¥">QTsocketè¿æ¥</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">Â© 2020 â€“ <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">flechazo @ flechazo</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">906k å­—</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">13:44</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> &amp; Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config="" type="text/javascript">var LOCAL={path:"archives/db4ff6ff.html",favicon:{show:"flechazo",hide:"(Â´Ğ”ï½€)å®¢å®˜åˆ«èµ°ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html><!-- rebuild by hrmmi -->